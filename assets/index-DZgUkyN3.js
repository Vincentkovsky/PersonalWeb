var J_=t=>{throw TypeError(t)};var Np=(t,e,n)=>e.has(t)||J_("Cannot "+n);var z=(t,e,n)=>(Np(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?J_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(Np(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),lt=(t,e,n)=>(Np(t,e,"access private method"),n);var Zc=(t,e,n,r)=>({set _(i){we(t,e,i,n)},get _(){return z(t,e,r)}});function yP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},hh={},_T={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),vP=Symbol.for("react.portal"),_P=Symbol.for("react.fragment"),wP=Symbol.for("react.strict_mode"),EP=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),TP=Symbol.for("react.context"),SP=Symbol.for("react.forward_ref"),bP=Symbol.for("react.suspense"),IP=Symbol.for("react.memo"),CP=Symbol.for("react.lazy"),ew=Symbol.iterator;function AP(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var wT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ET=Object.assign,xT={};function qa(t,e,n){this.props=t,this.context=e,this.refs=xT,this.updater=n||wT}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TT(){}TT.prototype=qa.prototype;function Ry(t,e,n){this.props=t,this.context=e,this.refs=xT,this.updater=n||wT}var Py=Ry.prototype=new TT;Py.constructor=Ry;ET(Py,qa.prototype);Py.isPureReactComponent=!0;var tw=Array.isArray,ST=Object.prototype.hasOwnProperty,Ny={current:null},bT={key:!0,ref:!0,__self:!0,__source:!0};function IT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ST.call(e,r)&&!bT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uc,type:t,key:s,ref:o,props:i,_owner:Ny.current}}function kP(t,e){return{$$typeof:uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===uc}function RP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nw=/\/+/g;function Op(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RP(""+t.key):e.toString(36)}function kd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uc:case vP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Op(o,0):r,tw(i)?(n="",t!=null&&(n=t.replace(nw,"$&/")+"/"),kd(i,e,n,"",function(c){return c})):i!=null&&(Oy(i)&&(i=kP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Op(s,a);o+=kd(s,e,n,l,i)}else if(l=AP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Op(s,a++),o+=kd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yc(t,e,n){if(t==null)return t;var r=[],i=0;return kd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function PP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Rd={transition:null},NP={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Ny};function CT(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Yc,forEach:function(t,e,n){Yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yc(t,function(){e++}),e},toArray:function(t){return Yc(t,function(e){return e})||[]},only:function(t){if(!Oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=qa;Ce.Fragment=_P;Ce.Profiler=EP;Ce.PureComponent=Ry;Ce.StrictMode=wP;Ce.Suspense=bP;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP;Ce.act=CT;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ET({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ST.call(e,l)&&!bT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:TP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xP,_context:t},t.Consumer=t};Ce.createElement=IT;Ce.createFactory=function(t){var e=IT.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:SP,render:t}};Ce.isValidElement=Oy;Ce.lazy=function(t){return{$$typeof:CP,_payload:{_status:-1,_result:t},_init:PP}};Ce.memo=function(t,e){return{$$typeof:IP,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};Ce.unstable_act=CT;Ce.useCallback=function(t,e){return un.current.useCallback(t,e)};Ce.useContext=function(t){return un.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return un.current.useEffect(t,e)};Ce.useId=function(){return un.current.useId()};Ce.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return un.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Ce.useRef=function(t){return un.current.useRef(t)};Ce.useState=function(t){return un.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return un.current.useTransition()};Ce.version="18.3.1";_T.exports=Ce;var b=_T.exports;const $e=yT(b),AT=yP({__proto__:null,default:$e},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP=b,DP=Symbol.for("react.element"),MP=Symbol.for("react.fragment"),LP=Object.prototype.hasOwnProperty,VP=OP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FP={key:!0,ref:!0,__self:!0,__source:!0};function kT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LP.call(e,r)&&!FP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DP,type:t,key:s,ref:o,props:i,_owner:VP.current}}hh.Fragment=MP;hh.jsx=kT;hh.jsxs=kT;vT.exports=hh;var w=vT.exports,Fm={},RT={exports:{}},Nn={},PT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var J=j.length;j.push($);e:for(;0<J;){var ne=J-1>>>1,he=j[ne];if(0<i(he,$))j[ne]=$,j[J]=he,J=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],J=j.pop();if(J!==$){j[0]=J;e:for(var ne=0,he=j.length,Se=he>>>1;ne<Se;){var Ze=2*(ne+1)-1,ft=j[Ze],vt=Ze+1,it=j[vt];if(0>i(ft,J))vt<he&&0>i(it,ft)?(j[ne]=it,j[vt]=J,ne=vt):(j[ne]=ft,j[Ze]=J,ne=Ze);else if(vt<he&&0>i(it,J))j[ne]=it,j[vt]=J,ne=vt;else break e}}return $}function i(j,$){var J=j.sortIndex-$.sortIndex;return J!==0?J:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,_=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function P(j){if(v=!1,C(j),!_)if(n(l)!==null)_=!0,X(D);else{var $=n(c);$!==null&&ue(P,$.startTime-j)}}function D(j,$){_=!1,v&&(v=!1,x(E),E=-1),g=!0;var J=p;try{for(C($),f=n(l);f!==null&&(!(f.expirationTime>$)||j&&!O());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,p=f.priorityLevel;var he=ne(f.expirationTime<=$);$=t.unstable_now(),typeof he=="function"?f.callback=he:f===n(l)&&r(l),C($)}else r(l);f=n(l)}if(f!==null)var Se=!0;else{var Ze=n(c);Ze!==null&&ue(P,Ze.startTime-$),Se=!1}return Se}finally{f=null,p=J,g=!1}}var L=!1,T=null,E=-1,S=5,R=-1;function O(){return!(t.unstable_now()-R<S)}function N(){if(T!==null){var j=t.unstable_now();R=j;var $=!0;try{$=T(!0,j)}finally{$?A():(L=!1,T=null)}}else L=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=N,A=function(){se.postMessage(null)}}else A=function(){I(N,0)};function X(j){T=j,L||(L=!0,A())}function ue(j,$){E=I(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,X(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var J=p;p=$;try{return j()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=p;p=j;try{return $()}finally{p=J}},t.unstable_scheduleCallback=function(j,$,J){var ne=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=J+he,j={id:d++,callback:$,priorityLevel:j,startTime:J,expirationTime:he,sortIndex:-1},J>ne?(j.sortIndex=J,e(c,j),n(l)===null&&j===n(c)&&(v?(x(E),E=-1):v=!0,ue(P,J-ne))):(j.sortIndex=he,e(l,j),_||g||(_=!0,X(D))),j},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(j){var $=p;return function(){var J=p;p=$;try{return j.apply(this,arguments)}finally{p=J}}}})(NT);PT.exports=NT;var jP=PT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=b,Pn=jP;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OT=new Set,hu={};function ho(t,e){Ia(t,e),Ia(t+"Capture",e)}function Ia(t,e){for(hu[t]=e,t=0;t<e.length;t++)OT.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,$P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},iw={};function zP(t){return jm.call(iw,t)?!0:jm.call(rw,t)?!1:$P.test(t)?iw[t]=!0:(rw[t]=!0,!1)}function BP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WP(t,e,n,r){if(e===null||typeof e>"u"||BP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dy=/[\-:]([a-z])/g;function My(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dy,My);Vt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dy,My);Vt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dy,My);Vt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ly(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WP(e,n,i,r)&&(n=null),r||i===null?zP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=UP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),DT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),jy=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),LT=Symbol.for("react.offscreen"),sw=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Dp;function Ll(t){if(Dp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dp=e&&e[1]||""}return`
`+Dp+t}var Mp=!1;function Lp(t,e){if(!t||Mp)return"";Mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ll(t):""}function HP(t){switch(t.tag){case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function Bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Bo:return"Portal";case Um:return"Profiler";case Vy:return"StrictMode";case $m:return"Suspense";case zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MT:return(t.displayName||"Context")+".Consumer";case DT:return(t._context.displayName||"Context")+".Provider";case Fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jy:return e=t.displayName||null,e!==null?e:Bm(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Bm(t(e))}catch{}}return null}function KP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bm(e);case 8:return e===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qP(t){var e=VT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jc(t){t._valueTracker||(t._valueTracker=qP(t))}function FT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wm(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jT(t,e){e=e.checked,e!=null&&Ly(t,"checked",e,!1)}function Hm(t,e){jT(t,e);var n=ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Km(t,e.type,n):e.hasOwnProperty("defaultValue")&&Km(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Km(t,e,n){(e!=="number"||rf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vl=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Vl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function UT(t,e){var n=ss(e.value),r=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $T(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$T(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ed,zT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GP=["Webkit","ms","Moz","O"];Object.keys(ql).forEach(function(t){GP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ql[e]=ql[t]})});function BT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ql.hasOwnProperty(t)&&ql[t]?(""+e).trim():e+"px"}function WT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=BT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QP=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(QP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=null;function Uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xm=null,ia=null,sa=null;function cw(t){if(t=fc(t)){if(typeof Xm!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=vh(e),Xm(t.stateNode,t.type,e))}}function HT(t){ia?sa?sa.push(t):sa=[t]:ia=t}function KT(){if(ia){var t=ia,e=sa;if(sa=ia=null,cw(t),e)for(t=0;t<e.length;t++)cw(e[t])}}function qT(t,e){return t(e)}function GT(){}var Vp=!1;function QT(t,e,n){if(Vp)return t(e,n);Vp=!0;try{return qT(t,e,n)}finally{Vp=!1,(ia!==null||sa!==null)&&(GT(),KT())}}function mu(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Jm=!1;if(si)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Jm=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Jm=!1}function ZP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Gl=!1,sf=null,of=!1,eg=null,YP={onError:function(t){Gl=!0,sf=t}};function XP(t,e,n,r,i,s,o,a,l){Gl=!1,sf=null,ZP.apply(YP,arguments)}function JP(t,e,n,r,i,s,o,a,l){if(XP.apply(this,arguments),Gl){if(Gl){var c=sf;Gl=!1,sf=null}else throw Error(Z(198));of||(of=!0,eg=c)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dw(t){if(po(t)!==t)throw Error(Z(188))}function eN(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dw(i),t;if(s===r)return dw(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function YT(t){return t=eN(t),t!==null?XT(t):null}function XT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XT(t);if(e!==null)return e;t=t.sibling}return null}var JT=Pn.unstable_scheduleCallback,fw=Pn.unstable_cancelCallback,tN=Pn.unstable_shouldYield,nN=Pn.unstable_requestPaint,ct=Pn.unstable_now,rN=Pn.unstable_getCurrentPriorityLevel,$y=Pn.unstable_ImmediatePriority,eS=Pn.unstable_UserBlockingPriority,af=Pn.unstable_NormalPriority,iN=Pn.unstable_LowPriority,tS=Pn.unstable_IdlePriority,ph=null,xr=null;function sN(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:lN,oN=Math.log,aN=Math.LN2;function lN(t){return t>>>=0,t===0?32:31-(oN(t)/aN|0)|0}var td=64,nd=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fl(a):(s&=o,s!==0&&(r=Fl(s)))}else o=n&~i,o!==0?r=Fl(o):s!==0&&(r=Fl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function uN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nS(){var t=td;return td<<=1,!(td&4194240)&&(td=64),t}function Fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function dN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function rS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iS,By,sS,oS,aS,ng=!1,rd=[],Gi=null,Qi=null,Zi=null,gu=new Map,yu=new Map,Ri=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hw(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(e.pointerId)}}function Sl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fc(e),e!==null&&By(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hN(t,e,n,r,i){switch(e){case"focusin":return Gi=Sl(Gi,t,e,n,r,i),!0;case"dragenter":return Qi=Sl(Qi,t,e,n,r,i),!0;case"mouseover":return Zi=Sl(Zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gu.set(s,Sl(gu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yu.set(s,Sl(yu.get(s)||null,t,e,n,r,i)),!0}return!1}function lS(t){var e=Os(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=ZT(n),e!==null){t.blockedOn=e,aS(t.priority,function(){sS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ym=r,n.target.dispatchEvent(r),Ym=null}else return e=fc(n),e!==null&&By(e),t.blockedOn=n,!1;e.shift()}return!0}function pw(t,e,n){Pd(t)&&n.delete(e)}function pN(){ng=!1,Gi!==null&&Pd(Gi)&&(Gi=null),Qi!==null&&Pd(Qi)&&(Qi=null),Zi!==null&&Pd(Zi)&&(Zi=null),gu.forEach(pw),yu.forEach(pw)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,pN)))}function vu(t){function e(i){return bl(i,t)}if(0<rd.length){bl(rd[0],t);for(var n=1;n<rd.length;n++){var r=rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gi!==null&&bl(Gi,t),Qi!==null&&bl(Qi,t),Zi!==null&&bl(Zi,t),gu.forEach(e),yu.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)lS(n),n.blockedOn===null&&Ri.shift()}var oa=yi.ReactCurrentBatchConfig,uf=!0;function mN(t,e,n,r){var i=Ve,s=oa.transition;oa.transition=null;try{Ve=1,Wy(t,e,n,r)}finally{Ve=i,oa.transition=s}}function gN(t,e,n,r){var i=Ve,s=oa.transition;oa.transition=null;try{Ve=4,Wy(t,e,n,r)}finally{Ve=i,oa.transition=s}}function Wy(t,e,n,r){if(uf){var i=rg(t,e,n,r);if(i===null)Gp(t,e,r,cf,n),hw(t,r);else if(hN(i,t,e,n,r))r.stopPropagation();else if(hw(t,r),e&4&&-1<fN.indexOf(t)){for(;i!==null;){var s=fc(i);if(s!==null&&iS(s),s=rg(t,e,n,r),s===null&&Gp(t,e,r,cf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gp(t,e,r,null,n)}}var cf=null;function rg(t,e,n,r){if(cf=null,t=Uy(r),t=Os(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function uS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rN()){case $y:return 1;case eS:return 4;case af:case iN:return 16;case tS:return 536870912;default:return 16}default:return 16}}var Wi=null,Hy=null,Nd=null;function cS(){if(Nd)return Nd;var t,e=Hy,n=e.length,r,i="value"in Wi?Wi.value:Wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nd=i.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function id(){return!0}function mw(){return!1}function On(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?id:mw,this.isPropagationStopped=mw,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=On(Ga),dc=tt({},Ga,{view:0,detail:0}),yN=On(dc),jp,Up,Il,mh=tt({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(jp=t.screenX-Il.screenX,Up=t.screenY-Il.screenY):Up=jp=0,Il=t),jp)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),gw=On(mh),vN=tt({},mh,{dataTransfer:0}),_N=On(vN),wN=tt({},dc,{relatedTarget:0}),$p=On(wN),EN=tt({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=On(EN),TN=tt({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SN=On(TN),bN=tt({},Ga,{data:0}),yw=On(bN),IN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AN[t])?!!e[t]:!1}function qy(){return kN}var RN=tt({},dc,{key:function(t){if(t.key){var e=IN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PN=On(RN),NN=tt({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=On(NN),ON=tt({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),DN=On(ON),MN=tt({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),LN=On(MN),VN=tt({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FN=On(VN),jN=[9,13,27,32],Gy=si&&"CompositionEvent"in window,Ql=null;si&&"documentMode"in document&&(Ql=document.documentMode);var UN=si&&"TextEvent"in window&&!Ql,dS=si&&(!Gy||Ql&&8<Ql&&11>=Ql),_w=" ",ww=!1;function fS(t,e){switch(t){case"keyup":return jN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function $N(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(ww=!0,_w);case"textInput":return t=e.data,t===_w&&ww?null:t;default:return null}}function zN(t,e){if(Ho)return t==="compositionend"||!Gy&&fS(t,e)?(t=cS(),Nd=Hy=Wi=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dS&&e.locale!=="ko"?null:e.data;default:return null}}var BN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BN[t.type]:e==="textarea"}function pS(t,e,n,r){HT(r),e=df(e,"onChange"),0<e.length&&(n=new Ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zl=null,_u=null;function WN(t){bS(t,0)}function gh(t){var e=Go(t);if(FT(e))return t}function HN(t,e){if(t==="change")return e}var mS=!1;if(si){var zp;if(si){var Bp="oninput"in document;if(!Bp){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),Bp=typeof xw.oninput=="function"}zp=Bp}else zp=!1;mS=zp&&(!document.documentMode||9<document.documentMode)}function Tw(){Zl&&(Zl.detachEvent("onpropertychange",gS),_u=Zl=null)}function gS(t){if(t.propertyName==="value"&&gh(_u)){var e=[];pS(e,_u,t,Uy(t)),QT(WN,e)}}function KN(t,e,n){t==="focusin"?(Tw(),Zl=e,_u=n,Zl.attachEvent("onpropertychange",gS)):t==="focusout"&&Tw()}function qN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(_u)}function GN(t,e){if(t==="click")return gh(e)}function QN(t,e){if(t==="input"||t==="change")return gh(e)}function ZN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:ZN;function wu(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jm.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function Sw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bw(t,e){var n=Sw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sw(n)}}function yS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vS(){for(var t=window,e=rf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rf(t.document)}return e}function Qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YN(t){var e=vS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yS(n.ownerDocument.documentElement,n)){if(r!==null&&Qy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bw(n,s);var o=bw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XN=si&&"documentMode"in document&&11>=document.documentMode,Ko=null,ig=null,Yl=null,sg=!1;function Iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sg||Ko==null||Ko!==rf(r)||(r=Ko,"selectionStart"in r&&Qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yl&&wu(Yl,r)||(Yl=r,r=df(ig,"onSelect"),0<r.length&&(e=new Ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},Wp={},_S={};si&&(_S=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function yh(t){if(Wp[t])return Wp[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _S)return Wp[t]=e[n];return t}var wS=yh("animationend"),ES=yh("animationiteration"),xS=yh("animationstart"),TS=yh("transitionend"),SS=new Map,Cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){SS.set(t,e),ho(e,[t])}for(var Hp=0;Hp<Cw.length;Hp++){var Kp=Cw[Hp],JN=Kp.toLowerCase(),eO=Kp[0].toUpperCase()+Kp.slice(1);vs(JN,"on"+eO)}vs(wS,"onAnimationEnd");vs(ES,"onAnimationIteration");vs(xS,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(TS,"onTransitionEnd");Ia("onMouseEnter",["mouseout","mouseover"]);Ia("onMouseLeave",["mouseout","mouseover"]);Ia("onPointerEnter",["pointerout","pointerover"]);Ia("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tO=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function Aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JP(r,e,void 0,t),t.currentTarget=null}function bS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Aw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Aw(i,a,c),s=l}}}if(of)throw t=eg,of=!1,eg=null,t}function Ke(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(IS(e,t,2,!1),n.add(r))}function qp(t,e,n){var r=0;e&&(r|=4),IS(n,t,r,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[od]){t[od]=!0,OT.forEach(function(n){n!=="selectionchange"&&(tO.has(n)||qp(n,!1,t),qp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,qp("selectionchange",!1,e))}}function IS(t,e,n,r){switch(uS(e)){case 1:var i=mN;break;case 4:i=gN;break;default:i=Wy}n=i.bind(null,e,n,t),i=void 0,!Jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Os(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QT(function(){var c=s,d=Uy(n),f=[];e:{var p=SS.get(t);if(p!==void 0){var g=Ky,_=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":g=PN;break;case"focusin":_="focus",g=$p;break;case"focusout":_="blur",g=$p;break;case"beforeblur":case"afterblur":g=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=DN;break;case wS:case ES:case xS:g=xN;break;case TS:g=LN;break;case"scroll":g=yN;break;case"wheel":g=FN;break;case"copy":case"cut":case"paste":g=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vw}var v=(e&4)!==0,I=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,C;y!==null;){C=y;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,x!==null&&(P=mu(y,x),P!=null&&v.push(xu(y,P,C)))),I)break;y=y.return}0<v.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ym&&(_=n.relatedTarget||n.fromElement)&&(Os(_)||_[oi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Os(_):null,_!==null&&(I=po(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(v=gw,P="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=vw,P="onPointerLeave",x="onPointerEnter",y="pointer"),I=g==null?p:Go(g),C=_==null?p:Go(_),p=new v(P,y+"leave",g,n,d),p.target=I,p.relatedTarget=C,P=null,Os(d)===c&&(v=new v(x,y+"enter",_,n,d),v.target=C,v.relatedTarget=I,P=v),I=P,g&&_)t:{for(v=g,x=_,y=0,C=v;C;C=Po(C))y++;for(C=0,P=x;P;P=Po(P))C++;for(;0<y-C;)v=Po(v),y--;for(;0<C-y;)x=Po(x),C--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Po(v),x=Po(x)}v=null}else v=null;g!==null&&kw(f,p,g,v,!1),_!==null&&I!==null&&kw(f,I,_,v,!0)}}e:{if(p=c?Go(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=HN;else if(Ew(p))if(mS)D=QN;else{D=qN;var L=KN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=GN);if(D&&(D=D(t,c))){pS(f,D,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Km(p,"number",p.value)}switch(L=c?Go(c):window,t){case"focusin":(Ew(L)||L.contentEditable==="true")&&(Ko=L,ig=c,Yl=null);break;case"focusout":Yl=ig=Ko=null;break;case"mousedown":sg=!0;break;case"contextmenu":case"mouseup":case"dragend":sg=!1,Iw(f,n,d);break;case"selectionchange":if(XN)break;case"keydown":case"keyup":Iw(f,n,d)}var T;if(Gy)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ho?fS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dS&&n.locale!=="ko"&&(Ho||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ho&&(T=cS()):(Wi=d,Hy="value"in Wi?Wi.value:Wi.textContent,Ho=!0)),L=df(c,E),0<L.length&&(E=new yw(E,t,null,n,d),f.push({event:E,listeners:L}),T?E.data=T:(T=hS(n),T!==null&&(E.data=T)))),(T=UN?$N(t,n):zN(t,n))&&(c=df(c,"onBeforeInput"),0<c.length&&(d=new yw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}bS(f,e)})}function xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mu(t,n),s!=null&&r.unshift(xu(t,s,i)),s=mu(t,e),s!=null&&r.push(xu(t,s,i))),t=t.return}return r}function Po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=mu(n,s),l!=null&&o.unshift(xu(n,l,a))):i||(l=mu(n,s),l!=null&&o.push(xu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nO=/\r\n?/g,rO=/\u0000|\uFFFD/g;function Rw(t){return(typeof t=="string"?t:""+t).replace(nO,`
`).replace(rO,"")}function ad(t,e,n){if(e=Rw(e),Rw(t)!==e&&n)throw Error(Z(425))}function ff(){}var og=null,ag=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,iO=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,sO=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(t){return Pw.resolve(null).then(t).catch(oO)}:ug;function oO(t){setTimeout(function(){throw t})}function Qp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vu(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),vr="__reactFiber$"+Qa,Tu="__reactProps$"+Qa,oi="__reactContainer$"+Qa,cg="__reactEvents$"+Qa,aO="__reactListeners$"+Qa,lO="__reactHandles$"+Qa;function Os(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nw(t);t!==null;){if(n=t[vr])return n;t=Nw(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[vr]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function vh(t){return t[Tu]||null}var dg=[],Qo=-1;function _s(t){return{current:t}}function Ge(t){0>Qo||(t.current=dg[Qo],dg[Qo]=null,Qo--)}function Be(t,e){Qo++,dg[Qo]=t.current,t.current=e}var os={},Zt=_s(os),gn=_s(!1),Zs=os;function Ca(t,e){var n=t.type.contextTypes;if(!n)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function hf(){Ge(gn),Ge(Zt)}function Ow(t,e,n){if(Zt.current!==os)throw Error(Z(168));Be(Zt,e),Be(gn,n)}function CS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,KP(t)||"Unknown",i));return tt({},n,r)}function pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,Zs=Zt.current,Be(Zt,t),Be(gn,gn.current),!0}function Dw(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=CS(t,e,Zs),r.__reactInternalMemoizedMergedChildContext=t,Ge(gn),Ge(Zt),Be(Zt,t)):Ge(gn),Be(gn,n)}var Gr=null,_h=!1,Zp=!1;function AS(t){Gr===null?Gr=[t]:Gr.push(t)}function uO(t){_h=!0,AS(t)}function ws(){if(!Zp&&Gr!==null){Zp=!0;var t=0,e=Ve;try{var n=Gr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,_h=!1}catch(i){throw Gr!==null&&(Gr=Gr.slice(t+1)),JT($y,ws),i}finally{Ve=e,Zp=!1}}return null}var Zo=[],Yo=0,mf=null,gf=0,Mn=[],Ln=0,Ys=null,Yr=1,Xr="";function Rs(t,e){Zo[Yo++]=gf,Zo[Yo++]=mf,mf=t,gf=e}function kS(t,e,n){Mn[Ln++]=Yr,Mn[Ln++]=Xr,Mn[Ln++]=Ys,Ys=t;var r=Yr;t=Xr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-tr(e)+i|n<<i|r,Xr=s+t}else Yr=1<<s|n<<i|r,Xr=t}function Zy(t){t.return!==null&&(Rs(t,1),kS(t,1,0))}function Yy(t){for(;t===mf;)mf=Zo[--Yo],Zo[Yo]=null,gf=Zo[--Yo],Zo[Yo]=null;for(;t===Ys;)Ys=Mn[--Ln],Mn[Ln]=null,Xr=Mn[--Ln],Mn[Ln]=null,Yr=Mn[--Ln],Mn[Ln]=null}var Cn=null,bn=null,Qe=!1,Yn=null;function RS(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,bn=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:Yr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,bn=null,!0):!1;default:return!1}}function fg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if(Qe){var e=bn;if(e){var n=e;if(!Mw(t,e)){if(fg(t))throw Error(Z(418));e=Yi(n.nextSibling);var r=Cn;e&&Mw(t,e)?RS(r,n):(t.flags=t.flags&-4097|2,Qe=!1,Cn=t)}}else{if(fg(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Qe=!1,Cn=t}}}function Lw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function ld(t){if(t!==Cn)return!1;if(!Qe)return Lw(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=bn)){if(fg(t))throw PS(),Error(Z(418));for(;e;)RS(t,e),e=Yi(e.nextSibling)}if(Lw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Cn?Yi(t.stateNode.nextSibling):null;return!0}function PS(){for(var t=bn;t;)t=Yi(t.nextSibling)}function Aa(){bn=Cn=null,Qe=!1}function Xy(t){Yn===null?Yn=[t]:Yn.push(t)}var cO=yi.ReactCurrentBatchConfig;function Cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function ud(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vw(t){var e=t._init;return e(t._payload)}function NS(t){function e(x,y){if(t){var C=x.deletions;C===null?(x.deletions=[y],x.flags|=16):C.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ts(x,y),x.index=0,x.sibling=null,x}function s(x,y,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<y?(x.flags|=2,y):C):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,C,P){return y===null||y.tag!==6?(y=rm(C,x.mode,P),y.return=x,y):(y=i(y,C),y.return=x,y)}function l(x,y,C,P){var D=C.type;return D===Wo?d(x,y,C.props.children,P,C.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ai&&Vw(D)===y.type)?(P=i(y,C.props),P.ref=Cl(x,y,C),P.return=x,P):(P=Ud(C.type,C.key,C.props,null,x.mode,P),P.ref=Cl(x,y,C),P.return=x,P)}function c(x,y,C,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=im(C,x.mode,P),y.return=x,y):(y=i(y,C.children||[]),y.return=x,y)}function d(x,y,C,P,D){return y===null||y.tag!==7?(y=Ws(C,x.mode,P,D),y.return=x,y):(y=i(y,C),y.return=x,y)}function f(x,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rm(""+y,x.mode,C),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xc:return C=Ud(y.type,y.key,y.props,null,x.mode,C),C.ref=Cl(x,null,y),C.return=x,C;case Bo:return y=im(y,x.mode,C),y.return=x,y;case Ai:var P=y._init;return f(x,P(y._payload),C)}if(Vl(y)||xl(y))return y=Ws(y,x.mode,C,null),y.return=x,y;ud(x,y)}return null}function p(x,y,C,P){var D=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:a(x,y,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xc:return C.key===D?l(x,y,C,P):null;case Bo:return C.key===D?c(x,y,C,P):null;case Ai:return D=C._init,p(x,y,D(C._payload),P)}if(Vl(C)||xl(C))return D!==null?null:d(x,y,C,P,null);ud(x,C)}return null}function g(x,y,C,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(C)||null,a(y,x,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xc:return x=x.get(P.key===null?C:P.key)||null,l(y,x,P,D);case Bo:return x=x.get(P.key===null?C:P.key)||null,c(y,x,P,D);case Ai:var L=P._init;return g(x,y,C,L(P._payload),D)}if(Vl(P)||xl(P))return x=x.get(C)||null,d(y,x,P,D,null);ud(y,P)}return null}function _(x,y,C,P){for(var D=null,L=null,T=y,E=y=0,S=null;T!==null&&E<C.length;E++){T.index>E?(S=T,T=null):S=T.sibling;var R=p(x,T,C[E],P);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(x,T),y=s(R,y,E),L===null?D=R:L.sibling=R,L=R,T=S}if(E===C.length)return n(x,T),Qe&&Rs(x,E),D;if(T===null){for(;E<C.length;E++)T=f(x,C[E],P),T!==null&&(y=s(T,y,E),L===null?D=T:L.sibling=T,L=T);return Qe&&Rs(x,E),D}for(T=r(x,T);E<C.length;E++)S=g(T,x,E,C[E],P),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?E:S.key),y=s(S,y,E),L===null?D=S:L.sibling=S,L=S);return t&&T.forEach(function(O){return e(x,O)}),Qe&&Rs(x,E),D}function v(x,y,C,P){var D=xl(C);if(typeof D!="function")throw Error(Z(150));if(C=D.call(C),C==null)throw Error(Z(151));for(var L=D=null,T=y,E=y=0,S=null,R=C.next();T!==null&&!R.done;E++,R=C.next()){T.index>E?(S=T,T=null):S=T.sibling;var O=p(x,T,R.value,P);if(O===null){T===null&&(T=S);break}t&&T&&O.alternate===null&&e(x,T),y=s(O,y,E),L===null?D=O:L.sibling=O,L=O,T=S}if(R.done)return n(x,T),Qe&&Rs(x,E),D;if(T===null){for(;!R.done;E++,R=C.next())R=f(x,R.value,P),R!==null&&(y=s(R,y,E),L===null?D=R:L.sibling=R,L=R);return Qe&&Rs(x,E),D}for(T=r(x,T);!R.done;E++,R=C.next())R=g(T,x,E,R.value,P),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?E:R.key),y=s(R,y,E),L===null?D=R:L.sibling=R,L=R);return t&&T.forEach(function(N){return e(x,N)}),Qe&&Rs(x,E),D}function I(x,y,C,P){if(typeof C=="object"&&C!==null&&C.type===Wo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Xc:e:{for(var D=C.key,L=y;L!==null;){if(L.key===D){if(D=C.type,D===Wo){if(L.tag===7){n(x,L.sibling),y=i(L,C.props.children),y.return=x,x=y;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ai&&Vw(D)===L.type){n(x,L.sibling),y=i(L,C.props),y.ref=Cl(x,L,C),y.return=x,x=y;break e}n(x,L);break}else e(x,L);L=L.sibling}C.type===Wo?(y=Ws(C.props.children,x.mode,P,C.key),y.return=x,x=y):(P=Ud(C.type,C.key,C.props,null,x.mode,P),P.ref=Cl(x,y,C),P.return=x,x=P)}return o(x);case Bo:e:{for(L=C.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(x,y.sibling),y=i(y,C.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=im(C,x.mode,P),y.return=x,x=y}return o(x);case Ai:return L=C._init,I(x,y,L(C._payload),P)}if(Vl(C))return _(x,y,C,P);if(xl(C))return v(x,y,C,P);ud(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,C),y.return=x,x=y):(n(x,y),y=rm(C,x.mode,P),y.return=x,x=y),o(x)):n(x,y)}return I}var ka=NS(!0),OS=NS(!1),yf=_s(null),vf=null,Xo=null,Jy=null;function ev(){Jy=Xo=vf=null}function tv(t){var e=yf.current;Ge(yf),t._currentValue=e}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function aa(t,e){vf=t,Jy=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(Jy!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(vf===null)throw Error(Z(308));Xo=t,vf.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var Ds=null;function nv(t){Ds===null?Ds=[t]:Ds.push(t)}function DS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function rv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,nv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}function Fw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _f(t,e,n,r){var i=t.updateQueue;ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(p=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=tt({},f,p);break e;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=f}}function jw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var hc={},Tr=_s(hc),Su=_s(hc),bu=_s(hc);function Ms(t){if(t===hc)throw Error(Z(174));return t}function iv(t,e){switch(Be(bu,e),Be(Su,t),Be(Tr,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gm(e,t)}Ge(Tr),Be(Tr,e)}function Ra(){Ge(Tr),Ge(Su),Ge(bu)}function LS(t){Ms(bu.current);var e=Ms(Tr.current),n=Gm(e,t.type);e!==n&&(Be(Su,t),Be(Tr,n))}function sv(t){Su.current===t&&(Ge(Tr),Ge(Su))}var Je=_s(0);function wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yp=[];function ov(){for(var t=0;t<Yp.length;t++)Yp[t]._workInProgressVersionPrimary=null;Yp.length=0}var Md=yi.ReactCurrentDispatcher,Xp=yi.ReactCurrentBatchConfig,Xs=0,et=null,wt=null,bt=null,Ef=!1,Xl=!1,Iu=0,dO=0;function zt(){throw Error(Z(321))}function av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function lv(t,e,n,r,i,s){if(Xs=s,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?mO:gO,t=n(r,i),Xl){s=0;do{if(Xl=!1,Iu=0,25<=s)throw Error(Z(301));s+=1,bt=wt=null,e.updateQueue=null,Md.current=yO,t=n(r,i)}while(Xl)}if(Md.current=xf,e=wt!==null&&wt.next!==null,Xs=0,bt=wt=et=null,Ef=!1,e)throw Error(Z(300));return t}function uv(){var t=Iu!==0;return Iu=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?et.memoizedState=bt=t:bt=bt.next=t,bt}function zn(){if(wt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var e=bt===null?et.memoizedState:bt.next;if(e!==null)bt=e,wt=t;else{if(t===null)throw Error(Z(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},bt===null?et.memoizedState=bt=t:bt=bt.next=t}return bt}function Cu(t,e){return typeof e=="function"?e(t):e}function Jp(t){var e=zn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Xs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,et.lanes|=d,Js|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,et.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function em(t){var e=zn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sr(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VS(){}function FS(t,e){var n=et,r=zn(),i=e(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,cv($S.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Au(9,US.bind(null,n,r,i,e),void 0,null),It===null)throw Error(Z(349));Xs&30||jS(n,e,i)}return i}function jS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function US(t,e,n,r){e.value=n,e.getSnapshot=r,zS(e)&&BS(t)}function $S(t,e,n){return n(function(){zS(e)&&BS(t)})}function zS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function BS(t){var e=ai(t,1);e!==null&&nr(e,t,1,-1)}function Uw(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:t},e.queue=t,t=t.dispatch=pO.bind(null,et,t),[e.memoizedState,t]}function Au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WS(){return zn().memoizedState}function Ld(t,e,n,r){var i=hr();et.flags|=t,i.memoizedState=Au(1|e,n,void 0,r===void 0?null:r)}function wh(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(wt!==null){var o=wt.memoizedState;if(s=o.destroy,r!==null&&av(r,o.deps)){i.memoizedState=Au(e,n,s,r);return}}et.flags|=t,i.memoizedState=Au(1|e,n,s,r)}function $w(t,e){return Ld(8390656,8,t,e)}function cv(t,e){return wh(2048,8,t,e)}function HS(t,e){return wh(4,2,t,e)}function KS(t,e){return wh(4,4,t,e)}function qS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GS(t,e,n){return n=n!=null?n.concat([t]):null,wh(4,4,qS.bind(null,e,t),n)}function dv(){}function QS(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZS(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YS(t,e,n){return Xs&21?(sr(n,e)||(n=nS(),et.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function fO(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Xp.transition;Xp.transition={};try{t(!1),e()}finally{Ve=n,Xp.transition=r}}function XS(){return zn().memoizedState}function hO(t,e,n){var r=es(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JS(t))eb(e,n);else if(n=DS(t,e,n,r),n!==null){var i=sn();nr(n,t,r,i),tb(n,e,r)}}function pO(t,e,n){var r=es(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JS(t))eb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(i.next=i,nv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DS(t,e,i,r),n!==null&&(i=sn(),nr(n,t,r,i),tb(n,e,r))}}function JS(t){var e=t.alternate;return t===et||e!==null&&e===et}function eb(t,e){Xl=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zy(t,n)}}var xf={readContext:$n,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},mO={readContext:$n,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:$w,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ld(4194308,4,qS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ld(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hO.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:Uw,useDebugValue:dv,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=Uw(!1),e=t[0];return t=fO.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=hr();if(Qe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),It===null)throw Error(Z(349));Xs&30||jS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$w($S.bind(null,r,s,t),[t]),r.flags|=2048,Au(9,US.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=hr(),e=It.identifierPrefix;if(Qe){var n=Xr,r=Yr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gO={readContext:$n,useCallback:QS,useContext:$n,useEffect:cv,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:ZS,useReducer:Jp,useRef:WS,useState:function(){return Jp(Cu)},useDebugValue:dv,useDeferredValue:function(t){var e=zn();return YS(e,wt.memoizedState,t)},useTransition:function(){var t=Jp(Cu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:VS,useSyncExternalStore:FS,useId:XS,unstable_isNewReconciler:!1},yO={readContext:$n,useCallback:QS,useContext:$n,useEffect:cv,useImperativeHandle:GS,useInsertionEffect:HS,useLayoutEffect:KS,useMemo:ZS,useReducer:em,useRef:WS,useState:function(){return em(Cu)},useDebugValue:dv,useDeferredValue:function(t){var e=zn();return wt===null?e.memoizedState=t:YS(e,wt.memoizedState,t)},useTransition:function(){var t=em(Cu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:VS,useSyncExternalStore:FS,useId:XS,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=es(t),s=ni(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(nr(e,t,i,r),Dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=es(t),s=ni(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(nr(e,t,i,r),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=es(t),i=ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(nr(e,t,r,n),Dd(e,t,r))}};function zw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wu(n,r)||!wu(i,s):!0}function nb(t,e,n){var r=!1,i=os,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=yn(e)?Zs:Zt.current,r=e.contextTypes,s=(r=r!=null)?Ca(t,i):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=yn(e)?Zs:Zt.current,i.context=Ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),_f(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=HP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vO=typeof WeakMap=="function"?WeakMap:Map;function rb(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sf||(Sf=!0,Cg=r),yg(t,e)},n}function ib(t,e,n){n=ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yg(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ww(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NO.bind(null,t,e,n),e.then(t,t))}function Hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var _O=yi.ReactCurrentOwner,mn=!1;function nn(t,e,n,r){e.child=t===null?OS(e,null,n,r):ka(e,t.child,n,r)}function qw(t,e,n,r,i){n=n.render;var s=e.ref;return aa(e,i),r=lv(t,e,n,r,s,i),n=uv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(Qe&&n&&Zy(e),e.flags|=1,nn(t,e,r,i),e.child)}function Gw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_v(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sb(t,e,s,r,i)):(t=Ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wu,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=ts(s,r),t.ref=e.ref,t.return=e,e.child=t}function sb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wu(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,li(t,e,i)}return vg(t,e,n,r,i)}function ob(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ea,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ea,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(ea,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(ea,Tn),Tn|=r;return nn(t,e,i,n),e.child}function ab(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vg(t,e,n,r,i){var s=yn(n)?Zs:Zt.current;return s=Ca(e,s),aa(e,i),n=lv(t,e,n,r,s,i),r=uv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(Qe&&r&&Zy(e),e.flags|=1,nn(t,e,n,i),e.child)}function Qw(t,e,n,r,i){if(yn(n)){var s=!0;pf(e)}else s=!1;if(aa(e,i),e.stateNode===null)Vd(t,e),nb(e,n,r),gg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=yn(n)?Zs:Zt.current,c=Ca(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bw(e,o,r,c),ki=!1;var p=e.memoizedState;o.state=p,_f(e,r,o,i),l=e.memoizedState,a!==r||p!==l||gn.current||ki?(typeof d=="function"&&(mg(e,n,d,r),l=e.memoizedState),(a=ki||zw(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=yn(n)?Zs:Zt.current,l=Ca(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Bw(e,o,r,l),ki=!1,p=e.memoizedState,o.state=p,_f(e,r,o,i);var _=e.memoizedState;a!==f||p!==_||gn.current||ki?(typeof g=="function"&&(mg(e,n,g,r),_=e.memoizedState),(c=ki||zw(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _g(t,e,n,r,s,i)}function _g(t,e,n,r,i,s){ab(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dw(e,n,!1),li(t,e,s);r=e.stateNode,_O.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ka(e,t.child,null,s),e.child=ka(e,null,a,s)):nn(t,e,a,s),e.memoizedState=r.state,i&&Dw(e,n,!0),e.child}function lb(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),iv(t,e.containerInfo)}function Zw(t,e,n,r,i){return Aa(),Xy(i),e.flags|=256,nn(t,e,n,r),e.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function Eg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ub(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Je,i&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sh(o,r,0,null),t=Ws(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Eg(n),e.memoizedState=wg,t):fv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wO(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ts(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ts(a,s):(s=Ws(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Eg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=wg,r}return s=t.child,t=s.sibling,r=ts(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fv(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&Xy(r),ka(e,t.child,null,n),t=fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wO(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=tm(Error(Z(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sh({mode:"visible",children:r.children},i,0,null),s=Ws(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ka(e,t.child,null,o),e.child.memoizedState=Eg(o),e.memoizedState=wg,s);if(!(e.mode&1))return cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Z(419)),r=tm(s,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ai(t,i),nr(r,t,i,-1))}return vv(),r=tm(Error(Z(421))),cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bn=Yi(i.nextSibling),Cn=e,Qe=!0,Yn=null,t!==null&&(Mn[Ln++]=Yr,Mn[Ln++]=Xr,Mn[Ln++]=Ys,Yr=t.id,Xr=t.overflow,Ys=e),e=fv(e,r.children),e.flags|=4096,e)}function Yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function nm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yw(t,n,e);else if(t.tag===19)Yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nm(e,!0,n,null,s);break;case"together":nm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EO(t,e,n){switch(e.tag){case 3:lb(e),Aa();break;case 5:LS(e);break;case 1:yn(e.type)&&pf(e);break;case 4:iv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?ub(t,e,n):(Be(Je,Je.current&1),t=li(t,e,n),t!==null?t.sibling:null);Be(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,ob(t,e,n)}return li(t,e,n)}var db,xg,fb,hb;db=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xg=function(){};fb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ms(Tr.current);var s=null;switch(n){case"input":i=Wm(t,i),r=Wm(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=qm(t,i),r=qm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ff)}Qm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xO(t,e,n){var r=e.pendingProps;switch(Yy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return yn(e.type)&&hf(),Bt(e),null;case 3:return r=e.stateNode,Ra(),Ge(gn),Ge(Zt),ov(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Rg(Yn),Yn=null))),xg(t,e),Bt(e),null;case 5:sv(e);var i=Ms(bu.current);if(n=e.type,t!==null&&e.stateNode!=null)fb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Bt(e),null}if(t=Ms(Tr.current),ld(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Tu]=s,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<jl.length;i++)Ke(jl[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":ow(r,s),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r);break;case"textarea":lw(r,s),Ke("invalid",r)}Qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),i=["children",""+a]):hu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Jc(r),aw(r,s,!0);break;case"textarea":Jc(r),uw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ff)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$T(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Tu]=r,db(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zm(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<jl.length;i++)Ke(jl[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":ow(t,r),i=Wm(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":lw(t,r),i=qm(t,r),Ke("invalid",t);break;default:i=r}Qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?WT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&pu(t,l):typeof l=="number"&&pu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&Ly(t,s,l,o))}switch(n){case"input":Jc(t),aw(t,r,!1);break;case"textarea":Jc(t),uw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ra(t,!!r.multiple,s,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ff)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)hb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Ms(bu.current),Ms(Tr.current),ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ge(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&bn!==null&&e.mode&1&&!(e.flags&128))PS(),Aa(),e.flags|=98560,s=!1;else if(s=ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[vr]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),s=!1}else Yn!==null&&(Rg(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?Et===0&&(Et=3):vv())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Ra(),xg(t,e),t===null&&Eu(e.stateNode.containerInfo),Bt(e),null;case 10:return tv(e.type._context),Bt(e),null;case 17:return yn(e.type)&&hf(),Bt(e),null;case 19:if(Ge(Je),s=e.memoizedState,s===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Al(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wf(t),o!==null){for(e.flags|=128,Al(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>Na&&(e.flags|=128,r=!0,Al(s,!1),e.lanes=4194304)}else{if(!r)if(t=wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(e),null}else 2*ct()-s.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,r=!0,Al(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=Je.current,Be(Je,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return yv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function TO(t,e){switch(Yy(e),e.tag){case 1:return yn(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),Ge(gn),Ge(Zt),ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sv(e),null;case 13:if(Ge(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Je),null;case 4:return Ra(),null;case 10:return tv(e.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var dd=!1,Gt=!1,SO=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Tg(t,e,n){try{n()}catch(r){at(t,e,r)}}var Xw=!1;function bO(t,e){if(og=uf,t=vS(),Qy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},uf=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,I=_.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:qn(e.type,v),I);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(P){at(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return _=Xw,Xw=!1,_}function Jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tg(e,n,s)}i=i.next}while(i!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pb(t){var e=t.alternate;e!==null&&(t.alternate=null,pb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Tu],delete e[cg],delete e[aO],delete e[lO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mb(t){return t.tag===5||t.tag===3||t.tag===4}function Jw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ff));else if(r!==4&&(t=t.child,t!==null))for(bg(t,e,n),t=t.sibling;t!==null;)bg(t,e,n),t=t.sibling}function Ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ig(t,e,n),t=t.sibling;t!==null;)Ig(t,e,n),t=t.sibling}var Pt=null,Zn=!1;function xi(t,e,n){for(n=n.child;n!==null;)gb(t,e,n),n=n.sibling}function gb(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:Gt||Jo(n,e);case 6:var r=Pt,i=Zn;Pt=null,xi(t,e,n),Pt=r,Zn=i,Pt!==null&&(Zn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(Zn?(t=Pt,n=n.stateNode,t.nodeType===8?Qp(t.parentNode,n):t.nodeType===1&&Qp(t,n),vu(t)):Qp(Pt,n.stateNode));break;case 4:r=Pt,i=Zn,Pt=n.stateNode.containerInfo,Zn=!0,xi(t,e,n),Pt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tg(n,e,o),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Gt&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,xi(t,e,n),Gt=r):xi(t,e,n);break;default:xi(t,e,n)}}function e1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SO),e.forEach(function(r){var i=DO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,Zn=!1;break e;case 3:Pt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Pt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Pt===null)throw Error(Z(160));gb(s,o,i),Pt=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){at(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yb(e,t),e=e.sibling}function yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),fr(t),r&4){try{Jl(3,t,t.return),xh(3,t)}catch(v){at(t,t.return,v)}try{Jl(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:Kn(e,t),fr(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(Kn(e,t),fr(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{pu(i,"")}catch(v){at(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jT(i,s),Zm(a,o);var c=Zm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?WT(i,f):d==="dangerouslySetInnerHTML"?zT(i,f):d==="children"?pu(i,f):Ly(i,d,f,c)}switch(a){case"input":Hm(i,s);break;case"textarea":UT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ra(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?ra(i,!!s.multiple,s.defaultValue,!0):ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tu]=s}catch(v){at(t,t.return,v)}}break;case 6:if(Kn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){at(t,t.return,v)}}break;case 3:if(Kn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vu(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:Kn(e,t),fr(t);break;case 13:Kn(e,t),fr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mv=ct())),r&4&&e1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(c=Gt)||d,Kn(e,t),Gt=c):Kn(e,t),fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(p=ae,g=p.child,p.tag){case 0:case 11:case 14:case 15:Jl(4,p,p.return);break;case 1:Jo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){at(r,n,v)}}break;case 5:Jo(p,p.return);break;case 22:if(p.memoizedState!==null){n1(f);continue}}g!==null?(g.return=p,ae=g):n1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BT("display",o))}catch(v){at(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){at(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),fr(t),r&4&&e1(t);break;case 21:break;default:Kn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mb(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pu(i,""),r.flags&=-33);var s=Jw(t);Ig(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Jw(t);bg(t,a,o);break;default:throw Error(Z(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IO(t,e,n){ae=t,vb(t)}function vb(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gt;a=dd;var c=Gt;if(dd=o,(Gt=l)&&!c)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?r1(i):l!==null?(l.return=o,ae=l):r1(i);for(;s!==null;)ae=s,vb(s),s=s.sibling;ae=i,dd=a,Gt=c}t1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):t1(t)}}function t1(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Gt||e.flags&512&&Sg(e)}catch(p){at(e,e.return,p)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function n1(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function r1(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Sg(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Sg(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var CO=Math.ceil,Tf=yi.ReactCurrentDispatcher,hv=yi.ReactCurrentOwner,Fn=yi.ReactCurrentBatchConfig,De=0,It=null,mt=null,Mt=0,Tn=0,ea=_s(0),Et=0,ku=null,Js=0,Th=0,pv=0,eu=null,hn=null,mv=0,Na=1/0,qr=null,Sf=!1,Cg=null,Ji=null,fd=!1,Hi=null,bf=0,tu=0,Ag=null,Fd=-1,jd=0;function sn(){return De&6?ct():Fd!==-1?Fd:Fd=ct()}function es(t){return t.mode&1?De&2&&Mt!==0?Mt&-Mt:cO.transition!==null?(jd===0&&(jd=nS()),jd):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:uS(t.type)),t):1}function nr(t,e,n,r){if(50<tu)throw tu=0,Ag=null,Error(Z(185));cc(t,n,r),(!(De&2)||t!==It)&&(t===It&&(!(De&2)&&(Th|=n),Et===4&&Pi(t,Mt)),vn(t,r),n===1&&De===0&&!(e.mode&1)&&(Na=ct()+500,_h&&ws()))}function vn(t,e){var n=t.callbackNode;cN(t,e);var r=lf(t,t===It?Mt:0);if(r===0)n!==null&&fw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fw(n),e===1)t.tag===0?uO(i1.bind(null,t)):AS(i1.bind(null,t)),sO(function(){!(De&6)&&ws()}),n=null;else{switch(rS(r)){case 1:n=$y;break;case 4:n=eS;break;case 16:n=af;break;case 536870912:n=tS;break;default:n=af}n=Ib(n,_b.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _b(t,e){if(Fd=-1,jd=0,De&6)throw Error(Z(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=lf(t,t===It?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=If(t,r);else{e=r;var i=De;De|=2;var s=Eb();(It!==t||Mt!==e)&&(qr=null,Na=ct()+500,Bs(t,e));do try{RO();break}catch(a){wb(t,a)}while(!0);ev(),Tf.current=s,De=i,mt!==null?e=0:(It=null,Mt=0,e=Et)}if(e!==0){if(e===2&&(i=tg(t),i!==0&&(r=i,e=kg(t,i))),e===1)throw n=ku,Bs(t,0),Pi(t,r),vn(t,ct()),n;if(e===6)Pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!AO(i)&&(e=If(t,r),e===2&&(s=tg(t),s!==0&&(r=s,e=kg(t,s))),e===1))throw n=ku,Bs(t,0),Pi(t,r),vn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Ps(t,hn,qr);break;case 3:if(Pi(t,r),(r&130023424)===r&&(e=mv+500-ct(),10<e)){if(lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ug(Ps.bind(null,t,hn,qr),e);break}Ps(t,hn,qr);break;case 4:if(Pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CO(r/1960))-r,10<r){t.timeoutHandle=ug(Ps.bind(null,t,hn,qr),r);break}Ps(t,hn,qr);break;case 5:Ps(t,hn,qr);break;default:throw Error(Z(329))}}}return vn(t,ct()),t.callbackNode===n?_b.bind(null,t):null}function kg(t,e){var n=eu;return t.current.memoizedState.isDehydrated&&(Bs(t,e).flags|=256),t=If(t,e),t!==2&&(e=hn,hn=n,e!==null&&Rg(e)),t}function Rg(t){hn===null?hn=t:hn.push.apply(hn,t)}function AO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e){for(e&=~pv,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function i1(t){if(De&6)throw Error(Z(327));la();var e=lf(t,0);if(!(e&1))return vn(t,ct()),null;var n=If(t,e);if(t.tag!==0&&n===2){var r=tg(t);r!==0&&(e=r,n=kg(t,r))}if(n===1)throw n=ku,Bs(t,0),Pi(t,e),vn(t,ct()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,hn,qr),vn(t,ct()),null}function gv(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Na=ct()+500,_h&&ws())}}function eo(t){Hi!==null&&Hi.tag===0&&!(De&6)&&la();var e=De;De|=1;var n=Fn.transition,r=Ve;try{if(Fn.transition=null,Ve=1,t)return t()}finally{Ve=r,Fn.transition=n,De=e,!(De&6)&&ws()}}function yv(){Tn=ea.current,Ge(ea)}function Bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iO(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:Ra(),Ge(gn),Ge(Zt),ov();break;case 5:sv(r);break;case 4:Ra();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:tv(r.type._context);break;case 22:case 23:yv()}n=n.return}if(It=t,mt=t=ts(t.current,null),Mt=Tn=e,Et=0,ku=null,pv=Th=Js=0,hn=eu=null,Ds!==null){for(e=0;e<Ds.length;e++)if(n=Ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ds=null}return t}function wb(t,e){do{var n=mt;try{if(ev(),Md.current=xf,Ef){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}if(Xs=0,bt=wt=et=null,Xl=!1,Iu=0,hv.current=null,n===null||n.return===null){Et=1,ku=e,mt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Hw(o);if(g!==null){g.flags&=-257,Kw(g,o,a,s,e),g.mode&1&&Ww(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){Ww(s,c,e),vv();break e}l=Error(Z(426))}}else if(Qe&&a.mode&1){var I=Hw(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Kw(I,o,a,s,e),Xy(Pa(l,a));break e}}s=l=Pa(l,a),Et!==4&&(Et=2),eu===null?eu=[s]:eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=rb(s,l,e);Fw(s,x);break e;case 1:a=l;var y=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ji===null||!Ji.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=ib(s,a,e);Fw(s,P);break e}}s=s.return}while(s!==null)}Tb(n)}catch(D){e=D,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function Eb(){var t=Tf.current;return Tf.current=xf,t===null?xf:t}function vv(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||!(Js&268435455)&&!(Th&268435455)||Pi(It,Mt)}function If(t,e){var n=De;De|=2;var r=Eb();(It!==t||Mt!==e)&&(qr=null,Bs(t,e));do try{kO();break}catch(i){wb(t,i)}while(!0);if(ev(),De=n,Tf.current=r,mt!==null)throw Error(Z(261));return It=null,Mt=0,Et}function kO(){for(;mt!==null;)xb(mt)}function RO(){for(;mt!==null&&!tN();)xb(mt)}function xb(t){var e=bb(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?Tb(t):mt=e,hv.current=null}function Tb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TO(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,mt=null;return}}else if(n=xO(n,e,Tn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Et===0&&(Et=5)}function Ps(t,e,n){var r=Ve,i=Fn.transition;try{Fn.transition=null,Ve=1,PO(t,e,n,r)}finally{Fn.transition=i,Ve=r}return null}function PO(t,e,n,r){do la();while(Hi!==null);if(De&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dN(t,s),t===It&&(mt=It=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fd||(fd=!0,Ib(af,function(){return la(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fn.transition,Fn.transition=null;var o=Ve;Ve=1;var a=De;De|=4,hv.current=null,bO(t,n),yb(n,t),YN(ag),uf=!!og,ag=og=null,t.current=n,IO(n),nN(),De=a,Ve=o,Fn.transition=s}else t.current=n;if(fd&&(fd=!1,Hi=t,bf=i),s=t.pendingLanes,s===0&&(Ji=null),sN(n.stateNode),vn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sf)throw Sf=!1,t=Cg,Cg=null,t;return bf&1&&t.tag!==0&&la(),s=t.pendingLanes,s&1?t===Ag?tu++:(tu=0,Ag=t):tu=0,ws(),null}function la(){if(Hi!==null){var t=rS(bf),e=Fn.transition,n=Ve;try{if(Fn.transition=null,Ve=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,bf=0,De&6)throw Error(Z(331));var i=De;for(De|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Jl(8,d,s)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var p=d.sibling,g=d.return;if(pb(d),d===c){ae=null;break}if(p!==null){p.return=g,ae=p;break}ae=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ae=x;break e}ae=s.return}}var y=t.current;for(ae=y;ae!==null;){o=ae;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ae=C;else e:for(o=y;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(D){at(a,a.return,D)}if(a===o){ae=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ae=P;break e}ae=a.return}}if(De=i,ws(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{Ve=n,Fn.transition=e}}return!1}function s1(t,e,n){e=Pa(n,e),e=rb(t,e,1),t=Xi(t,e,1),e=sn(),t!==null&&(cc(t,1,e),vn(t,e))}function at(t,e,n){if(t.tag===3)s1(t,t,n);else for(;e!==null;){if(e.tag===3){s1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=Pa(n,t),t=ib(e,t,1),e=Xi(e,t,1),t=sn(),e!==null&&(cc(e,1,t),vn(e,t));break}}e=e.return}}function NO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Mt&n)===n&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>ct()-mv?Bs(t,0):pv|=n),vn(t,e)}function Sb(t,e){e===0&&(t.mode&1?(e=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):e=1);var n=sn();t=ai(t,e),t!==null&&(cc(t,e,n),vn(t,n))}function OO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sb(t,n)}function DO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),Sb(t,n)}var bb;bb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,EO(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Qe&&e.flags&1048576&&kS(e,gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vd(t,e),t=e.pendingProps;var i=Ca(e,Zt.current);aa(e,n),i=lv(null,e,r,t,i,n);var s=uv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,pf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rv(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,gg(e,r,t,n),e=_g(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&Zy(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LO(r),t=qn(r,t),i){case 0:e=vg(null,e,r,t,n);break e;case 1:e=Qw(null,e,r,t,n);break e;case 11:e=qw(null,e,r,t,n);break e;case 14:e=Gw(null,e,r,qn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),vg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Qw(t,e,r,i,n);case 3:e:{if(lb(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MS(t,e),_f(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pa(Error(Z(423)),e),e=Zw(t,e,r,n,i);break e}else if(r!==i){i=Pa(Error(Z(424)),e),e=Zw(t,e,r,n,i);break e}else for(bn=Yi(e.stateNode.containerInfo.firstChild),Cn=e,Qe=!0,Yn=null,n=OS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Aa(),r===i){e=li(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return LS(e),t===null&&hg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lg(r,i)?o=null:s!==null&&lg(r,s)&&(e.flags|=32),ab(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&hg(e),null;case 13:return ub(t,e,n);case 4:return iv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ka(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),qw(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(yf,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!gn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ni(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,aa(e,n),i=$n(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),Gw(t,e,r,i,n);case 15:return sb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Vd(t,e),e.tag=1,yn(r)?(t=!0,pf(e)):t=!1,aa(e,n),nb(e,r,i),gg(e,r,i,n),_g(null,e,r,!0,t,n);case 19:return cb(t,e,n);case 22:return ob(t,e,n)}throw Error(Z(156,e.tag))};function Ib(t,e){return JT(t,e)}function MO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new MO(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LO(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fy)return 11;if(t===jy)return 14}return 2}function ts(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return Ws(n.children,i,s,e);case Vy:o=8,i|=8;break;case Um:return t=Vn(12,n,e,i|2),t.elementType=Um,t.lanes=s,t;case $m:return t=Vn(13,n,e,i),t.elementType=$m,t.lanes=s,t;case zm:return t=Vn(19,n,e,i),t.elementType=zm,t.lanes=s,t;case LT:return Sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DT:o=10;break e;case MT:o=9;break e;case Fy:o=11;break e;case jy:o=14;break e;case Ai:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ws(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Sh(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=LT,t.lanes=n,t.stateNode={isHidden:!1},t}function rm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function im(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fp(0),this.expirationTimes=Fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wv(t,e,n,r,i,s,o,a,l){return t=new VO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rv(s),t}function FO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cb(t){if(!t)return os;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(yn(n))return CS(t,n,e)}return e}function Ab(t,e,n,r,i,s,o,a,l){return t=wv(n,r,!0,t,i,s,o,a,l),t.context=Cb(null),n=t.current,r=sn(),i=es(n),s=ni(r,i),s.callback=e??null,Xi(n,s,i),t.current.lanes=i,cc(t,i,r),vn(t,r),t}function bh(t,e,n,r){var i=e.current,s=sn(),o=es(i);return n=Cb(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,o),t!==null&&(nr(t,i,o,s),Dd(t,i,o)),o}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ev(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function jO(){return null}var kb=typeof reportError=="function"?reportError:function(t){console.error(t)};function xv(t){this._internalRoot=t}Ih.prototype.render=xv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));bh(t,e,null,null)};Ih.prototype.unmount=xv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){bh(null,t,null,null)}),e[oi]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=oS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&lS(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function UO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Cf(o);s.call(c)}}var o=Ab(e,r,t,0,null,!1,!1,"",a1);return t._reactRootContainer=o,t[oi]=o.current,Eu(t.nodeType===8?t.parentNode:t),eo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Cf(l);a.call(c)}}var l=wv(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=l,t[oi]=l.current,Eu(t.nodeType===8?t.parentNode:t),eo(function(){bh(e,l,n,r)}),l}function Ah(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cf(o);a.call(l)}}bh(e,o,t,i)}else o=UO(n,e,t,i,r);return Cf(o)}iS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fl(e.pendingLanes);n!==0&&(zy(e,n|1),vn(e,ct()),!(De&6)&&(Na=ct()+500,ws()))}break;case 13:eo(function(){var r=ai(t,1);if(r!==null){var i=sn();nr(r,t,1,i)}}),Ev(t,1)}};By=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=sn();nr(e,t,134217728,n)}Ev(t,134217728)}};sS=function(t){if(t.tag===13){var e=es(t),n=ai(t,e);if(n!==null){var r=sn();nr(n,t,e,r)}Ev(t,e)}};oS=function(){return Ve};aS=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Xm=function(t,e,n){switch(e){case"input":if(Hm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(Z(90));FT(r),Hm(r,i)}}}break;case"textarea":UT(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};qT=gv;GT=eo;var $O={usingClientEntryPoint:!1,Events:[fc,Go,vh,HT,KT,gv]},kl={findFiberByHostInstance:Os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zO={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YT(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||jO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{ph=hd.inject(zO),xr=hd}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$O;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(Z(200));return FO(t,e,null,n)};Nn.createRoot=function(t,e){if(!Tv(t))throw Error(Z(299));var n=!1,r="",i=kb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wv(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,Eu(t.nodeType===8?t.parentNode:t),new xv(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=YT(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return eo(t)};Nn.hydrate=function(t,e,n){if(!Ch(e))throw Error(Z(200));return Ah(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ab(e,null,t,1,n??null,i,!1,s,o),t[oi]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ih(e)};Nn.render=function(t,e,n){if(!Ch(e))throw Error(Z(200));return Ah(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Ch(t))throw Error(Z(40));return t._reactRootContainer?(eo(function(){Ah(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Nn.unstable_batchedUpdates=gv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ch(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Ah(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function Rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rb)}catch(t){console.error(t)}}Rb(),RT.exports=Nn;var pc=RT.exports;const BO=yT(pc);var l1=pc;Fm.createRoot=l1.createRoot,Fm.hydrateRoot=l1.hydrateRoot;function WO(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Pb={exports:{}},Nb={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=b;function HO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KO=typeof Object.is=="function"?Object.is:HO,qO=Oa.useState,GO=Oa.useEffect,QO=Oa.useLayoutEffect,ZO=Oa.useDebugValue;function YO(t,e){var n=e(),r=qO({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return QO(function(){i.value=n,i.getSnapshot=e,sm(i)&&s({inst:i})},[t,n,e]),GO(function(){return sm(i)&&s({inst:i}),t(function(){sm(i)&&s({inst:i})})},[t]),ZO(n),n}function sm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KO(t,n)}catch{return!0}}function XO(t,e){return e()}var JO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XO:YO;Nb.useSyncExternalStore=Oa.useSyncExternalStore!==void 0?Oa.useSyncExternalStore:JO;Pb.exports=Nb;var eD=Pb.exports;const tD=AT.useInsertionEffect,nD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rD=nD?b.useLayoutEffect:b.useEffect,iD=tD||rD,Ob=t=>{const e=b.useRef([t,(...n)=>e[0](...n)]).current;return iD(()=>{e[0]=t}),e[1]},sD="popstate",Sv="pushState",bv="replaceState",oD="hashchange",u1=[sD,Sv,bv,oD],aD=t=>{for(const e of u1)addEventListener(e,t);return()=>{for(const e of u1)removeEventListener(e,t)}},Db=(t,e)=>eD.useSyncExternalStore(aD,t,e),lD=()=>location.search,uD=({ssrSearch:t=""}={})=>Db(lD,()=>t),c1=()=>location.pathname,cD=({ssrPath:t}={})=>Db(c1,t?()=>t:c1),dD=(t,{replace:e=!1,state:n=null}={})=>history[e?bv:Sv](n,"",t),fD=(t={})=>[cD(t),dD],d1=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[d1]>"u"){for(const t of[Sv,bv]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,d1,{value:!0})}const hD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Mb=(t="")=>t==="/"?"":t,pD=(t,e)=>t[0]==="~"?t.slice(1):Mb(e)+t,mD=(t="",e)=>hD(f1(Mb(t)),f1(e)),f1=t=>{try{return decodeURI(t)}catch{return t}},Lb={hook:fD,searchHook:uD,parser:WO,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Vb=b.createContext(Lb),kh=()=>b.useContext(Vb),Fb={},jb=b.createContext(Fb),gD=()=>b.useContext(jb),Iv=t=>{const[e,n]=t.hook(t);return[mD(t.base,e),Ob((r,i)=>n(pD(r,t.base),i))]},Ub=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((f,p)=>[f,l[p]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},yD=({children:t,...e})=>{var d,f;const n=kh(),r=e.hook?Lb:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=b.useRef({}),l=a.current,c=l;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&g!==c[p]&&(a.current=c={...c}),c[p]=g,g!==r[p]&&(i=c)}return b.createElement(Vb.Provider,{value:i,children:t})},h1=({children:t,component:e},n)=>e?b.createElement(e,{params:n}):typeof t=="function"?t(n):t,vD=t=>{let e=b.useRef(Fb),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},p1=({path:t,nest:e,match:n,...r})=>{const i=kh(),[s]=Iv(i),[o,a,l]=n??Ub(i.parser,t,s,e),c=vD({...gD(),...a});if(!o)return null;const d=l?b.createElement(yD,{base:l},h1(r,c)):h1(r,c);return b.createElement(jb.Provider,{value:c,children:d})};b.forwardRef((t,e)=>{const n=kh(),[r,i]=Iv(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:d,replace:f,state:p,...g}=t,_=Ob(I=>{I.ctrlKey||I.metaKey||I.altKey||I.shiftKey||I.button!==0||(a==null||a(I),I.defaultPrevented||(I.preventDefault(),i(o,t)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:_,href:v}):b.createElement("a",{...g,onClick:_,href:v,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})});const $b=t=>Array.isArray(t)?t.flatMap(e=>$b(e&&e.type===b.Fragment?e.props.children:e)):[t],_D=({children:t,location:e})=>{const n=kh(),[r]=Iv(n);for(const i of $b(t)){let s=0;if(b.isValidElement(i)&&(s=Ub(n.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:s})}return null};var mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rh=typeof window>"u"||"Deno"in globalThis;function Gn(){}function wD(t,e){return typeof t=="function"?t(e):t}function ED(t){return typeof t=="number"&&t>=0&&t!==1/0}function xD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function m1(t,e){return typeof t=="function"?t(e):t}function TD(t,e){return typeof t=="function"?t(e):t}function g1(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Cv(o,e.options))return!1}else if(!Ru(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function y1(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(to(e.options.mutationKey)!==to(s))return!1}else if(!Ru(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Cv(t,e){return((e==null?void 0:e.queryKeyHashFn)||to)(t)}function to(t){return JSON.stringify(t,(e,n)=>Pg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ru(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ru(t[n],e[n])):!1}function zb(t,e){if(t===e)return t;const n=v1(t)&&v1(e);if(n||Pg(t)&&Pg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=zb(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function SD(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function v1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pg(t){if(!_1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _1(t){return Object.prototype.toString.call(t)==="[object Object]"}function bD(t){return new Promise(e=>{setTimeout(e,t)})}function ID(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?zb(t,e):e}function CD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function AD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function Bb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var js,Vi,ya,lT,kD=(lT=class extends mc{constructor(){super();Re(this,js);Re(this,Vi);Re(this,ya);we(this,ya,e=>{if(!Rh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Vi)||this.setEventListener(z(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Vi))==null||e.call(this),we(this,Vi,void 0))}setEventListener(e){var n;we(this,ya,e),(n=z(this,Vi))==null||n.call(this),we(this,Vi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,js)!==e&&(we(this,js,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,js)=="boolean"?z(this,js):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},js=new WeakMap,Vi=new WeakMap,ya=new WeakMap,lT),Wb=new kD,va,Fi,_a,uT,RD=(uT=class extends mc{constructor(){super();Re(this,va,!0);Re(this,Fi);Re(this,_a);we(this,_a,e=>{if(!Rh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Fi)||this.setEventListener(z(this,_a))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Fi))==null||e.call(this),we(this,Fi,void 0))}setEventListener(e){var n;we(this,_a,e),(n=z(this,Fi))==null||n.call(this),we(this,Fi,e(this.setOnline.bind(this)))}setOnline(e){z(this,va)!==e&&(we(this,va,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,va)}},va=new WeakMap,Fi=new WeakMap,_a=new WeakMap,uT),Af=new RD;function PD(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function ND(t){return Math.min(1e3*2**t,3e4)}function Hb(t){return(t??"online")==="online"?Af.isOnline():!0}var Kb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function om(t){return t instanceof Kb}function qb(t){let e=!1,n=0,r=!1,i;const s=PD(),o=v=>{var I;r||(p(new Kb(v)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Wb.isFocused()&&(t.networkMode==="always"||Af.isOnline())&&t.canRun(),d=()=>Hb(t.networkMode)&&t.canRun(),f=v=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,v),i==null||i(),s.resolve(v))},p=v=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,v),i==null||i(),s.reject(v))},g=()=>new Promise(v=>{var I;i=x=>{(r||c())&&v(x)},(I=t.onPause)==null||I.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),_=()=>{if(r)return;let v;const I=n===0?t.initialPromise:void 0;try{v=I??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var L;if(r)return;const y=t.retry??(Rh?0:3),C=t.retryDelay??ND,P=typeof C=="function"?C(n,x):C,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,x);if(e||!D){p(x);return}n++,(L=t.onFail)==null||L.call(t,n,x),bD(P).then(()=>c()?void 0:g()).then(()=>{e?p(x):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),s)}}function OD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ot=OD(),Us,cT,Gb=(cT=class{constructor(){Re(this,Us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ED(this.gcTime)&&we(this,Us,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rh?1/0:5*60*1e3))}clearGcTimeout(){z(this,Us)&&(clearTimeout(z(this,Us)),we(this,Us,void 0))}},Us=new WeakMap,cT),wa,Ea,Dn,Kt,ac,$s,Qn,Hr,dT,DD=(dT=class extends Gb{constructor(n){super();Re(this,Qn);Re(this,wa);Re(this,Ea);Re(this,Dn);Re(this,Kt);Re(this,ac);Re(this,$s);we(this,$s,!1),we(this,ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,Dn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,wa,LD(this.options)),this.state=n.state??z(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Kt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Dn).remove(this)}setData(n,r){const i=ID(this.state.data,n,this.options);return lt(this,Qn,Hr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){lt(this,Qn,Hr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Kt))==null?void 0:i.promise;return(s=z(this,Kt))==null||s.cancel(n),r?r.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,wa))}isActive(){return this.observers.some(n=>TD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!xD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Kt)&&(z(this,$s)?z(this,Kt).cancel({revert:!0}):z(this,Kt).cancelRetry()),this.scheduleGc()),z(this,Dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lt(this,Qn,Hr).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Kt))return z(this,Kt).continueRetry(),z(this,Kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,$s,!0),i.signal)})},o=()=>{const p=Bb(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return s(g),we(this,$s,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),we(this,Ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&lt(this,Qn,Hr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,_,v,I;om(p)&&p.silent||lt(this,Qn,Hr).call(this,{type:"error",error:p}),om(p)||((_=(g=z(this,Dn).config).onError)==null||_.call(g,p,this),(I=(v=z(this,Dn).config).onSettled)==null||I.call(v,this.state.data,p,this)),this.scheduleGc()};return we(this,Kt,qb({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var g,_,v,I;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){l(x);return}(_=(g=z(this,Dn).config).onSuccess)==null||_.call(g,p,this),(I=(v=z(this,Dn).config).onSettled)==null||I.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{lt(this,Qn,Hr).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{lt(this,Qn,Hr).call(this,{type:"pause"})},onContinue:()=>{lt(this,Qn,Hr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Kt).start()}},wa=new WeakMap,Ea=new WeakMap,Dn=new WeakMap,Kt=new WeakMap,ac=new WeakMap,$s=new WeakMap,Qn=new WeakSet,Hr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...MD(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return om(s)&&s.revert&&z(this,Ea)?{...z(this,Ea),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ot.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Dn).notify({query:this,type:"updated",action:n})})},dT);function MD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function LD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var mr,fT,VD=(fT=class extends mc{constructor(e={}){super();Re(this,mr);this.config=e,we(this,mr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Cv(i,n);let o=this.get(s);return o||(o=new DD({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,mr).has(e.queryHash)||(z(this,mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,mr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,mr).get(e)}getAll(){return[...z(this,mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>g1(e,r)):n}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mr=new WeakMap,fT),gr,en,zs,yr,Ii,hT,FD=(hT=class extends Gb{constructor(n){super();Re(this,yr);Re(this,gr);Re(this,en);Re(this,zs);this.mutationId=n.mutationId,we(this,en,n.mutationCache),we(this,gr,[]),this.state=n.state||Qb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,gr).includes(n)||(z(this,gr).push(n),this.clearGcTimeout(),z(this,en).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,gr,z(this,gr).filter(r=>r!==n)),this.scheduleGc(),z(this,en).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,gr).length||(this.state.status==="pending"?this.scheduleGc():z(this,en).remove(this))}continue(){var n;return((n=z(this,zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,d,f,p,g,_,v,I,x,y,C,P,D,L,T,E;we(this,zs,qb({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,R)=>{lt(this,yr,Ii).call(this,{type:"failed",failureCount:S,error:R})},onPause:()=>{lt(this,yr,Ii).call(this,{type:"pause"})},onContinue:()=>{lt(this,yr,Ii).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,en).canRun(this)}));const r=this.state.status==="pending",i=!z(this,zs).canStart();try{if(!r){lt(this,yr,Ii).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=z(this,en).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&lt(this,yr,Ii).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const S=await z(this,zs).start();return await((d=(c=z(this,en).config).onSuccess)==null?void 0:d.call(c,S,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,S,n,this.state.context)),await((_=(g=z(this,en).config).onSettled)==null?void 0:_.call(g,S,null,this.state.variables,this.state.context,this)),await((I=(v=this.options).onSettled)==null?void 0:I.call(v,S,null,n,this.state.context)),lt(this,yr,Ii).call(this,{type:"success",data:S}),S}catch(S){try{throw await((y=(x=z(this,en).config).onError)==null?void 0:y.call(x,S,n,this.state.context,this)),await((P=(C=this.options).onError)==null?void 0:P.call(C,S,n,this.state.context)),await((L=(D=z(this,en).config).onSettled)==null?void 0:L.call(D,void 0,S,this.state.variables,this.state.context,this)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,void 0,S,n,this.state.context)),S}finally{lt(this,yr,Ii).call(this,{type:"error",error:S})}}finally{z(this,en).runNext(this)}}},gr=new WeakMap,en=new WeakMap,zs=new WeakMap,yr=new WeakSet,Ii=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ot.batch(()=>{z(this,gr).forEach(i=>{i.onMutationUpdate(n)}),z(this,en).notify({mutation:this,type:"updated",action:n})})},hT);function Qb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,lc,pT,jD=(pT=class extends mc{constructor(e={}){super();Re(this,xn);Re(this,lc);this.config=e,we(this,xn,new Map),we(this,lc,Date.now())}build(e,n,r){const i=new FD({mutationCache:this,mutationId:++Zc(this,lc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=pd(e),r=z(this,xn).get(n)??[];r.push(e),z(this,xn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=pd(e);if(z(this,xn).has(n)){const i=(r=z(this,xn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,xn).delete(n):z(this,xn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,xn).get(pd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,xn).get(pd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,xn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>y1(n,r))}findAll(e={}){return this.getAll().filter(n=>y1(e,n))}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gn))))}},xn=new WeakMap,lc=new WeakMap,pT);function pd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function w1(t){return{onFetch:(e,n)=>{var d,f,p,g,_;const r=e.options,i=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const I=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=Bb(e.options,e.fetchOptions),y=async(C,P,D)=>{if(v)return Promise.reject();if(P==null&&C.pages.length)return Promise.resolve(C);const L={queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};I(L);const T=await x(L),{maxPages:E}=e.options,S=D?AD:CD;return{pages:S(C.pages,T,E),pageParams:S(C.pageParams,P,E)}};if(i&&s.length){const C=i==="backward",P=C?UD:E1,D={pages:s,pageParams:o},L=P(r,D);a=await y(D,L,C)}else{const C=t??s.length;do{const P=l===0?o[0]??r.initialPageParam:E1(r,a);if(l>0&&P==null)break;a=await y(a,P),l++}while(l<C)}return a};e.options.persister?e.fetchFn=()=>{var v,I;return(I=(v=e.options).persister)==null?void 0:I.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function E1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function UD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ot,ji,Ui,xa,Ta,$i,Sa,ba,mT,$D=(mT=class{constructor(t={}){Re(this,ot);Re(this,ji);Re(this,Ui);Re(this,xa);Re(this,Ta);Re(this,$i);Re(this,Sa);Re(this,ba);we(this,ot,t.queryCache||new VD),we(this,ji,t.mutationCache||new jD),we(this,Ui,t.defaultOptions||{}),we(this,xa,new Map),we(this,Ta,new Map),we(this,$i,0)}mount(){Zc(this,$i)._++,z(this,$i)===1&&(we(this,Sa,Wb.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onFocus())})),we(this,ba,Af.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onOnline())})))}unmount(){var t,e;Zc(this,$i)._--,z(this,$i)===0&&((t=z(this,Sa))==null||t.call(this),we(this,Sa,void 0),(e=z(this,ba))==null||e.call(this),we(this,ba,void 0))}isFetching(t){return z(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ji).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,ot).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(m1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,ot).get(r.queryHash),s=i==null?void 0:i.state.data,o=wD(e,s);if(o!==void 0)return z(this,ot).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ot.batch(()=>z(this,ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ot);Ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ot),r={type:"active",...t};return Ot.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ot.batch(()=>z(this,ot).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Gn).catch(Gn)}invalidateQueries(t={},e={}){return Ot.batch(()=>{if(z(this,ot).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ot.batch(()=>z(this,ot).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Gn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ot).build(this,e);return n.isStaleByTime(m1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gn).catch(Gn)}fetchInfiniteQuery(t){return t.behavior=w1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gn).catch(Gn)}ensureInfiniteQueryData(t){return t.behavior=w1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Af.isOnline()?z(this,ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ot)}getMutationCache(){return z(this,ji)}getDefaultOptions(){return z(this,Ui)}setDefaultOptions(t){we(this,Ui,t)}setQueryDefaults(t,e){z(this,xa).set(to(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,xa).values()];let n={};return e.forEach(r=>{Ru(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Ta).set(to(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ta).values()];let n={};return e.forEach(r=>{Ru(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ui).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Cv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ui).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ot).clear(),z(this,ji).clear()}},ot=new WeakMap,ji=new WeakMap,Ui=new WeakMap,xa=new WeakMap,Ta=new WeakMap,$i=new WeakMap,Sa=new WeakMap,ba=new WeakMap,mT),zi,Bi,fn,Zr,ii,$d,Ng,gT,zD=(gT=class extends mc{constructor(n,r){super();Re(this,ii);Re(this,zi);Re(this,Bi);Re(this,fn);Re(this,Zr);we(this,zi,n),this.setOptions(r),this.bindMethods(),lt(this,ii,$d).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=z(this,zi).defaultMutationOptions(n),SD(this.options,r)||z(this,zi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,fn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&to(r.mutationKey)!==to(this.options.mutationKey)?this.reset():((i=z(this,fn))==null?void 0:i.state.status)==="pending"&&z(this,fn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=z(this,fn))==null||n.removeObserver(this)}onMutationUpdate(n){lt(this,ii,$d).call(this),lt(this,ii,Ng).call(this,n)}getCurrentResult(){return z(this,Bi)}reset(){var n;(n=z(this,fn))==null||n.removeObserver(this),we(this,fn,void 0),lt(this,ii,$d).call(this),lt(this,ii,Ng).call(this)}mutate(n,r){var i;return we(this,Zr,r),(i=z(this,fn))==null||i.removeObserver(this),we(this,fn,z(this,zi).getMutationCache().build(z(this,zi),this.options)),z(this,fn).addObserver(this),z(this,fn).execute(n)}},zi=new WeakMap,Bi=new WeakMap,fn=new WeakMap,Zr=new WeakMap,ii=new WeakSet,$d=function(){var r;const n=((r=z(this,fn))==null?void 0:r.state)??Qb();we(this,Bi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Ng=function(n){Ot.batch(()=>{var r,i,s,o,a,l,c,d;if(z(this,Zr)&&this.hasListeners()){const f=z(this,Bi).variables,p=z(this,Bi).context;(n==null?void 0:n.type)==="success"?((i=(r=z(this,Zr)).onSuccess)==null||i.call(r,n.data,f,p),(o=(s=z(this,Zr)).onSettled)==null||o.call(s,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=z(this,Zr)).onError)==null||l.call(a,n.error,f,p),(d=(c=z(this,Zr)).onSettled)==null||d.call(c,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(z(this,Bi))})})},gT),Zb=b.createContext(void 0),BD=t=>{const e=b.useContext(Zb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},WD=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(Zb.Provider,{value:t,children:e}));function HD(t,e){return typeof t=="function"?t(...e):!!t}function KD(){}function qD(t,e){const n=BD(),[r]=b.useState(()=>new zD(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const i=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Ot.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=b.useCallback((o,a)=>{r.mutate(o,a).catch(KD)},[r]);if(i.error&&HD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const GD=new $D({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:60*1e3,retry:1,gcTime:10*60*1e3},mutations:{retry:0}}}),QD=1,ZD=1e6;let am=0;function YD(){return am=(am+1)%Number.MAX_SAFE_INTEGER,am.toString()}const lm=new Map,x1=t=>{if(lm.has(t))return;const e=setTimeout(()=>{lm.delete(t),nu({type:"REMOVE_TOAST",toastId:t})},ZD);lm.set(t,e)},XD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,QD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?x1(n):t.toasts.forEach(r=>{x1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zd=[];let Bd={toasts:[]};function nu(t){Bd=XD(Bd,t),zd.forEach(e=>{e(Bd)})}function JD({...t}){const e=YD(),n=i=>nu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>nu({type:"DISMISS_TOAST",toastId:e});return nu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Yb(){const[t,e]=b.useState(Bd);return b.useEffect(()=>(zd.push(e),()=>{const n=zd.indexOf(e);n>-1&&zd.splice(n,1)}),[t]),{...t,toast:JD,dismiss:n=>nu({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function T1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ph(...t){return e=>{let n=!1;const r=t.map(i=>{const s=T1(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():T1(t[i],null)}}}}function Ct(...t){return b.useCallback(Ph(...t),t)}function mo(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:p,children:g,..._}=f,v=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,I=b.useMemo(()=>_,Object.values(_));return w.jsx(v.Provider,{value:I,children:g})};c.displayName=s+"Provider";function d(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,_=b.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,e4(i,...e)]}function e4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pu(t){const e=n4(t),n=b.forwardRef((r,i)=>{const{children:s,...o}=r,a=b.Children.toArray(s),l=a.find(i4);if(l){const c=l.props.children,d=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return w.jsx(e,{...o,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return w.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var t4=Pu("Slot");function n4(t){const e=b.forwardRef((n,r)=>{const{children:i,...s}=n;if(b.isValidElement(i)){const o=o4(i),a=s4(s,i.props);return i.type!==b.Fragment&&(a.ref=r?Ph(r,o):o),b.cloneElement(i,a)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xb=Symbol("radix.slottable");function r4(t){const e=({children:n})=>w.jsx(w.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Xb,e}function i4(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xb}function s4(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function o4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kv(t){const e=t+"CollectionProvider",[n,r]=mo(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:I,children:x}=v,y=$e.useRef(null),C=$e.useRef(new Map).current;return w.jsx(i,{scope:I,itemMap:C,collectionRef:y,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Pu(a),c=$e.forwardRef((v,I)=>{const{scope:x,children:y}=v,C=s(a,x),P=Ct(I,C.collectionRef);return w.jsx(l,{ref:P,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Pu(d),g=$e.forwardRef((v,I)=>{const{scope:x,children:y,...C}=v,P=$e.useRef(null),D=Ct(I,P),L=s(d,x);return $e.useEffect(()=>(L.itemMap.set(P,{ref:P,...C}),()=>void L.itemMap.delete(P))),w.jsx(p,{[f]:"",ref:D,children:y})});g.displayName=d;function _(v){const I=s(t+"CollectionConsumer",v);return $e.useCallback(()=>{const y=I.collectionRef.current;if(!y)return[];const C=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(I.itemMap.values()).sort((L,T)=>C.indexOf(L.ref.current)-C.indexOf(T.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},_,r]}var a4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=a4.reduce((t,e)=>{const n=Pu(`Primitive.${e}`),r=b.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Rv(t,e){t&&pc.flushSync(()=>t.dispatchEvent(e))}function an(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function l4(t,e=globalThis==null?void 0:globalThis.document){const n=an(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var u4="DismissableLayer",Og="dismissableLayer.update",c4="dismissableLayer.pointerDownOutside",d4="dismissableLayer.focusOutside",S1,Jb=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nh=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(Jb),[d,f]=b.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),_=Ct(e,T=>f(T)),v=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(I),y=d?v.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,P=y>=x,D=h4(T=>{const E=T.target,S=[...c.branches].some(R=>R.contains(E));!P||S||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},p),L=p4(T=>{const E=T.target;[...c.branches].some(R=>R.contains(E))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},p);return l4(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),b.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(S1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),b1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=S1)}},[d,p,n,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),b1())},[d,c]),b.useEffect(()=>{const T=()=>g({});return document.addEventListener(Og,T),()=>document.removeEventListener(Og,T)},[]),w.jsx(rt.div,{...l,ref:_,style:{pointerEvents:C?P?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,D.onPointerDownCapture)})});Nh.displayName=u4;var f4="DismissableLayerBranch",eI=b.forwardRef((t,e)=>{const n=b.useContext(Jb),r=b.useRef(null),i=Ct(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(rt.div,{...t,ref:i})});eI.displayName=f4;function h4(t,e=globalThis==null?void 0:globalThis.document){const n=an(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){tI(c4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function p4(t,e=globalThis==null?void 0:globalThis.document){const n=an(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&tI(d4,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function b1(){const t=new CustomEvent(Og);document.dispatchEvent(t)}function tI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Rv(i,s):i.dispatchEvent(s)}var m4=Nh,g4=eI,as=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},y4="Portal",Pv=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=b.useState(!1);as(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BO.createPortal(w.jsx(rt.div,{...r,ref:e}),o):null});Pv.displayName=y4;function v4(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var go=t=>{const{present:e,children:n}=t,r=_4(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Ct(r.ref,w4(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};go.displayName="Presence";function _4(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=v4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=md(r.current);s.current=a==="mounted"?c:"none"},[a]),as(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=md(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),as(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const v=md(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},p=g=>{g.target===e&&(s.current=md(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function md(t){return(t==null?void 0:t.animationName)||"none"}function w4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nv({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=E4({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=an(n),l=b.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function E4({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),s=an(e);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var x4="VisuallyHidden",Oh=b.forwardRef((t,e)=>w.jsx(rt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Oh.displayName=x4;var T4=Oh,Ov="ToastProvider",[Dv,S4,b4]=kv("Toast"),[nI,EH]=mo("Toast",[b4]),[I4,Dh]=nI(Ov),rI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ov}\`. Expected non-empty \`string\`.`),w.jsx(Dv.Provider,{scope:e,children:w.jsx(I4,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(g=>g+1),[]),onToastRemove:b.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};rI.displayName=Ov;var iI="ToastViewport",C4=["F8"],Dg="toast.viewportPause",Mg="toast.viewportResume",sI=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=C4,label:i="Notifications ({hotkey})",...s}=t,o=Dh(iI,n),a=S4(n),l=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),p=Ct(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;b.useEffect(()=>{const I=x=>{var C;r.length!==0&&r.every(P=>x[P]||x.code===P)&&((C=f.current)==null||C.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),b.useEffect(()=>{const I=l.current,x=f.current;if(_&&I&&x){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Dg);x.dispatchEvent(L),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Mg);x.dispatchEvent(L),o.isClosePausedRef.current=!1}},P=L=>{!I.contains(L.relatedTarget)&&C()},D=()=>{I.contains(document.activeElement)||C()};return I.addEventListener("focusin",y),I.addEventListener("focusout",P),I.addEventListener("pointermove",y),I.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",C),()=>{I.removeEventListener("focusin",y),I.removeEventListener("focusout",P),I.removeEventListener("pointermove",y),I.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",C)}}},[_,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:I})=>{const y=a().map(C=>{const P=C.ref.current,D=[P,...U4(P)];return I==="forwards"?D:D.reverse()});return(I==="forwards"?y.reverse():y).flat()},[a]);return b.useEffect(()=>{const I=f.current;if(I){const x=y=>{var D,L,T;const C=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!C){const E=document.activeElement,S=y.shiftKey;if(y.target===I&&S){(D=c.current)==null||D.focus();return}const N=v({tabbingDirection:S?"backwards":"forwards"}),A=N.findIndex(W=>W===E);um(N.slice(A+1))?y.preventDefault():S?(L=c.current)==null||L.focus():(T=d.current)==null||T.focus()}};return I.addEventListener("keydown",x),()=>I.removeEventListener("keydown",x)}},[a,v]),w.jsxs(g4,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&w.jsx(Lg,{ref:c,onFocusFromOutsideViewport:()=>{const I=v({tabbingDirection:"forwards"});um(I)}}),w.jsx(Dv.Slot,{scope:n,children:w.jsx(rt.ol,{tabIndex:-1,...s,ref:p})}),_&&w.jsx(Lg,{ref:d,onFocusFromOutsideViewport:()=>{const I=v({tabbingDirection:"backwards"});um(I)}})]})});sI.displayName=iI;var oI="ToastFocusProxy",Lg=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Dh(oI,n);return w.jsx(Oh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Lg.displayName=oI;var Mh="Toast",A4="toast.swipeStart",k4="toast.swipeMove",R4="toast.swipeCancel",P4="toast.swipeEnd",aI=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Nv({prop:r,defaultProp:i,onChange:s});return w.jsx(go,{present:n||a,children:w.jsx(D4,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:an(t.onPause),onResume:an(t.onResume),onSwipeStart:pe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});aI.displayName=Mh;var[N4,O4]=nI(Mh,{onClose(){}}),D4=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,..._}=t,v=Dh(Mh,n),[I,x]=b.useState(null),y=Ct(e,W=>x(W)),C=b.useRef(null),P=b.useRef(null),D=i||v.duration,L=b.useRef(0),T=b.useRef(D),E=b.useRef(0),{onToastAdd:S,onToastRemove:R}=v,O=an(()=>{var se;(I==null?void 0:I.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),N=b.useCallback(W=>{!W||W===1/0||(window.clearTimeout(E.current),L.current=new Date().getTime(),E.current=window.setTimeout(O,W))},[O]);b.useEffect(()=>{const W=v.viewport;if(W){const se=()=>{N(T.current),c==null||c()},X=()=>{const ue=new Date().getTime()-L.current;T.current=T.current-ue,window.clearTimeout(E.current),l==null||l()};return W.addEventListener(Dg,X),W.addEventListener(Mg,se),()=>{W.removeEventListener(Dg,X),W.removeEventListener(Mg,se)}}},[v.viewport,D,l,c,N]),b.useEffect(()=>{s&&!v.isClosePausedRef.current&&N(D)},[s,D,v.isClosePausedRef,N]),b.useEffect(()=>(S(),()=>R()),[S,R]);const A=b.useMemo(()=>I?pI(I):null,[I]);return v.viewport?w.jsxs(w.Fragment,{children:[A&&w.jsx(M4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),w.jsx(N4,{scope:n,onClose:O,children:pc.createPortal(w.jsx(Dv.ItemSlot,{scope:n,children:w.jsx(m4,{asChild:!0,onEscapeKeyDown:pe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:pe(t.onPointerDown,W=>{W.button===0&&(C.current={x:W.clientX,y:W.clientY})}),onPointerMove:pe(t.onPointerMove,W=>{if(!C.current)return;const se=W.clientX-C.current.x,X=W.clientY-C.current.y,ue=!!P.current,j=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=j?$(0,se):0,ne=j?0:$(0,X),he=W.pointerType==="touch"?10:2,Se={x:J,y:ne},Ze={originalEvent:W,delta:Se};ue?(P.current=Se,gd(k4,f,Ze,{discrete:!1})):I1(Se,v.swipeDirection,he)?(P.current=Se,gd(A4,d,Ze,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>he||Math.abs(X)>he)&&(C.current=null)}),onPointerUp:pe(t.onPointerUp,W=>{const se=P.current,X=W.target;if(X.hasPointerCapture(W.pointerId)&&X.releasePointerCapture(W.pointerId),P.current=null,C.current=null,se){const ue=W.currentTarget,j={originalEvent:W,delta:se};I1(se,v.swipeDirection,v.swipeThreshold)?gd(P4,g,j,{discrete:!0}):gd(R4,p,j,{discrete:!0}),ue.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),M4=t=>{const{__scopeToast:e,children:n,...r}=t,i=Dh(Mh,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return F4(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:w.jsx(Pv,{asChild:!0,children:w.jsx(Oh,{...r,children:s&&w.jsxs(w.Fragment,{children:[i.label," ",n]})})})},L4="ToastTitle",lI=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(rt.div,{...r,ref:e})});lI.displayName=L4;var V4="ToastDescription",uI=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(rt.div,{...r,ref:e})});uI.displayName=V4;var cI="ToastAction",dI=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(hI,{altText:n,asChild:!0,children:w.jsx(Mv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cI}\`. Expected non-empty \`string\`.`),null)});dI.displayName=cI;var fI="ToastClose",Mv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=O4(fI,n);return w.jsx(hI,{asChild:!0,children:w.jsx(rt.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});Mv.displayName=fI;var hI=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return w.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function pI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),j4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...pI(r))}}),e}function gd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Rv(i,s):i.dispatchEvent(s)}var I1=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function F4(t=()=>{}){const e=an(t);as(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function j4(t){return t.nodeType===t.ELEMENT_NODE}function U4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function um(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $4=rI,mI=sI,gI=aI,yI=lI,vI=uI,_I=dI,wI=Mv;function EI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=EI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=EI(t))&&(r&&(r+=" "),r+=e);return r}const C1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A1=xI,TI=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return A1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const p=C1(d)||C1(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(_=>{let[v,I]=_;return Array.isArray(I)?I.includes({...s,...a}[v]):{...s,...a}[v]===I})?[...c,f,p]:c},[]);return A1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...B4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SI("lucide",i),...a},[...o.map(([c,d])=>b.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(W4,{ref:s,iconNode:e,className:SI(`lucide-${z4(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=At("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=At("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=At("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=At("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=At("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=At("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=At("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=At("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=At("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=At("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=At("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=At("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=At("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=At("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=At("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=At("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vv="-",iM=t=>{const e=oM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Vv);return a[0]===""&&a.length!==1&&a.shift(),AI(a,e)||sM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},AI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?AI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Vv);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},k1=/^\[(.+)\]$/,sM=t=>{if(k1.test(t)){const e=k1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return lM(Object.entries(t.classGroups),n).forEach(([s,o])=>{Fg(o,r,s,e)}),r},Fg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:R1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(aM(i)){Fg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Fg(o,R1(e,s),n,r)})})},R1=(t,e)=>{let n=t;return e.split(Vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aM=t=>t.isThemeGetter,lM=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,uM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},kI="!",cM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let I=0;I<a.length;I++){let x=a[I];if(c===0){if(x===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(d,I)),d=I+s;continue}if(x==="/"){f=I;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(kI),_=g?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},dM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fM=t=>({cache:uM(t.cacheSize),parseClassName:cM(t),...iM(t)}),hM=/\s+/,pM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(hM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let _=!!g,v=r(_?p.substring(0,g):p);if(!v){if(!_){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}_=!1}const I=dM(d).join(":"),x=f?I+kI:I,y=x+v;if(s.includes(y))continue;s.push(y);const C=i(v,_);for(let P=0;P<C.length;++P){const D=C[P];s.push(x+D)}a=c+(a.length>0?" "+a:a)}return a};function mM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=RI(e))&&(r&&(r+=" "),r+=n);return r}const RI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=RI(t[r]))&&(n&&(n+=" "),n+=e);return n};function gM(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=fM(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=pM(l,n);return i(l,d),d}return function(){return s(mM.apply(null,arguments))}}const He=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PI=/^\[(?:([a-z-]+):)?(.+)\]$/i,yM=/^\d+\/\d+$/,vM=new Set(["px","full","screen"]),_M=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=t=>ua(t)||vM.has(t)||yM.test(t),Ti=t=>Za(t,"length",PM),ua=t=>!!t&&!Number.isNaN(Number(t)),cm=t=>Za(t,"number",ua),Rl=t=>!!t&&Number.isInteger(Number(t)),SM=t=>t.endsWith("%")&&ua(t.slice(0,-1)),be=t=>PI.test(t),Si=t=>_M.test(t),bM=new Set(["length","size","percentage"]),IM=t=>Za(t,bM,NI),CM=t=>Za(t,"position",NI),AM=new Set(["image","url"]),kM=t=>Za(t,AM,OM),RM=t=>Za(t,"",NM),Pl=()=>!0,Za=(t,e,n)=>{const r=PI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},PM=t=>wM.test(t)&&!EM.test(t),NI=()=>!1,NM=t=>xM.test(t),OM=t=>TM.test(t),DM=()=>{const t=He("colors"),e=He("spacing"),n=He("blur"),r=He("brightness"),i=He("borderColor"),s=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),l=He("contrast"),c=He("grayscale"),d=He("hueRotate"),f=He("invert"),p=He("gap"),g=He("gradientColorStops"),_=He("gradientColorStopPositions"),v=He("inset"),I=He("margin"),x=He("opacity"),y=He("padding"),C=He("saturate"),P=He("scale"),D=He("sepia"),L=He("skew"),T=He("space"),E=He("translate"),S=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",be,e],N=()=>[be,e],A=()=>["",Br,Ti],W=()=>["auto",ua,be],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",be],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ua,be];return{cacheSize:500,separator:":",theme:{colors:[Pl],spacing:[Br,Ti],blur:["none","",Si,be],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Si,be],borderSpacing:N(),borderWidth:A(),contrast:ne(),grayscale:$(),hueRotate:ne(),invert:$(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[SM,Ti],inset:O(),margin:O(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:$(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[Si]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),be]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,be]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Rl,be]}],"grid-cols":[{"grid-cols":[Pl]}],"col-start-end":[{col:["auto",{span:["full",Rl,be]},be]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Pl]}],"row-start-end":[{row:["auto",{span:[Rl,be]},be]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[Si]},Si]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Si,Ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cm]}],"font-family":[{font:[Pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",ua,cm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,Ti]}],"underline-offset":[{"underline-offset":["auto",Br,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),CM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Br,be]}],"outline-w":[{outline:[Br,Ti]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Br,Ti]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Si,RM]}],"shadow-color":[{shadow:[Pl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Si,be]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Rl,be]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Br,Ti,cm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MM=gM(DM);function kt(...t){return MM(xI(t))}const LM=$4,OI=b.forwardRef(({className:t,...e},n)=>w.jsx(mI,{ref:n,className:kt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));OI.displayName=mI.displayName;const VM=TI("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DI=b.forwardRef(({className:t,variant:e,...n},r)=>w.jsx(gI,{ref:r,className:kt(VM({variant:e}),t),...n}));DI.displayName=gI.displayName;const FM=b.forwardRef(({className:t,...e},n)=>w.jsx(_I,{ref:n,className:kt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));FM.displayName=_I.displayName;const MI=b.forwardRef(({className:t,...e},n)=>w.jsx(wI,{ref:n,className:kt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(rM,{className:"h-4 w-4"})}));MI.displayName=wI.displayName;const LI=b.forwardRef(({className:t,...e},n)=>w.jsx(yI,{ref:n,className:kt("text-sm font-semibold",t),...e}));LI.displayName=yI.displayName;const VI=b.forwardRef(({className:t,...e},n)=>w.jsx(vI,{ref:n,className:kt("text-sm opacity-90",t),...e}));VI.displayName=vI.displayName;function jM(){const{toasts:t}=Yb();return w.jsxs(LM,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return w.jsxs(DI,{...s,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(LI,{children:n}),r&&w.jsx(VI,{children:r})]}),i,w.jsx(MI,{})]},e)}),w.jsx(OI,{})]})}var UM=AT[" useId ".trim().toString()]||(()=>{}),$M=0;function jg(t){const[e,n]=b.useState(UM());return as(()=>{n(r=>r??String($M++))},[t]),e?`radix-${e}`:""}const zM=["top","right","bottom","left"],ls=Math.min,Sn=Math.max,kf=Math.round,yd=Math.floor,Sr=t=>({x:t,y:t}),BM={left:"right",right:"left",bottom:"top",top:"bottom"},WM={start:"end",end:"start"};function Ug(t,e,n){return Sn(t,ls(e,n))}function ui(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function Ya(t){return t.split("-")[1]}function Fv(t){return t==="x"?"y":"x"}function jv(t){return t==="y"?"height":"width"}function us(t){return["top","bottom"].includes(ci(t))?"y":"x"}function Uv(t){return Fv(us(t))}function HM(t,e,n){n===void 0&&(n=!1);const r=Ya(t),i=Uv(t),s=jv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Rf(o)),[o,Rf(o)]}function KM(t){const e=Rf(t);return[$g(t),e,$g(e)]}function $g(t){return t.replace(/start|end/g,e=>WM[e])}function qM(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function GM(t,e,n,r){const i=Ya(t);let s=qM(ci(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map($g)))),s}function Rf(t){return t.replace(/left|right|bottom|top/g,e=>BM[e])}function QM(t){return{top:0,right:0,bottom:0,left:0,...t}}function FI(t){return typeof t!="number"?QM(t):{top:t,right:t,bottom:t,left:t}}function Pf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function P1(t,e,n){let{reference:r,floating:i}=t;const s=us(e),o=Uv(e),a=jv(o),l=ci(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ya(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const ZM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=P1(c,r,l),p=r,g={},_=0;for(let v=0;v<a.length;v++){const{name:I,fn:x}=a[v],{x:y,y:C,data:P,reset:D}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=C??f,g={...g,[I]:{...g[I],...P}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:f}=P1(c,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function Nu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=ui(e,t),_=FI(g),I=a[p?f==="floating"?"reference":"floating":f],x=Pf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},D=Pf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:C,strategy:l}):y);return{top:(x.top-D.top+_.top)/P.y,bottom:(D.bottom-x.bottom+_.bottom)/P.y,left:(x.left-D.left+_.left)/P.x,right:(D.right-x.right+_.right)/P.x}}const YM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=ui(t,e)||{};if(c==null)return{};const f=FI(d),p={x:n,y:r},g=Uv(i),_=jv(g),v=await o.getDimensions(c),I=g==="y",x=I?"top":"left",y=I?"bottom":"right",C=I?"clientHeight":"clientWidth",P=s.reference[_]+s.reference[g]-p[g]-s.floating[_],D=p[g]-s.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=L?L[C]:0;(!T||!await(o.isElement==null?void 0:o.isElement(L)))&&(T=a.floating[C]||s.floating[_]);const E=P/2-D/2,S=T/2-v[_]/2-1,R=ls(f[x],S),O=ls(f[y],S),N=R,A=T-v[_]-O,W=T/2-v[_]/2+E,se=Ug(N,W,A),X=!l.arrow&&Ya(i)!=null&&W!==se&&s.reference[_]/2-(W<N?R:O)-v[_]/2<0,ue=X?W<N?W-N:W-A:0;return{[g]:p[g]+ue,data:{[g]:se,centerOffset:W-se-ue,...X&&{alignmentOffset:ue}},reset:X}}}),XM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...I}=ui(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ci(i),y=us(a),C=ci(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(C||!v?[Rf(a)]:KM(a)),L=_!=="none";!p&&L&&D.push(...GM(a,v,_,P));const T=[a,...D],E=await Nu(e,I),S=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&S.push(E[x]),f){const W=HM(i,o,P);S.push(E[W[0]],E[W[1]])}if(R=[...R,{placement:i,overflows:S}],!S.every(W=>W<=0)){var O,N;const W=(((O=s.flip)==null?void 0:O.index)||0)+1,se=T[W];if(se)return{data:{index:W,overflows:R},reset:{placement:se}};let X=(N=R.filter(ue=>ue.overflows[0]<=0).sort((ue,j)=>ue.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!X)switch(g){case"bestFit":{var A;const ue=(A=R.filter(j=>{if(L){const $=us(j.placement);return $===y||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,J)=>$+J,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:A[0];ue&&(X=ue);break}case"initialPlacement":X=a;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function N1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function O1(t){return zM.some(e=>t[e]>=0)}const JM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ui(t,e);switch(r){case"referenceHidden":{const s=await Nu(e,{...i,elementContext:"reference"}),o=N1(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:O1(o)}}}case"escaped":{const s=await Nu(e,{...i,altBoundary:!0}),o=N1(s,n.floating);return{data:{escapedOffsets:o,escaped:O1(o)}}}default:return{}}}}};async function eL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ci(n),a=Ya(n),l=us(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=ui(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const tL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await eL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},nL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x,y}=I;return{x,y}}},...l}=ui(t,e),c={x:n,y:r},d=await Nu(e,l),f=us(ci(i)),p=Fv(f);let g=c[p],_=c[f];if(s){const I=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=g+d[I],C=g-d[x];g=Ug(y,g,C)}if(o){const I=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=_+d[I],C=_-d[x];_=Ug(y,_,C)}const v=a.fn({...e,[p]:g,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:s,[f]:o}}}}}},rL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ui(t,e),d={x:n,y:r},f=us(i),p=Fv(f);let g=d[p],_=d[f];const v=ui(a,e),I=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=p==="y"?"height":"width",P=s.reference[p]-s.floating[C]+I.mainAxis,D=s.reference[p]+s.reference[C]-I.mainAxis;g<P?g=P:g>D&&(g=D)}if(c){var x,y;const C=p==="y"?"width":"height",P=["top","left"].includes(ci(i)),D=s.reference[f]-s.floating[C]+(P&&((x=o.offset)==null?void 0:x[f])||0)+(P?0:I.crossAxis),L=s.reference[f]+s.reference[C]+(P?0:((y=o.offset)==null?void 0:y[f])||0)-(P?I.crossAxis:0);_<D?_=D:_>L&&(_=L)}return{[p]:g,[f]:_}}}},iL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ui(t,e),d=await Nu(e,c),f=ci(i),p=Ya(i),g=us(i)==="y",{width:_,height:v}=s.floating;let I,x;f==="top"||f==="bottom"?(I=f,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,I=p==="end"?"top":"bottom");const y=v-d.top-d.bottom,C=_-d.left-d.right,P=ls(v-d[I],y),D=ls(_-d[x],C),L=!e.middlewareData.shift;let T=P,E=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),L&&!p){const R=Sn(d.left,0),O=Sn(d.right,0),N=Sn(d.top,0),A=Sn(d.bottom,0);g?E=_-2*(R!==0||O!==0?R+O:Sn(d.left,d.right)):T=v-2*(N!==0||A!==0?N+A:Sn(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:T});const S=await o.getDimensions(a.floating);return _!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}};function Lh(){return typeof window<"u"}function Xa(t){return jI(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(t){var e;return(e=(jI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jI(t){return Lh()?t instanceof Node||t instanceof An(t).Node:!1}function or(t){return Lh()?t instanceof Element||t instanceof An(t).Element:!1}function Rr(t){return Lh()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function D1(t){return!Lh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}function gc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function sL(t){return["table","td","th"].includes(Xa(t))}function Vh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $v(t){const e=zv(),n=or(t)?ar(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function oL(t){let e=cs(t);for(;Rr(e)&&!Da(e);){if($v(e))return e;if(Vh(e))return null;e=cs(e)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Da(t){return["html","body","#document"].includes(Xa(t))}function ar(t){return An(t).getComputedStyle(t)}function Fh(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function cs(t){if(Xa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D1(t)&&t.host||Lr(t);return D1(e)?e.host:e}function UI(t){const e=cs(t);return Da(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rr(e)&&gc(e)?e:UI(e)}function Ou(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=UI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=An(i);if(s){const a=zg(o);return e.concat(o,o.visualViewport||[],gc(i)?i:[],a&&n?Ou(a):[])}return e.concat(i,Ou(i,[],n))}function zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $I(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=kf(n)!==s||kf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Bv(t){return or(t)?t:t.contextElement}function ca(t){const e=Bv(t);if(!Rr(e))return Sr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=$I(e);let o=(s?kf(n.width):n.width)/r,a=(s?kf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aL=Sr(0);function zI(t){const e=An(t);return!zv()||!e.visualViewport?aL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function no(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Bv(t);let o=Sr(1);e&&(r?or(r)&&(o=ca(r)):o=ca(t));const a=lL(s,n,r)?zI(s):Sr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=An(s),g=r&&or(r)?An(r):r;let _=p,v=zg(_);for(;v&&r&&g!==_;){const I=ca(v),x=v.getBoundingClientRect(),y=ar(v),C=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*I.x,P=x.top+(v.clientTop+parseFloat(y.paddingTop))*I.y;l*=I.x,c*=I.y,d*=I.x,f*=I.y,l+=C,c+=P,_=An(v),v=zg(_)}}return Pf({width:d,height:f,x:l,y:c})}function Wv(t,e){const n=Fh(t).scrollLeft;return e?e.left+n:no(Lr(t)).left+n}function BI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Wv(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function uL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Lr(r),a=e?Vh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Sr(1);const d=Sr(0),f=Rr(r);if((f||!f&&!s)&&((Xa(r)!=="body"||gc(o))&&(l=Fh(r)),Rr(r))){const g=no(r);c=ca(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!s?BI(o,l,!0):Sr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function cL(t){return Array.from(t.getClientRects())}function dL(t){const e=Lr(t),n=Fh(t),r=t.ownerDocument.body,i=Sn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Sn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Wv(t);const a=-n.scrollTop;return ar(r).direction==="rtl"&&(o+=Sn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function fL(t,e){const n=An(t),r=Lr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=zv();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function hL(t,e){const n=no(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Rr(t)?ca(t):Sr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function M1(t,e,n){let r;if(e==="viewport")r=fL(t,n);else if(e==="document")r=dL(Lr(t));else if(or(e))r=hL(e,n);else{const i=zI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Pf(r)}function WI(t,e){const n=cs(t);return n===e||!or(n)||Da(n)?!1:ar(n).position==="fixed"||WI(n,e)}function pL(t,e){const n=e.get(t);if(n)return n;let r=Ou(t,[],!1).filter(a=>or(a)&&Xa(a)!=="body"),i=null;const s=ar(t).position==="fixed";let o=s?cs(t):t;for(;or(o)&&!Da(o);){const a=ar(o),l=$v(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gc(o)&&!l&&WI(t,o))?r=r.filter(d=>d!==o):i=a,o=cs(o)}return e.set(t,r),r}function mL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vh(e)?[]:pL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=M1(e,d,i);return c.top=Sn(f.top,c.top),c.right=ls(f.right,c.right),c.bottom=ls(f.bottom,c.bottom),c.left=Sn(f.left,c.left),c},M1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gL(t){const{width:e,height:n}=$I(t);return{width:e,height:n}}function yL(t,e,n){const r=Rr(e),i=Lr(e),s=n==="fixed",o=no(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);if(r||!r&&!s)if((Xa(e)!=="body"||gc(i))&&(a=Fh(e)),r){const p=no(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=Wv(i));const c=i&&!r&&!s?BI(i,a):Sr(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function dm(t){return ar(t).position==="static"}function L1(t,e){if(!Rr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Lr(t)===n&&(n=n.ownerDocument.body),n}function HI(t,e){const n=An(t);if(Vh(t))return n;if(!Rr(t)){let i=cs(t);for(;i&&!Da(i);){if(or(i)&&!dm(i))return i;i=cs(i)}return n}let r=L1(t,e);for(;r&&sL(r)&&dm(r);)r=L1(r,e);return r&&Da(r)&&dm(r)&&!$v(r)?n:r||oL(t)||n}const vL=async function(t){const e=this.getOffsetParent||HI,n=this.getDimensions,r=await n(t.floating);return{reference:yL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _L(t){return ar(t).direction==="rtl"}const wL={convertOffsetParentRelativeRectToViewportRelativeRect:uL,getDocumentElement:Lr,getClippingRect:mL,getOffsetParent:HI,getElementRects:vL,getClientRects:cL,getDimensions:gL,getScale:ca,isElement:or,isRTL:_L};function KI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function EL(t,e){let n=null,r;const i=Lr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(a||e(),!p||!g)return;const _=yd(f),v=yd(i.clientWidth-(d+p)),I=yd(i.clientHeight-(f+g)),x=yd(d),C={rootMargin:-_+"px "+-v+"px "+-I+"px "+-x+"px",threshold:Sn(0,ls(1,l))||1};let P=!0;function D(L){const T=L[0].intersectionRatio;if(T!==l){if(!P)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!KI(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,C)}n.observe(t)}return o(!0),s}function xL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Bv(t),d=i||s?[...c?Ou(c):[],...Ou(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=c&&a?EL(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,v=l?no(t):null;l&&I();function I(){const x=no(t);v&&!KI(v,x)&&n(),v=x,_=requestAnimationFrame(I)}return n(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const TL=tL,SL=nL,bL=XM,IL=iL,CL=JM,V1=YM,AL=rL,kL=(t,e,n)=>{const r=new Map,i={platform:wL,...n},s={...i.platform,_c:r};return ZM(t,e,{...i,platform:s})};var Wd=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Nf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Nf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function qI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F1(t,e){const n=qI(t);return Math.round(e*n)/n}function fm(t){const e=b.useRef(t);return Wd(()=>{e.current=t}),e}function RL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(r);Nf(p,r)||g(r);const[_,v]=b.useState(null),[I,x]=b.useState(null),y=b.useCallback(j=>{j!==L.current&&(L.current=j,v(j))},[]),C=b.useCallback(j=>{j!==T.current&&(T.current=j,x(j))},[]),P=s||_,D=o||I,L=b.useRef(null),T=b.useRef(null),E=b.useRef(d),S=l!=null,R=fm(l),O=fm(i),N=fm(c),A=b.useCallback(()=>{if(!L.current||!T.current)return;const j={placement:e,strategy:n,middleware:p};O.current&&(j.platform=O.current),kL(L.current,T.current,j).then($=>{const J={...$,isPositioned:N.current!==!1};W.current&&!Nf(E.current,J)&&(E.current=J,pc.flushSync(()=>{f(J)}))})},[p,e,n,O,N]);Wd(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const W=b.useRef(!1);Wd(()=>(W.current=!0,()=>{W.current=!1}),[]),Wd(()=>{if(P&&(L.current=P),D&&(T.current=D),P&&D){if(R.current)return R.current(P,D,A);A()}},[P,D,A,R,S]);const se=b.useMemo(()=>({reference:L,floating:T,setReference:y,setFloating:C}),[y,C]),X=b.useMemo(()=>({reference:P,floating:D}),[P,D]),ue=b.useMemo(()=>{const j={position:n,left:0,top:0};if(!X.floating)return j;const $=F1(X.floating,d.x),J=F1(X.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+J+"px)",...qI(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:J}},[n,a,X.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:A,refs:se,elements:X,floatingStyles:ue}),[d,A,se,X,ue])}const PL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?V1({element:r.current,padding:i}).fn(n):{}:r?V1({element:r,padding:i}).fn(n):{}}}},NL=(t,e)=>({...TL(t),options:[t,e]}),OL=(t,e)=>({...SL(t),options:[t,e]}),DL=(t,e)=>({...AL(t),options:[t,e]}),ML=(t,e)=>({...bL(t),options:[t,e]}),LL=(t,e)=>({...IL(t),options:[t,e]}),VL=(t,e)=>({...CL(t),options:[t,e]}),FL=(t,e)=>({...PL(t),options:[t,e]});var jL="Arrow",GI=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return w.jsx(rt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});GI.displayName=jL;var UL=GI;function $L(t){const[e,n]=b.useState(void 0);return as(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Hv="Popper",[QI,jh]=mo(Hv),[zL,ZI]=QI(Hv),YI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return w.jsx(zL,{scope:e,anchor:r,onAnchorChange:i,children:n})};YI.displayName=Hv;var XI="PopperAnchor",JI=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=ZI(XI,n),o=b.useRef(null),a=Ct(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:w.jsx(rt.div,{...i,ref:a})});JI.displayName=XI;var Kv="PopperContent",[BL,WL]=QI(Kv),eC=b.forwardRef((t,e)=>{var it,Vr,xt,wn,Bn,Fr;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,I=ZI(Kv,n),[x,y]=b.useState(null),C=Ct(e,Wn=>y(Wn)),[P,D]=b.useState(null),L=$L(P),T=(L==null?void 0:L.width)??0,E=(L==null?void 0:L.height)??0,S=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],N=O.length>0,A={padding:R,boundary:O.filter(KL),altBoundary:N},{refs:W,floatingStyles:se,placement:X,isPositioned:ue,middlewareData:j}=RL({strategy:"fixed",placement:S,whileElementsMounted:(...Wn)=>xL(...Wn,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[NL({mainAxis:i+E,alignmentAxis:o}),l&&OL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DL():void 0,...A}),l&&ML({...A}),LL({...A,apply:({elements:Wn,rects:jr,availableWidth:Ts,availableHeight:Ss})=>{const{width:To,height:al}=jr.reference,Ur=Wn.floating.style;Ur.setProperty("--radix-popper-available-width",`${Ts}px`),Ur.setProperty("--radix-popper-available-height",`${Ss}px`),Ur.setProperty("--radix-popper-anchor-width",`${To}px`),Ur.setProperty("--radix-popper-anchor-height",`${al}px`)}}),P&&FL({element:P,padding:a}),qL({arrowWidth:T,arrowHeight:E}),p&&VL({strategy:"referenceHidden",...A})]}),[$,J]=rC(X),ne=an(_);as(()=>{ue&&(ne==null||ne())},[ue,ne]);const he=(it=j.arrow)==null?void 0:it.x,Se=(Vr=j.arrow)==null?void 0:Vr.y,Ze=((xt=j.arrow)==null?void 0:xt.centerOffset)!==0,[ft,vt]=b.useState();return as(()=>{x&&vt(window.getComputedStyle(x).zIndex)},[x]),w.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ue?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ft,"--radix-popper-transform-origin":[(wn=j.transformOrigin)==null?void 0:wn.x,(Bn=j.transformOrigin)==null?void 0:Bn.y].join(" "),...((Fr=j.hide)==null?void 0:Fr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx(BL,{scope:n,placedSide:$,onArrowChange:D,arrowX:he,arrowY:Se,shouldHideArrow:Ze,children:w.jsx(rt.div,{"data-side":$,"data-align":J,...v,ref:C,style:{...v.style,animation:ue?void 0:"none"}})})})});eC.displayName=Kv;var tC="PopperArrow",HL={top:"bottom",right:"left",bottom:"top",left:"right"},nC=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=WL(tC,r),o=HL[s.placedSide];return w.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:w.jsx(UL,{...i,ref:n,style:{...i.style,display:"block"}})})});nC.displayName=tC;function KL(t){return t!==null}var qL=t=>({name:"transformOrigin",options:t,fn(e){var I,x,y;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=rC(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let _="",v="";return c==="bottom"?(_=o?f:`${p}px`,v=`${-l}px`):c==="top"?(_=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,v=o?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x:_,y:v}}}});function rC(t){const[e,n="center"]=t.split("-");return[e,n]}var GL=YI,iC=JI,sC=eC,oC=nC,[Uh,xH]=mo("Tooltip",[jh]),qv=jh(),aC="TooltipProvider",QL=700,j1="tooltip.open",[ZL,lC]=Uh(aC),uC=t=>{const{__scopeTooltip:e,delayDuration:n=QL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),w.jsx(ZL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};uC.displayName=aC;var cC="Tooltip",[TH,$h]=Uh(cC),Bg="TooltipTrigger",YL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=$h(Bg,n),s=lC(Bg,n),o=qv(n),a=b.useRef(null),l=Ct(e,a,i.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),w.jsx(iC,{asChild:!0,...o,children:w.jsx(rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});YL.displayName=Bg;var XL="TooltipPortal",[SH,JL]=Uh(XL,{forceMount:void 0}),Ma="TooltipContent",dC=b.forwardRef((t,e)=>{const n=JL(Ma,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=$h(Ma,t.__scopeTooltip);return w.jsx(go,{present:r||o.open,children:o.disableHoverableContent?w.jsx(fC,{side:i,...s,ref:e}):w.jsx(e3,{side:i,...s,ref:e})})}),e3=b.forwardRef((t,e)=>{const n=$h(Ma,t.__scopeTooltip),r=lC(Ma,t.__scopeTooltip),i=b.useRef(null),s=Ct(e,i),[o,a]=b.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,p=b.useCallback(()=>{a(null),f(!1)},[f]),g=b.useCallback((_,v)=>{const I=_.currentTarget,x={x:_.clientX,y:_.clientY},y=s3(x,I.getBoundingClientRect()),C=o3(x,y),P=a3(v.getBoundingClientRect()),D=u3([...C,...P]);a(D),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(l&&d){const _=I=>g(I,d),v=I=>g(I,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",v)}}},[l,d,g,p]),b.useEffect(()=>{if(o){const _=v=>{const I=v.target,x={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(I))||(d==null?void 0:d.contains(I)),C=!l3(x,o);y?p():C&&(p(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,p]),w.jsx(fC,{...t,ref:s})}),[t3,n3]=Uh(cC,{isInside:!1}),r3=r4("TooltipContent"),fC=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=$h(Ma,n),c=qv(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(j1,d),()=>document.removeEventListener(j1,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),w.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:w.jsxs(sC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(r3,{children:r}),w.jsx(t3,{scope:n,isInside:!0,children:w.jsx(T4,{id:l.contentId,role:"tooltip",children:i||r})})]})})});dC.displayName=Ma;var hC="TooltipArrow",i3=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=qv(n);return n3(hC,n).isInside?null:w.jsx(oC,{...i,...r,ref:e})});i3.displayName=hC;function s3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function o3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function a3(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function l3(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function u3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),c3(e)}function c3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var d3=uC,pC=dC;const f3=d3,h3=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(pC,{ref:r,sideOffset:e,className:kt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));h3.displayName=pC.displayName;const p3=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Hs(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},U1={},Wg=(t,e,n,r)=>{Hs(n)&&U1[n]||(Hs(n)&&(U1[n]=new Date),p3(t,e,n,r))},mC=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Hg=(t,e,n)=>{t.loadNamespaces(e,mC(t,n))},$1=(t,e,n,r)=>{if(Hs(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Hg(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,mC(t,r))},m3=(t,e,n={})=>!e.languages||!e.languages.length?(Wg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Hs=t=>typeof t=="string",g3=t=>typeof t=="object"&&t!==null,y3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,v3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},_3=t=>v3[t],w3=t=>t.replace(y3,_3);let Kg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:w3};const E3=(t={})=>{Kg={...Kg,...t}},x3=()=>Kg;let gC;const T3=t=>{gC=t},S3=()=>gC,b3={type:"3rdParty",init(t){E3(t.options.react),T3(t)}},I3=b.createContext();class C3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const A3=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current},yC=(t,e,n,r)=>t.getFixedT(e,n,r),k3=(t,e,n,r)=>b.useCallback(yC(t,e,n,r),[t,e,n,r]),vi=(t,e={})=>{var P,D,L,T;const{i18n:n}=e,{i18n:r,defaultNS:i}=b.useContext(I3)||{},s=n||r||S3();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new C3),!s){Wg(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const E=(R,O)=>Hs(O)?O:g3(O)&&Hs(O.defaultValue)?O.defaultValue:Array.isArray(R)?R[R.length-1]:R,S=[E,{},!1];return S.t=E,S.i18n={},S.ready=!1,S}(P=s.options.react)!=null&&P.wait&&Wg(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...x3(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||((D=s.options)==null?void 0:D.defaultNS);c=Hs(c)?[c]:c||["translation"],(T=(L=s.reportNamespaces).addUsedNamespaces)==null||T.call(L,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(E=>m3(E,s,o)),f=k3(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),p=()=>f,g=()=>yC(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[_,v]=b.useState(p);let I=c.join();e.lng&&(I=`${e.lng}${I}`);const x=A3(I),y=b.useRef(!0);b.useEffect(()=>{const{bindI18n:E,bindI18nStore:S}=o;y.current=!0,!d&&!a&&(e.lng?$1(s,e.lng,c,()=>{y.current&&v(g)}):Hg(s,c,()=>{y.current&&v(g)})),d&&x&&x!==I&&y.current&&v(g);const R=()=>{y.current&&v(g)};return E&&(s==null||s.on(E,R)),S&&(s==null||s.store.on(S,R)),()=>{y.current=!1,s&&(E==null||E.split(" ").forEach(O=>s.off(O,R))),S&&s&&S.split(" ").forEach(O=>s.store.off(O,R))}},[s,I]),b.useEffect(()=>{y.current&&d&&v(p)},[s,l,d]);const C=[_,s,d];if(C.t=_,C.i18n=s,C.ready=d,d||!d&&!a)return C;throw new Promise(E=>{e.lng?$1(s,e.lng,c,()=>E()):Hg(s,c,()=>E())})},ye=t=>typeof t=="string",Nl=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},z1=t=>t==null?"":""+t,R3=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},P3=/###/g,B1=t=>t&&t.indexOf("###")>-1?t.replace(P3,"."):t,W1=t=>!t||ye(t),ru=(t,e,n)=>{const r=ye(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(W1(t))return{};const s=B1(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return W1(t)?{}:{obj:t,k:B1(r[i])}},H1=(t,e,n)=>{const{obj:r,k:i}=ru(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=ru(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=ru(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},N3=(t,e,n,r)=>{const{obj:i,k:s}=ru(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Of=(t,e)=>{const{obj:n,k:r}=ru(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},O3=(t,e,n)=>{const r=Of(t,n);return r!==void 0?r:Of(e,n)},vC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ye(t[r])||t[r]instanceof String||ye(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):vC(t[r],e[r],n):t[r]=e[r]);return t},No=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var D3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const M3=t=>ye(t)?t.replace(/[&<>"'\/]/g,e=>D3[e]):t;class L3{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const V3=[" ",",","?","!",";"],F3=new L3(20),j3=(t,e,n)=>{e=e||"",n=n||"";const r=V3.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=F3.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},qg=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},Du=t=>t==null?void 0:t.replace("_","-"),U3={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let $3=class Gg{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||U3,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ye(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Gg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gg(this.logger,e)}};var wr=new $3;class zh{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}}class K1 extends zh{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,d;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ye(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Of(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ye(r)?l:qg((d=(c=this.data)==null?void 0:c[e])==null?void 0:d[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),H1(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(ye(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Of(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?vC(l,r,s):l={...l,...r},H1(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var _C={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const q1={},G1=t=>!ye(t)&&typeof t!="boolean"&&typeof t!="number";class Df extends zh{constructor(e,n={}){super(),R3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!j3(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ye(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:ye(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return p?s?{res:`${c}${d}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${d}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const g=this.resolve(e,i);let _=g==null?void 0:g.res;const v=(g==null?void 0:g.usedKey)||a,I=(g==null?void 0:g.exactUsedKey)||a,x=["[object Number]","[object Function]","[object RegExp]"],y=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,P=i.count!==void 0&&!ye(i.count),D=Df.hasDefaultValue(i),L=P?this.pluralResolver.getSuffix(f,i.count,i):"",T=i.ordinal&&P?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",E=P&&!i.ordinal&&i.count===0,S=E&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${L}`]||i[`defaultValue${T}`]||i.defaultValue;let R=_;C&&!_&&D&&(R=S);const O=G1(R),N=Object.prototype.toString.apply(R);if(C&&R&&O&&x.indexOf(N)<0&&!(ye(y)&&Array.isArray(R))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,R,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(g.res=A,g.usedParams=this.getUsedParamsDetails(i),g):A}if(o){const A=Array.isArray(R),W=A?[]:{},se=A?I:v;for(const X in R)if(Object.prototype.hasOwnProperty.call(R,X)){const ue=`${se}${o}${X}`;D&&!_?W[X]=this.translate(ue,{...i,defaultValue:G1(S)?S[X]:void 0,joinArrays:!1,ns:l}):W[X]=this.translate(ue,{...i,joinArrays:!1,ns:l}),W[X]===ue&&(W[X]=R[X])}_=W}}else if(C&&ye(y)&&Array.isArray(_))_=_.join(y),_&&(_=this.extendTranslation(_,e,i,r));else{let A=!1,W=!1;!this.isValidLookup(_)&&D&&(A=!0,_=S),this.isValidLookup(_)||(W=!0,_=a);const X=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:_,ue=D&&S!==_&&this.options.updateMissing;if(W||A||ue){if(this.logger.log(ue?"updateKey":"missingKey",f,c,a,ue?S:_),o){const ne=this.resolve(a,{...i,keySeparator:!1});ne&&ne.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let ne=0;ne<$.length;ne++)j.push($[ne]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(i.lng||this.language):j.push(i.lng||this.language);const J=(ne,he,Se)=>{var ft;const Ze=D&&Se!==_?Se:X;this.options.missingKeyHandler?this.options.missingKeyHandler(ne,c,he,Ze,ue,i):(ft=this.backendConnector)!=null&&ft.saveMissing&&this.backendConnector.saveMissing(ne,c,he,Ze,ue,i),this.emit("missingKey",ne,c,he,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?j.forEach(ne=>{const he=this.pluralResolver.getSuffixes(ne,i);E&&i[`defaultValue${this.options.pluralSeparator}zero`]&&he.indexOf(`${this.options.pluralSeparator}zero`)<0&&he.push(`${this.options.pluralSeparator}zero`),he.forEach(Se=>{J([ne],a+Se,i[`defaultValue${Se}`]||S)})}):J(j,a,S))}_=this.extendTranslation(_,e,i,g,r),W&&_===a&&this.options.appendNamespaceToMissingKey&&(_=`${c}${d}${a}`),(W||A)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${a}`:a,A?_:void 0,i))}return s?(g.res=_,g.usedParams=this.getUsedParamsDetails(i),g):_}extendTranslation(e,n,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=ye(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let p=r.replace&&!ye(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),d){const g=e.match(this.interpolator.nestingRegexp),_=g&&g.length;f<_&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>(s==null?void 0:s[0])===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=ye(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=_C.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return ye(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!ye(n.count),g=p&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(ye(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(I=>{var x,y;this.isValidLookup(r)||(a=I,!q1[`${v[0]}-${I}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((y=this.utils)!=null&&y.hasLoadedNamespace(a))&&(q1[`${v[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(C=>{var L;if(this.isValidLookup(r))return;o=C;const P=[d];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(P,d,C,I,n);else{let T;p&&(T=this.pluralResolver.getSuffix(C,n.count,n));const E=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(P.push(d+T),n.ordinal&&T.indexOf(S)===0&&P.push(d+T.replace(S,this.options.pluralSeparator)),g&&P.push(d+E)),_){const R=`${d}${this.options.contextSeparator}${n.context}`;P.push(R),p&&(P.push(R+T),n.ordinal&&T.indexOf(S)===0&&P.push(R+T.replace(S,this.options.pluralSeparator)),g&&P.push(R+E))}}let D;for(;D=P.pop();)this.isValidLookup(r)||(s=D,r=this.getResource(C,I,D,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ye(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Q1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wr.create("languageUtils")}getScriptPartFromCode(e){if(e=Du(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Du(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ye(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ye(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):ye(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Z1={zero:0,one:1,two:2,few:3,many:4,other:5},Y1={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class z3{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=wr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Du(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Y1;if(!e.match(/-|_/))return Y1;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>Z1[i]-Z1[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const X1=(t,e,n,r=".",i=!0)=>{let s=O3(t,e,n);return!s&&i&&ye(n)&&(s=qg(t,n,r),s===void 0&&(s=qg(e,n,r))),s},hm=t=>t.replace(/\$/g,"$$$$");class B3{constructor(e={}){var n;this.logger=wr.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:_,nestingSuffixEscaped:v,nestingOptionsSeparator:I,maxReplaces:x,alwaysFormat:y}=e.interpolation;this.escape=n!==void 0?n:M3,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?No(s):o||"{{",this.suffix=a?No(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?No(p):g||No("$t("),this.nestingSuffix=_?No(_):v||No(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=x||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var g;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=_=>{if(_.indexOf(this.formatSeparator)<0){const y=X1(n,l,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:_}):y}const v=_.split(this.formatSeparator),I=v.shift().trim(),x=v.join(this.formatSeparator).trim();return this.format(X1(n,l,I,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...i,...n,interpolationkey:I})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((g=i==null?void 0:i.interpolation)==null?void 0:g.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>hm(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?hm(this.escape(_)):hm(_)}].forEach(_=>{for(a=0;s=_.regex.exec(e);){const v=s[1].trim();if(o=c(v),o===void 0)if(typeof d=="function"){const x=d(e,s,i);o=ye(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!ye(o)&&!this.useRawValueToEscape&&(o=z1(o));const I=_.safeValue(o);if(e=e.replace(s[0],I),f?(_.regex.lastIndex+=o.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const g=p.match(/'/g),_=p.match(/"/g);(((g==null?void 0:g.length)??0)%2===0&&!_||_.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!ye(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!ye(s))return s;ye(s)||(s=z1(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const W3=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},J1=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(Du(r),i),e[o]=a),a(n)}},H3=t=>(e,n,r)=>t(Du(n),r)(e);class K3{constructor(e={}){this.logger=wr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?J1:H3;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=J1(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var f;const{formatName:c,formatOptions:d}=W3(l);if(this.formats[c]){let p=a;try{const g=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},_=g.locale||g.lng||i.locale||i.lng||r;p=this.formats[c](a,_,{...d,...i,...g})}catch(g){this.logger.warn(g)}return p}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const q3=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class G3 extends zh{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=wr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let d=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{N3(l.loaded,[s],o),q3(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ye(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,c,d,f,p;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((p=this.backend)!=null&&p.create){const g={...o,isUpdate:s},_=this.backend.create.bind(this.backend);if(_.length<6)try{let v;_.length===5?v=_(e,n,r,i,g):v=_(e,n,r,i),v&&typeof v.then=="function"?v.then(I=>a(null,I)).catch(a):a(null,v)}catch(v){a(v)}else _(e,n,r,i,a,g)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const eE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ye(t[1])&&(e.defaultValue=t[1]),ye(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),tE=t=>{var e,n;return ye(t.ns)&&(t.ns=[t.ns]),ye(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ye(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},vd=()=>{},Q3=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Mu extends zh{constructor(e={},n){if(super(),this.options=tE(e),this.services={},this.logger=wr,this.modules={external:[]},Q3(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ye(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=eE();this.options={...r,...this.options,...tE(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?wr.init(i(this.modules.logger),this.options):wr.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=K3;const d=new Q1(this.options);this.store=new K1(this.options.resources,this.options);const f=this.services;f.logger=wr,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new z3(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new B3(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new G3(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Df(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=vd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const a=Nl(),l=()=>{const c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=vd){var s,o;let r=n;const i=ye(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=Nl();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=vd),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_C.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Nl();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{var d,f;!e&&!a&&this.services.languageDetector&&(a=[]);const l=ye(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ye(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,c)),this.loadResources(c,p=>{s(p,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(s)?d=s.map(f=>`${l.keyPrefix}${c}${f}`):d=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s,this.t(d,l)};return ye(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=Nl();return this.options.ns?(ye(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Nl();ye(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new Q1(eE());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Mu(e,n)}cloneInstance(e={},n=vd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Mu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,f)=>(d[f]={...l[c][f]},d),l[c]),l),{});s.store=new K1(a,i),s.services.resourceStore=s.store}return s.translator=new Df(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ze=Mu.createInstance();ze.createInstance=Mu.createInstance;ze.createInstance;ze.dir;ze.init;ze.loadResources;ze.reloadResources;ze.use;ze.changeLanguage;ze.getFixedT;ze.t;ze.exists;ze.setDefaultNamespace;ze.hasLoadedNamespace;ze.loadNamespaces;ze.loadLanguages;const{slice:Z3,forEach:Y3}=[];function X3(t){return Y3.call(Z3.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function J3(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const nE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,eV=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!nE.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!nE.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},rE={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=eV(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var tV={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return rE.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&rE.create(n,t,r,i,s)}},nV={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(n=o[a].substring(l+1))}}return n}},rV={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(e){const a=o.split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(r=a[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const a=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(i=a[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Oo=null;const iE=()=>{if(Oo!==null)return Oo;try{if(Oo=typeof window<"u"&&window.localStorage!==null,!Oo)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Oo=!1}return Oo};var iV={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&iE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&iE()&&window.localStorage.setItem(n,t)}};let Do=null;const sE=()=>{if(Do!==null)return Do;try{if(Do=typeof window<"u"&&window.sessionStorage!==null,!Do)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Do=!1}return Do};var sV={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&sE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&sE()&&window.sessionStorage.setItem(n,t)}},oV={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},aV={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},lV={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},uV={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let wC=!1;try{document.cookie,wC=!0}catch{}const EC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];wC||EC.splice(1,1);const cV=()=>({order:EC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class xC{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=X3(n,this.options||{},cV()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(tV),this.addDetector(nV),this.addDetector(iV),this.addDetector(sV),this.addDetector(oV),this.addDetector(aV),this.addDetector(lV),this.addDetector(uV),this.addDetector(rV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!J3(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}xC.type="languageDetector";const dV={about:"About",skills:"Skills",projects:"Projects",experience:"Experience",contact:"Contact",language:"Language"},fV={title:"Vincent Jin",subtitle:"Software Developer & Engineer",description:"I'm a software developer passionate about building personal projects and exploring emerging technologies. I thrive on experimenting with AI-driven solutions and using my real-world experience with crypto, always seeking to bridge innovation with practical applications."},hV={technical:"Technical Skills",tools:"Tools & Technologies"},pV={title:"Featured Projects",subtitle:"A showcase of my recent work spanning web applications, tools, and creative experiments",items:{flood:{title:"AI-Enhanced Flood Simulation System",description:"Web-based flood simulation system using Vue 3 and FloodTransformer for real-time prediction, with ultra fast inference and results post-processing."},cregis:{title:"CregisRAG",description:"CregisRAG is an intelligent question-answering system leveraging Retrieval-Augmented Generation (RAG) technology, which integrates large language models (LLMs) with precision retrieval from multi-source knowledge bases to deliver accurate, traceable responses and adaptive learning capabilities."},pressure:{title:"Pressure Sense iOS App",description:"PressureSense is an iOS application designed to help users monitor and manage their stress levels through continuous health data analysis. The app provides real-time stress monitoring, detailed analysis, and personalized recommendations."},anchor:{title:"Anchor - News aggregator iOS App",description:"Anchor is an iOS news aggregator app that integrates bionic reading technology to enhance content consumption efficiency and focus through optimized text visualization."}}},mV={title:"Experience Timeline",visitor:"Visitor Geography",jobs:{fullstack_uts:{title:"Full Stack Software Developer",company:"UTS",period:"2023 - Present",description:"Developed a real-time web-based flood visualization and prediction system using Vue 3, DeckGL, FastAPI, and FloodTransformer, achieving 80% faster tile loading and ultra-fast flood forecasting over an 800km2 area within 3 seconds."},fullstack_h2x:{title:"Full Stack Developer",company:"H2X",period:"2022 - 2023",description:"Contributed to full-stack development at H2X Engineering by implementing user and organization management features, resolving AWS-related bugs, building system validations and heatmap visualizations, and ensuring application correctness with end-to-end testing using Vue.js, Node.js, and AWS."}}},gV={total_visits:"Total Visits",your_ip:"Your IP",top_locations:"Top Visitor Locations",based_in:"Based in",unknown_location:"Unknown Location",last_updated:"Last updated"},yV={title:"Get In Touch",subtitle:"I'm always open to discussing new opportunities, interesting projects, or just having a friendly chat about technology.",form:{title:"Send Message",name:"Name",name_placeholder:"Your name",email:"Email",email_placeholder:"your@email.com",message:"Message",message_placeholder:"Your message...",submit:"Send Message",submitting:"Sending...",success:"Message sent successfully!",success_description:"Thank you for your message. I'll get back to you soon.",error:"Failed to send message",error_description:"Please try again later."},info:{title:"Or Reach Via",email:"Email",location:"Location",location_value:"China",follow:"Follow Me"}},vV={rights:"© 2025 Vincent Jin. All rights reserved.",built:"Built with ❤️, Replit and Cursor"},_V={navigation:dV,hero:fV,skills:hV,projects:pV,experience:mV,visitor_stats:gV,contact:yV,footer:vV},wV={about:"关于我",skills:"技能",projects:"项目",experience:"经验",contact:"联系我",language:"语言"},EV={title:"金文正",subtitle:"软件开发工程师",description:"我是一名热衷于构建个人项目和探索新兴技术的软件开发者。我喜欢尝试AI驱动的解决方案，并利用我在加密货币领域的实际经验，始终寻求将创新与实际应用相结合。"},xV={technical:"技术能力",tools:"工具与技术"},TV={title:"精选项目",subtitle:"展示我最近的作品，涵盖网络应用、工具和创意实验",items:{flood:{title:"AI增强型洪水模拟系统",description:"基于Vue 3和FloodTransformer的网页洪水模拟系统，用于实时预测，具有超快速推理和结果后处理功能。"},cregis:{title:"CregisRAG",description:"CregisRAG是一个智能问答系统，利用检索增强生成(RAG)技术，将大型语言模型(LLM)与多源知识库的精确检索相结合，提供准确、可追溯的响应和自适应学习能力。"},pressure:{title:"压力感知iOS应用",description:"PressureSense是一款iOS应用程序，旨在通过持续的健康数据分析帮助用户监控和管理压力水平。该应用提供实时压力监测、详细分析和个性化建议。"},anchor:{title:"Anchor - 新闻聚合iOS应用",description:"Anchor是一款iOS新闻聚合应用，集成了仿生阅读技术，通过优化文本可视化来提高内容消费效率和注意力集中度。"}}},SV={title:"工作经历",visitor:"访问者地理分布",jobs:{fullstack_uts:{title:"全栈软件开发工程师",company:"悉尼科技大学",period:"2023 - 至今",description:"使用Vue 3、DeckGL、FastAPI和FloodTransformer开发了实时网页洪水可视化和预测系统，实现了80%更快的瓦片加载速度，并在3秒内完成800平方公里区域的超快洪水预测。"},fullstack_h2x:{title:"全栈开发工程师",company:"H2X",period:"2022 - 2023",description:"在H2X工程公司负责全栈开发，实现了用户和组织管理功能，解决了AWS相关的bug，构建了系统验证和热图可视化，并使用Vue.js、Node.js和AWS进行端到端测试，确保应用程序的正确性。"}}},bV={total_visits:"总访问量",your_ip:"您的IP",top_locations:"热门访问地区",based_in:"当前位置",unknown_location:"未知位置",last_updated:"最后更新"},IV={title:"联系方式",subtitle:"我随时欢迎讨论新的机会、有趣的项目，或者只是友好地聊聊技术。",form:{title:"发送消息",name:"姓名",name_placeholder:"您的姓名",email:"邮箱",email_placeholder:"your@email.com",message:"消息",message_placeholder:"您的消息...",submit:"发送消息",submitting:"发送中...",success:"消息发送成功！",success_description:"感谢您的留言。我会尽快回复您。",error:"消息发送失败",error_description:"请稍后再试。"},info:{title:"或通过以下方式联系",email:"邮箱",location:"位置",location_value:"中国",follow:"关注我"}},CV={rights:"© 2025 金文正。保留所有权利。",built:"用 ❤️, Replit 和 Cursor 构建"},AV={navigation:wV,hero:EV,skills:xV,projects:TV,experience:SV,visitor_stats:bV,contact:IV,footer:CV},kV={en:{translation:_V},zh:{translation:AV}},RV=()=>{const t=navigator.language||navigator.userLanguage;return t&&t.toLowerCase().startsWith("zh")?"zh":"en"};ze.use(xC).use(b3).init({resources:kV,lng:RV(),fallbackLng:"en",detection:{order:["navigator","localStorage","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1}});const TC=b.createContext(void 0),oE=()=>{const t=navigator.language||navigator.userLanguage;return t&&t.toLowerCase().startsWith("zh")?"zh":"en"},PV=({children:t})=>{const[e,n]=b.useState(ze.language||oE()||"en");b.useEffect(()=>{const i=oE();i&&ze.language!==i&&ze.changeLanguage(i);const s=o=>{n(o)};return ze.on("languageChanged",s),()=>{ze.off("languageChanged",s)}},[]);const r=i=>{ze.changeLanguage(i)};return w.jsx(TC.Provider,{value:{language:e,changeLanguage:r},children:t})},NV=()=>{const t=b.useContext(TC);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},OV=TI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gv=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?t4:"button";return w.jsx(o,{className:kt(OV({variant:e,size:n,className:t})),ref:s,...i})});Gv.displayName="Button";var DV=b.createContext(void 0);function SC(t){const e=b.useContext(DV);return t||e||"ltr"}var pm=0;function MV(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aE()),document.body.insertAdjacentElement("beforeend",t[1]??aE()),pm++,()=>{pm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pm--}},[])}function aE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var mm="focusScope.autoFocusOnMount",gm="focusScope.autoFocusOnUnmount",lE={bubbles:!1,cancelable:!0},LV="FocusScope",bC=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=b.useState(null),c=an(i),d=an(s),f=b.useRef(null),p=Ct(e,v=>l(v)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let v=function(C){if(g.paused||!a)return;const P=C.target;a.contains(P)?f.current=P:Ci(f.current,{select:!0})},I=function(C){if(g.paused||!a)return;const P=C.relatedTarget;P!==null&&(a.contains(P)||Ci(f.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const D of C)D.removedNodes.length>0&&Ci(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",I);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",I),y.disconnect()}}},[r,a,g.paused]),b.useEffect(()=>{if(a){cE.add(g);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(mm,lE);a.addEventListener(mm,c),a.dispatchEvent(x),x.defaultPrevented||(VV(zV(IC(a)),{select:!0}),document.activeElement===v&&Ci(a))}return()=>{a.removeEventListener(mm,c),setTimeout(()=>{const x=new CustomEvent(gm,lE);a.addEventListener(gm,d),a.dispatchEvent(x),x.defaultPrevented||Ci(v??document.body,{select:!0}),a.removeEventListener(gm,d),cE.remove(g)},0)}}},[a,c,d,g]);const _=b.useCallback(v=>{if(!n&&!r||g.paused)return;const I=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(I&&x){const y=v.currentTarget,[C,P]=FV(y);C&&P?!v.shiftKey&&x===P?(v.preventDefault(),n&&Ci(C,{select:!0})):v.shiftKey&&x===C&&(v.preventDefault(),n&&Ci(P,{select:!0})):x===y&&v.preventDefault()}},[n,r,g.paused]);return w.jsx(rt.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});bC.displayName=LV;function VV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ci(r,{select:e}),document.activeElement!==n)return}function FV(t){const e=IC(t),n=uE(e,t),r=uE(e.reverse(),t);return[n,r]}function IC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uE(t,e){for(const n of t)if(!jV(n,{upTo:e}))return n}function jV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UV(t){return t instanceof HTMLInputElement&&"select"in t}function Ci(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UV(t)&&e&&t.select()}}var cE=$V();function $V(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dE(t,e),t.unshift(e)},remove(e){var n;t=dE(t,e),(n=t[0])==null||n.resume()}}}function dE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zV(t){return t.filter(e=>e.tagName!=="A")}var ym="rovingFocusGroup.onEntryFocus",BV={bubbles:!1,cancelable:!0},Bh="RovingFocusGroup",[Qg,CC,WV]=kv(Bh),[HV,AC]=mo(Bh,[WV]),[KV,qV]=HV(Bh),kC=b.forwardRef((t,e)=>w.jsx(Qg.Provider,{scope:t.__scopeRovingFocusGroup,children:w.jsx(Qg.Slot,{scope:t.__scopeRovingFocusGroup,children:w.jsx(GV,{...t,ref:e})})}));kC.displayName=Bh;var GV=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=b.useRef(null),g=Ct(e,p),_=SC(s),[v=null,I]=Nv({prop:o,defaultProp:a,onChange:l}),[x,y]=b.useState(!1),C=an(c),P=CC(n),D=b.useRef(!1),[L,T]=b.useState(0);return b.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(ym,C),()=>E.removeEventListener(ym,C)},[C]),w.jsx(KV,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:v,onItemFocus:b.useCallback(E=>I(E),[I]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>T(E=>E-1),[]),children:w.jsx(rt.div,{tabIndex:x||L===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{D.current=!0}),onFocus:pe(t.onFocus,E=>{const S=!D.current;if(E.target===E.currentTarget&&S&&!x){const R=new CustomEvent(ym,BV);if(E.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=P().filter(X=>X.focusable),N=O.find(X=>X.active),A=O.find(X=>X.id===v),se=[N,A,...O].filter(Boolean).map(X=>X.ref.current);NC(se,d)}}D.current=!1}),onBlur:pe(t.onBlur,()=>y(!1))})})}),RC="RovingFocusGroupItem",PC=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=jg(),l=s||a,c=qV(RC,n),d=c.currentTabStopId===l,f=CC(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return b.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),w.jsx(Qg.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:w.jsx(rt.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,_=>{r?c.onItemFocus(l):_.preventDefault()}),onFocus:pe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=YV(_,c.orientation,c.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const y=x.indexOf(_.currentTarget);x=c.loop?XV(x,y+1):x.slice(y+1)}setTimeout(()=>NC(x))}})})})});PC.displayName=RC;var QV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function YV(t,e,n){const r=ZV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QV[r]}function NC(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function XV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JV=kC,e5=PC,t5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mo=new WeakMap,_d=new WeakMap,wd={},vm=0,OC=function(t){return t&&(t.host||OC(t.parentNode))},n5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},r5=function(t,e,n,r){var i=n5(e,Array.isArray(t)?t:[t]);wd[n]||(wd[n]=new WeakMap);var s=wd[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),_=g!==null&&g!=="false",v=(Mo.get(p)||0)+1,I=(s.get(p)||0)+1;Mo.set(p,v),s.set(p,I),o.push(p),v===1&&_&&_d.set(p,!0),I===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),a.clear(),vm++,function(){o.forEach(function(f){var p=Mo.get(f)-1,g=s.get(f)-1;Mo.set(f,p),s.set(f,g),p||(_d.has(f)||f.removeAttribute(r),_d.delete(f)),g||f.removeAttribute(n)}),vm--,vm||(Mo=new WeakMap,Mo=new WeakMap,_d=new WeakMap,wd={})}},i5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=t5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),r5(r,i,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_r.apply(this,arguments)};function yc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function s5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Hd="right-scroll-bar-position",Kd="width-before-scroll-bar",o5="with-scroll-bars-hidden",a5="--removed-body-scroll-bar-size";function _m(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function l5(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var u5=typeof window<"u"?b.useLayoutEffect:b.useEffect,fE=new WeakMap;function c5(t,e){var n=l5(null,function(r){return t.forEach(function(i){return _m(i,r)})});return u5(function(){var r=fE.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||_m(a,null)}),s.forEach(function(a){i.has(a)||_m(a,o)})}fE.set(n,t)},[t]),n}function d5(t){return t}function f5(t,e){e===void 0&&(e=d5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function h5(t){t===void 0&&(t={});var e=f5(null);return e.options=_r({async:!0,ssr:!1},t),e}var DC=function(t){var e=t.sideCar,n=yc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,_r({},n))};DC.isSideCarExport=!0;function p5(t,e){return t.useMedium(e),DC}var MC=h5(),wm=function(){},Wh=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:wm,onWheelCapture:wm,onTouchMoveCapture:wm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,_=t.inert,v=t.allowPinchZoom,I=t.as,x=I===void 0?"div":I,y=t.gapMode,C=yc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,D=c5([n,e]),L=_r(_r({},C),i);return b.createElement(b.Fragment,null,d&&b.createElement(P,{sideCar:MC,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:y}),o?b.cloneElement(b.Children.only(a),_r(_r({},L),{ref:D})):b.createElement(x,_r({},L,{className:l,ref:D}),a))});Wh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wh.classNames={fullWidth:Kd,zeroRight:Hd};var m5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function g5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=m5();return e&&t.setAttribute("nonce",e),t}function y5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function v5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=g5())&&(y5(e,n),v5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},w5=function(){var t=_5();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},LC=function(){var t=w5(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},E5={left:0,top:0,right:0,gap:0},Em=function(t){return parseInt(t||"",10)||0},x5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Em(n),Em(r),Em(i)]},T5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return E5;var e=x5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},S5=LC(),da="data-scroll-locked",b5=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(o5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Hd," .").concat(Hd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(da,`] {
    `).concat(a5,": ").concat(a,`px;
  }
`)},hE=function(){var t=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(t)?t:0},I5=function(){b.useEffect(function(){return document.body.setAttribute(da,(hE()+1).toString()),function(){var t=hE()-1;t<=0?document.body.removeAttribute(da):document.body.setAttribute(da,t.toString())}},[])},C5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;I5();var s=b.useMemo(function(){return T5(i)},[i]);return b.createElement(S5,{styles:b5(s,!e,i,n?"":"!important")})},Zg=!1;if(typeof window<"u")try{var Ed=Object.defineProperty({},"passive",{get:function(){return Zg=!0,!0}});window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{Zg=!1}var Lo=Zg?{passive:!1}:!1,A5=function(t){return t.tagName==="TEXTAREA"},VC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!A5(t)&&n[e]==="visible")},k5=function(t){return VC(t,"overflowY")},R5=function(t){return VC(t,"overflowX")},pE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FC(t,r);if(i){var s=jC(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},N5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FC=function(t,e){return t==="v"?k5(e):R5(e)},jC=function(t,e){return t==="v"?P5(e):N5(e)},O5=function(t,e){return t==="h"&&e==="rtl"?-1:1},D5=function(t,e,n,r,i){var s=O5(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=jC(t,a),_=g[0],v=g[1],I=g[2],x=v-I-s*_;(_||x)&&FC(t,a)&&(f+=x,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},xd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mE=function(t){return[t.deltaX,t.deltaY]},gE=function(t){return t&&"current"in t?t.current:t},M5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},V5=0,Vo=[];function F5(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(V5++)[0],s=b.useState(LC)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=s5([t.lockRef.current],(t.shards||[]).map(gE),!0).filter(Boolean);return v.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(v,I){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=xd(v),y=n.current,C="deltaX"in v?v.deltaX:y[0]-x[0],P="deltaY"in v?v.deltaY:y[1]-x[1],D,L=v.target,T=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in v&&T==="h"&&L.type==="range")return!1;var E=pE(T,L);if(!E)return!0;if(E?D=T:(D=T==="v"?"h":"v",E=pE(T,L)),!E)return!1;if(!r.current&&"changedTouches"in v&&(C||P)&&(r.current=D),!D)return!0;var S=r.current||D;return D5(S,I,v,S==="h"?C:P,!0)},[]),l=b.useCallback(function(v){var I=v;if(!(!Vo.length||Vo[Vo.length-1]!==s)){var x="deltaY"in I?mE(I):xd(I),y=e.current.filter(function(D){return D.name===I.type&&(D.target===I.target||I.target===D.shadowParent)&&M5(D.delta,x)})[0];if(y&&y.should){I.cancelable&&I.preventDefault();return}if(!y){var C=(o.current.shards||[]).map(gE).filter(Boolean).filter(function(D){return D.contains(I.target)}),P=C.length>0?a(I,C[0]):!o.current.noIsolation;P&&I.cancelable&&I.preventDefault()}}},[]),c=b.useCallback(function(v,I,x,y){var C={name:v,delta:I,target:x,should:y,shadowParent:j5(x)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(P){return P!==C})},1)},[]),d=b.useCallback(function(v){n.current=xd(v),r.current=void 0},[]),f=b.useCallback(function(v){c(v.type,mE(v),v.target,a(v,t.lockRef.current))},[]),p=b.useCallback(function(v){c(v.type,xd(v),v.target,a(v,t.lockRef.current))},[]);b.useEffect(function(){return Vo.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Lo),document.addEventListener("touchmove",l,Lo),document.addEventListener("touchstart",d,Lo),function(){Vo=Vo.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Lo),document.removeEventListener("touchmove",l,Lo),document.removeEventListener("touchstart",d,Lo)}},[]);var g=t.removeScrollBar,_=t.inert;return b.createElement(b.Fragment,null,_?b.createElement(s,{styles:L5(i)}):null,g?b.createElement(C5,{gapMode:t.gapMode}):null)}function j5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const U5=p5(MC,F5);var UC=b.forwardRef(function(t,e){return b.createElement(Wh,_r({},t,{ref:e,sideCar:U5}))});UC.classNames=Wh.classNames;var Yg=["Enter"," "],$5=["ArrowDown","PageUp","Home"],$C=["ArrowUp","PageDown","End"],z5=[...$5,...$C],B5={ltr:[...Yg,"ArrowRight"],rtl:[...Yg,"ArrowLeft"]},W5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vc="Menu",[Lu,H5,K5]=kv(vc),[yo,zC]=mo(vc,[K5,jh,AC]),Hh=jh(),BC=AC(),[q5,vo]=yo(vc),[G5,_c]=yo(vc),WC=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Hh(e),[l,c]=b.useState(null),d=b.useRef(!1),f=an(s),p=SC(i);return b.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),w.jsx(GL,{...a,children:w.jsx(q5,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:w.jsx(G5,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};WC.displayName=vc;var Q5="MenuAnchor",Qv=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Hh(n);return w.jsx(iC,{...i,...r,ref:e})});Qv.displayName=Q5;var Zv="MenuPortal",[Z5,HC]=yo(Zv,{forceMount:void 0}),KC=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=vo(Zv,e);return w.jsx(Z5,{scope:e,forceMount:n,children:w.jsx(go,{present:n||s.open,children:w.jsx(Pv,{asChild:!0,container:i,children:r})})})};KC.displayName=Zv;var jn="MenuContent",[Y5,Yv]=yo(jn),qC=b.forwardRef((t,e)=>{const n=HC(jn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=vo(jn,t.__scopeMenu),o=_c(jn,t.__scopeMenu);return w.jsx(Lu.Provider,{scope:t.__scopeMenu,children:w.jsx(go,{present:r||s.open,children:w.jsx(Lu.Slot,{scope:t.__scopeMenu,children:o.modal?w.jsx(X5,{...i,ref:e}):w.jsx(J5,{...i,ref:e})})})})}),X5=b.forwardRef((t,e)=>{const n=vo(jn,t.__scopeMenu),r=b.useRef(null),i=Ct(e,r);return b.useEffect(()=>{const s=r.current;if(s)return i5(s)},[]),w.jsx(Xv,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),J5=b.forwardRef((t,e)=>{const n=vo(jn,t.__scopeMenu);return w.jsx(Xv,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),e6=Pu("MenuContent.ScrollLock"),Xv=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:_,...v}=t,I=vo(jn,n),x=_c(jn,n),y=Hh(n),C=BC(n),P=H5(n),[D,L]=b.useState(null),T=b.useRef(null),E=Ct(e,T,I.onContentChange),S=b.useRef(0),R=b.useRef(""),O=b.useRef(0),N=b.useRef(null),A=b.useRef("right"),W=b.useRef(0),se=_?UC:b.Fragment,X=_?{as:e6,allowPinchZoom:!0}:void 0,ue=$=>{var it,Vr;const J=R.current+$,ne=P().filter(xt=>!xt.disabled),he=document.activeElement,Se=(it=ne.find(xt=>xt.ref.current===he))==null?void 0:it.textValue,Ze=ne.map(xt=>xt.textValue),ft=f6(Ze,J,Se),vt=(Vr=ne.find(xt=>xt.textValue===ft))==null?void 0:Vr.ref.current;(function xt(wn){R.current=wn,window.clearTimeout(S.current),wn!==""&&(S.current=window.setTimeout(()=>xt(""),1e3))})(J),vt&&setTimeout(()=>vt.focus())};b.useEffect(()=>()=>window.clearTimeout(S.current),[]),MV();const j=b.useCallback($=>{var ne,he;return A.current===((ne=N.current)==null?void 0:ne.side)&&p6($,(he=N.current)==null?void 0:he.area)},[]);return w.jsx(Y5,{scope:n,searchRef:R,onItemEnter:b.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:b.useCallback($=>{var J;j($)||((J=T.current)==null||J.focus(),L(null))},[j]),onTriggerLeave:b.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:O,onPointerGraceIntentChange:b.useCallback($=>{N.current=$},[]),children:w.jsx(se,{...X,children:w.jsx(bC,{asChild:!0,trapped:i,onMountAutoFocus:pe(s,$=>{var J;$.preventDefault(),(J=T.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:w.jsx(Nh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:w.jsx(JV,{asChild:!0,...C,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:L,onEntryFocus:pe(l,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(sC,{role:"menu","aria-orientation":"vertical","data-state":uA(I.open),"data-radix-menu-content":"",dir:x.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,$=>{const ne=$.target.closest("[data-radix-menu-content]")===$.currentTarget,he=$.ctrlKey||$.altKey||$.metaKey,Se=$.key.length===1;ne&&($.key==="Tab"&&$.preventDefault(),!he&&Se&&ue($.key));const Ze=T.current;if($.target!==Ze||!z5.includes($.key))return;$.preventDefault();const vt=P().filter(it=>!it.disabled).map(it=>it.ref.current);$C.includes($.key)&&vt.reverse(),c6(vt)}),onBlur:pe(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(S.current),R.current="")}),onPointerMove:pe(t.onPointerMove,Vu($=>{const J=$.target,ne=W.current!==$.clientX;if($.currentTarget.contains(J)&&ne){const he=$.clientX>W.current?"right":"left";A.current=he,W.current=$.clientX}}))})})})})})})});qC.displayName=jn;var t6="MenuGroup",Jv=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(rt.div,{role:"group",...r,ref:e})});Jv.displayName=t6;var n6="MenuLabel",GC=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(rt.div,{...r,ref:e})});GC.displayName=n6;var Mf="MenuItem",yE="menu.itemSelect",Kh=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=b.useRef(null),o=_c(Mf,t.__scopeMenu),a=Yv(Mf,t.__scopeMenu),l=Ct(e,s),c=b.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(yE,{bubbles:!0,cancelable:!0});f.addEventListener(yE,g=>r==null?void 0:r(g),{once:!0}),Rv(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return w.jsx(QC,{...i,ref:l,disabled:n,onClick:pe(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:pe(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Yg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Kh.displayName=Mf;var QC=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Yv(Mf,n),a=BC(n),l=b.useRef(null),c=Ct(e,l),[d,f]=b.useState(!1),[p,g]=b.useState("");return b.useEffect(()=>{const _=l.current;_&&g((_.textContent??"").trim())},[s.children]),w.jsx(Lu.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:w.jsx(e5,{asChild:!0,...a,focusable:!r,children:w.jsx(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:pe(t.onPointerMove,Vu(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Vu(_=>o.onItemLeave(_))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),r6="MenuCheckboxItem",ZC=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return w.jsx(tA,{scope:t.__scopeMenu,checked:n,children:w.jsx(Kh,{role:"menuitemcheckbox","aria-checked":Lf(n)?"mixed":n,...i,ref:e,"data-state":t0(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Lf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZC.displayName=r6;var YC="MenuRadioGroup",[i6,s6]=yo(YC,{value:void 0,onValueChange:()=>{}}),XC=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=an(r);return w.jsx(i6,{scope:t.__scopeMenu,value:n,onValueChange:s,children:w.jsx(Jv,{...i,ref:e})})});XC.displayName=YC;var JC="MenuRadioItem",eA=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=s6(JC,t.__scopeMenu),s=n===i.value;return w.jsx(tA,{scope:t.__scopeMenu,checked:s,children:w.jsx(Kh,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":t0(s),onSelect:pe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});eA.displayName=JC;var e0="MenuItemIndicator",[tA,o6]=yo(e0,{checked:!1}),nA=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=o6(e0,n);return w.jsx(go,{present:r||Lf(s.checked)||s.checked===!0,children:w.jsx(rt.span,{...i,ref:e,"data-state":t0(s.checked)})})});nA.displayName=e0;var a6="MenuSeparator",rA=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return w.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rA.displayName=a6;var l6="MenuArrow",iA=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Hh(n);return w.jsx(oC,{...i,...r,ref:e})});iA.displayName=l6;var u6="MenuSub",[bH,sA]=yo(u6),Ul="MenuSubTrigger",oA=b.forwardRef((t,e)=>{const n=vo(Ul,t.__scopeMenu),r=_c(Ul,t.__scopeMenu),i=sA(Ul,t.__scopeMenu),s=Yv(Ul,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),w.jsx(Qv,{asChild:!0,...c,children:w.jsx(QC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uA(n.open),...t,ref:Ph(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Vu(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:pe(t.onPointerLeave,Vu(f=>{var g,_;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(_=n.content)==null?void 0:_.dataset.side,I=v==="right",x=I?-5:5,y=p[I?"left":"right"],C=p[I?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:p.top},{x:C,y:p.top},{x:C,y:p.bottom},{x:y,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var g;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||B5[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});oA.displayName=Ul;var aA="MenuSubContent",lA=b.forwardRef((t,e)=>{const n=HC(jn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=vo(jn,t.__scopeMenu),o=_c(jn,t.__scopeMenu),a=sA(aA,t.__scopeMenu),l=b.useRef(null),c=Ct(e,l);return w.jsx(Lu.Provider,{scope:t.__scopeMenu,children:w.jsx(go,{present:r||s.open,children:w.jsx(Lu.Slot,{scope:t.__scopeMenu,children:w.jsx(Xv,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:pe(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=W5[o.dir].includes(d.key);f&&p&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});lA.displayName=aA;function uA(t){return t?"open":"closed"}function Lf(t){return t==="indeterminate"}function t0(t){return Lf(t)?"indeterminate":t?"checked":"unchecked"}function c6(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function d6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function f6(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=d6(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function h6(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function p6(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return h6(n,e)}function Vu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var m6=WC,g6=Qv,y6=KC,v6=qC,_6=Jv,w6=GC,E6=Kh,x6=ZC,T6=XC,S6=eA,b6=nA,I6=rA,C6=iA,A6=oA,k6=lA,n0="DropdownMenu",[R6,IH]=mo(n0,[zC]),dn=zC(),[P6,cA]=R6(n0),dA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=dn(e),c=b.useRef(null),[d=!1,f]=Nv({prop:i,defaultProp:s,onChange:o});return w.jsx(P6,{scope:e,triggerId:jg(),triggerRef:c,contentId:jg(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(p=>!p),[f]),modal:a,children:w.jsx(m6,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};dA.displayName=n0;var fA="DropdownMenuTrigger",hA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=cA(fA,n),o=dn(n);return w.jsx(g6,{asChild:!0,...o,children:w.jsx(rt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ph(e,s.triggerRef),onPointerDown:pe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:pe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});hA.displayName=fA;var N6="DropdownMenuPortal",pA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=dn(e);return w.jsx(y6,{...r,...n})};pA.displayName=N6;var mA="DropdownMenuContent",gA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cA(mA,n),s=dn(n),o=b.useRef(!1);return w.jsx(v6,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gA.displayName=mA;var O6="DropdownMenuGroup",D6=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(_6,{...i,...r,ref:e})});D6.displayName=O6;var M6="DropdownMenuLabel",yA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(w6,{...i,...r,ref:e})});yA.displayName=M6;var L6="DropdownMenuItem",vA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(E6,{...i,...r,ref:e})});vA.displayName=L6;var V6="DropdownMenuCheckboxItem",_A=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(x6,{...i,...r,ref:e})});_A.displayName=V6;var F6="DropdownMenuRadioGroup",j6=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(T6,{...i,...r,ref:e})});j6.displayName=F6;var U6="DropdownMenuRadioItem",wA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(S6,{...i,...r,ref:e})});wA.displayName=U6;var $6="DropdownMenuItemIndicator",EA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(b6,{...i,...r,ref:e})});EA.displayName=$6;var z6="DropdownMenuSeparator",xA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(I6,{...i,...r,ref:e})});xA.displayName=z6;var B6="DropdownMenuArrow",W6=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(C6,{...i,...r,ref:e})});W6.displayName=B6;var H6="DropdownMenuSubTrigger",TA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(A6,{...i,...r,ref:e})});TA.displayName=H6;var K6="DropdownMenuSubContent",SA=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return w.jsx(k6,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SA.displayName=K6;var q6=dA,G6=hA,Q6=pA,bA=gA,IA=yA,CA=vA,AA=_A,kA=wA,RA=EA,PA=xA,NA=TA,OA=SA;const Z6=q6,Y6=G6,X6=b.forwardRef(({className:t,inset:e,children:n,...r},i)=>w.jsxs(NA,{ref:i,className:kt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,w.jsx(G4,{className:"ml-auto"})]}));X6.displayName=NA.displayName;const J6=b.forwardRef(({className:t,...e},n)=>w.jsx(OA,{ref:n,className:kt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));J6.displayName=OA.displayName;const DA=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>w.jsx(Q6,{children:w.jsx(bA,{ref:r,sideOffset:e,className:kt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));DA.displayName=bA.displayName;const Xg=b.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(CA,{ref:r,className:kt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Xg.displayName=CA.displayName;const eF=b.forwardRef(({className:t,children:e,checked:n,...r},i)=>w.jsxs(AA,{ref:i,className:kt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(RA,{children:w.jsx(q4,{className:"h-4 w-4"})})}),e]}));eF.displayName=AA.displayName;const tF=b.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(kA,{ref:r,className:kt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(RA,{children:w.jsx(Q4,{className:"h-2 w-2 fill-current"})})}),e]}));tF.displayName=kA.displayName;const nF=b.forwardRef(({className:t,inset:e,...n},r)=>w.jsx(IA,{ref:r,className:kt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));nF.displayName=IA.displayName;const rF=b.forwardRef(({className:t,...e},n)=>w.jsx(PA,{ref:n,className:kt("-mx-1 my-1 h-px bg-muted",t),...e}));rF.displayName=PA.displayName;function vE(){const{language:t,changeLanguage:e}=NV(),{t:n}=vi();return w.jsxs(Z6,{children:[w.jsx(Y6,{asChild:!0,children:w.jsxs(Gv,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",children:[w.jsx(bI,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:n("navigation.language")})]})}),w.jsxs(DA,{align:"end",children:[w.jsx(Xg,{onClick:()=>e("en"),className:t==="en"?"bg-muted":"",children:"English"}),w.jsx(Xg,{onClick:()=>e("zh"),className:t==="zh"?"bg-muted":"",children:"中文"})]})]})}function iF(){const[t,e]=b.useState(!1),{t:n}=vi();b.useEffect(()=>{const i=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const r=i=>{const s=document.getElementById(i);if(s){const l=s.offsetTop-80;window.scrollTo({top:l,behavior:"smooth"})}};return w.jsx("nav",{className:`fixed top-0 w-full z-50 transition-all duration-300 ${t?"glass-effect border-b border-border":"bg-transparent"}`,children:w.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"text-xl font-bold text-primary",children:["Vincent",w.jsx("span",{className:"text-foreground",children:"Jin"})]}),w.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[w.jsx("button",{onClick:()=>r("about"),className:"text-foreground hover:text-primary transition-colors duration-300",children:n("navigation.about")}),w.jsx("button",{onClick:()=>r("skills"),className:"text-foreground hover:text-primary transition-colors duration-300",children:n("navigation.skills")}),w.jsx("button",{onClick:()=>r("projects"),className:"text-foreground hover:text-primary transition-colors duration-300",children:n("navigation.projects")}),w.jsx("button",{onClick:()=>r("experience"),className:"text-foreground hover:text-primary transition-colors duration-300",children:n("navigation.experience")}),w.jsx("button",{onClick:()=>r("contact"),className:"text-foreground hover:text-primary transition-colors duration-300",children:n("navigation.contact")}),w.jsx(vE,{})]}),w.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[w.jsx(vE,{}),w.jsx("button",{className:"text-foreground hover:text-primary transition-colors",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})})})}const sF="/assets/avatar-BRo6ReoL.png";function oF(){const{t}=vi();return w.jsxs("section",{id:"about",className:"min-h-screen flex items-center justify-center px-6 pt-20 relative overflow-hidden",children:[w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary/5 rounded-full blur-3xl animate-float"}),w.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),w.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-purple-500/5 rounded-full blur-3xl animate-pulse-slow"})]}),w.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10 animate-fade-in-up",children:[w.jsxs("div",{className:"mb-8 relative",children:[w.jsx("div",{className:"absolute inset-0 rounded-full gradient-border p-1 animate-pulse-slow",children:w.jsx("div",{className:"w-full h-full rounded-full bg-background"})}),w.jsx("img",{src:sF,alt:"Vincent Jin Profile Photo",className:"w-32 h-32 md:w-40 md:h-40 rounded-full mx-auto object-cover relative z-10 hover-glow transition-all duration-300"})]}),w.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:w.jsx("span",{className:"text-gradient",children:t("hero.title")})}),w.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:t("hero.subtitle")}),w.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8 leading-relaxed animate-fade-in-up",style:{animationDelay:"0.4s"},children:t("hero.description")}),w.jsxs("div",{className:"flex justify-center space-x-6 animate-fade-in-up",style:{animationDelay:"0.6s"},children:[w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Vincentkovsky",className:"text-2xl text-muted-foreground hover:text-primary transition-all duration-300 hover:scale-125 hover-glow p-3 rounded-full",children:w.jsx(Lv,{})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/wenzheng-jin/",className:"text-2xl text-muted-foreground hover:text-primary transition-all duration-300 hover:scale-125 hover-glow p-3 rounded-full",children:w.jsx(II,{})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"mailto:vincent.jin6@icloud.com",className:"text-2xl text-muted-foreground hover:text-primary transition-all duration-300 hover:scale-125 hover-glow p-3 rounded-full",children:w.jsx(Vg,{})})]})]})]})}var MA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_E=$e.createContext&&$e.createContext(MA),aF=["attr","size","title"];function lF(t,e){if(t==null)return{};var n=uF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){cF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cF(t,e,n){return e=dF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dF(t){var e=fF(t,"string");return typeof e=="symbol"?e:e+""}function fF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LA(t){return t&&t.map((e,n)=>$e.createElement(e.tag,Ff({key:n},e.attr),LA(e.child)))}function Ja(t){return e=>$e.createElement(hF,Vf({attr:Ff({},t.attr)},e),LA(t.child))}function hF(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=lF(t,aF),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),$e.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ff(Ff({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&$e.createElement("title",null,s),t.children)};return _E!==void 0?$e.createElement(_E.Consumer,null,n=>e(n)):e(MA)}function pF(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 0 1-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.777.777 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 0 1-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 0 1 .24.2.43.43 0 0 1 .071.263v.375c0 .168-.064.256-.184.256a.83.83 0 0 1-.303-.096 3.652 3.652 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z"},child:[]}]})(t)}function mF(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"},child:[]}]})(t)}function gF(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(t)}function yF(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(t)}function vF(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(t)}function _F(t){return Ja({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(t)}const wF=[{name:"JavaScript/TypeScript",percentage:90},{name:"React & Next.js",percentage:85},{name:"Node.js",percentage:80},{name:"Python",percentage:75},{name:"UX/UI Design",percentage:70}];function EF(){const[t,e]=b.useState(!1),n=b.useRef(null),{t:r}=vi();return b.useEffect(()=>{const i=new IntersectionObserver(([s])=>{s.isIntersecting&&e(!0)},{threshold:.3});return n.current&&i.observe(n.current),()=>i.disconnect()},[]),w.jsx("section",{id:"skills",ref:n,className:"py-20 px-6",children:w.jsx("div",{className:"max-w-6xl mx-auto",children:w.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[w.jsxs("div",{className:"bg-card rounded-xl p-8 border border-border card-hover-effect",children:[w.jsxs("h3",{className:"text-2xl font-bold mb-8 text-gradient flex items-center",children:[w.jsx(Z4,{className:"mr-3"}),r("skills.technical")]}),w.jsx("div",{className:"space-y-6",children:wF.map((i,s)=>w.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:`${s*100}ms`},children:[w.jsxs("div",{className:"flex justify-between mb-2",children:[w.jsx("span",{className:"font-medium",children:i.name}),w.jsxs("span",{className:"text-primary font-mono font-bold",children:[i.percentage,"%"]})]}),w.jsx("div",{className:"w-full bg-muted rounded-full h-3 relative overflow-hidden",children:w.jsx("div",{className:`bg-gradient-to-r from-primary to-blue-500 h-3 rounded-full transition-all duration-1000 ease-out ${t?"animate-progress skill-bar-glow":"w-0"}`,style:{width:t?`${i.percentage}%`:"0%",animationDelay:`${s*200}ms`}})})]},i.name))})]}),w.jsxs("div",{className:"bg-card rounded-xl p-8 border border-border card-hover-effect",children:[w.jsxs("h3",{className:"text-2xl font-bold mb-8 text-gradient flex items-center",children:[w.jsx(nM,{className:"mr-3"}),r("skills.tools")]}),w.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:_F,name:"React.js",color:"#61DAFB"},{icon:yF,name:"Node.js",color:"#339933"},{icon:vF,name:"Python",color:"#3776AB"},{icon:gF,name:"Git",color:"#F05032"},{icon:mF,name:"Docker",color:"#2496ED"},{icon:pF,name:"AWS",color:"#FF9900"}].map((i,s)=>w.jsxs("div",{className:"bg-secondary rounded-lg p-4 text-center border border-border hover:border-primary transition-all duration-300 group hover-glow animate-fade-in-up",style:{animationDelay:`${s*100}ms`},children:[w.jsx(i.icon,{className:"text-3xl mb-2 mx-auto group-hover:scale-125 transition-transform duration-300 animate-pulse-slow",style:{color:i.color}}),w.jsx("p",{className:"font-medium text-sm group-hover:text-primary transition-colors duration-300",children:i.name})]},i.name))})]})]})})})}const xF="/assets/CregisRAG-CRQE-6Ae.png",TF="/assets/Anchor-D6XW0_Rh.png",SF="/assets/flood-DLByjW0I.png";function bF(){const{t}=vi(),e=[{titleKey:"projects.items.flood.title",descriptionKey:"projects.items.flood.description",image:SF,tags:["Vue 3","TypeScript","DeckGL","FastAPI","FloodTransformer"],github:"https://github.com/Vincentkovsky/SES_Fullstack_App",live:"#"},{titleKey:"projects.items.cregis.title",descriptionKey:"projects.items.cregis.description",image:xF,tags:["Python","JavaScript","FastAPI","Chroma","LangChain"],github:"https://github.com/Vincentkovsky/CregisRAG",live:"#"},{titleKey:"projects.items.pressure.title",descriptionKey:"projects.items.pressure.description",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",tags:["SwiftUI","Cursor"],github:"https://github.com/Vincentkovsky/PressureSense",live:"#"},{titleKey:"projects.items.anchor.title",descriptionKey:"projects.items.anchor.description",image:TF,tags:["Swift","SafariKit"],github:"https://github.com/Vincentkovsky/anchor",live:"https://www.youtube.com/watch?v=hjS4i4i0Lkg&ab_channel=%E7%A9%BA%E8%85%B9%E5%88%B0%E5%BA%95%E8%83%BD%E4%B8%8D%E8%83%BD%E5%90%83%E9%A5%AD"}];return w.jsx("section",{id:"projects",className:"py-20 px-6 bg-secondary",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[w.jsx(X4,{className:"inline mr-3 text-primary"}),t("projects.title")]}),w.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:t("projects.subtitle")})]}),w.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.map((n,r)=>w.jsxs("div",{className:"bg-card rounded-xl border border-border overflow-hidden hover:border-primary transition-all duration-300 card-hover-effect group animate-fade-in-up",style:{animationDelay:`${r*200}ms`},children:[w.jsxs("div",{className:"relative overflow-hidden",children:[w.jsx("img",{src:n.image,alt:`${t(n.titleKey)} Interface`,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),w.jsxs("div",{className:"p-6 relative",children:[w.jsx("h3",{className:"text-xl font-bold mb-2 text-gradient group-hover:scale-105 transition-transform duration-200",children:t(n.titleKey)}),w.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:t(n.descriptionKey)}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map((i,s)=>w.jsx("span",{className:"bg-gradient-to-r from-primary/20 to-blue-500/20 text-primary px-3 py-1 rounded-full text-sm font-medium hover:from-primary/30 hover:to-blue-500/30 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${r*200+s*100}ms`},children:i},i))}),w.jsxs("div",{className:"flex space-x-3",children:[w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:n.github,className:"text-muted-foreground hover:text-primary transition-all duration-300 hover:scale-125 hover-glow p-2 rounded-full",children:w.jsx(Lv,{className:"w-5 h-5"})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:n.live,className:"text-muted-foreground hover:text-primary transition-all duration-300 hover:scale-125 hover-glow p-2 rounded-full",children:w.jsx(Y4,{className:"w-5 h-5"})})]})]})]})]},n.titleKey))})]})})}var EE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},IF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new CF;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AF=function(t){const e=VA(t);return FA.encodeByteArray(e,!0)},jf=function(t){return AF(t).replace(/\./g,"")},jA=function(t){try{return FA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=()=>kF().__FIREBASE_DEFAULTS__,PF=()=>{if(typeof process>"u"||typeof EE>"u")return;const t=EE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jA(t[1]);return e&&JSON.parse(e)},qh=()=>{try{return RF()||PF()||NF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UA=t=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OF=t=>{const e=UA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$A=()=>{var t;return(t=qh())===null||t===void 0?void 0:t.config},zA=t=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function VF(){var t;const e=(t=qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UF(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $F(){return!VF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function zF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BF,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dr(i,a,r)}}function WF(t,e){return t.replace(HF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HF=/\{\$([^}]+)}/g;function KF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xE(s)&&xE(o)){if(!Fu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qF(t,e){const n=new GF(t,e);return n.subscribe.bind(n)}class GF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xm),i.error===void 0&&(i.error=xm),i.complete===void 0&&(i.complete=xm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=1e3,YF=2,XF=4*60*60*1e3,JF=.5;function TE(t,e=ZF,n=YF){const r=e*Math.pow(n,t),i=Math.round(JF*r*(Math.random()-.5)*2);return Math.min(XF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nj(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tj(t){return t===Ns?void 0:t}function nj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ej(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const ij={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},sj=Pe.INFO,oj={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},aj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gh{constructor(e){this.name=e,this._logLevel=sj,this._logHandler=aj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const lj=(t,e)=>e.some(n=>t instanceof n);let SE,bE;function uj(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cj(){return bE||(bE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KA=new WeakMap,Jg=new WeakMap,qA=new WeakMap,Tm=new WeakMap,r0=new WeakMap;function dj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KA.set(n,t)}).catch(()=>{}),r0.set(e,t),e}function fj(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hj(t){ey=t(ey)}function pj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sm(this),e,...n);return qA.set(r,e.sort?e.sort():[e]),ns(r)}:cj().includes(t)?function(...e){return t.apply(Sm(this),e),ns(KA.get(this))}:function(...e){return ns(t.apply(Sm(this),e))}}function mj(t){return typeof t=="function"?pj(t):(t instanceof IDBTransaction&&fj(t),lj(t,uj())?new Proxy(t,ey):t)}function ns(t){if(t instanceof IDBRequest)return dj(t);if(Tm.has(t))return Tm.get(t);const e=mj(t);return e!==t&&(Tm.set(t,e),r0.set(e,t)),e}const Sm=t=>r0.get(t);function GA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ns(o.result),l.oldVersion,l.newVersion,ns(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gj=["get","getKey","getAll","getAllKeys","count"],yj=["put","add","delete","clear"],bm=new Map;function IE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return bm.set(e,s),s}hj(t=>({...t,get:(e,n,r)=>IE(e,n)||t.get(e,n,r),has:(e,n)=>!!IE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_j(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _j(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ty="@firebase/app",CE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Gh("@firebase/app"),wj="@firebase/app-compat",Ej="@firebase/analytics-compat",xj="@firebase/analytics",Tj="@firebase/app-check-compat",Sj="@firebase/app-check",bj="@firebase/auth",Ij="@firebase/auth-compat",Cj="@firebase/database",Aj="@firebase/data-connect",kj="@firebase/database-compat",Rj="@firebase/functions",Pj="@firebase/functions-compat",Nj="@firebase/installations",Oj="@firebase/installations-compat",Dj="@firebase/messaging",Mj="@firebase/messaging-compat",Lj="@firebase/performance",Vj="@firebase/performance-compat",Fj="@firebase/remote-config",jj="@firebase/remote-config-compat",Uj="@firebase/storage",$j="@firebase/storage-compat",zj="@firebase/firestore",Bj="@firebase/vertexai-preview",Wj="@firebase/firestore-compat",Hj="firebase",Kj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="[DEFAULT]",qj={[ty]:"fire-core",[wj]:"fire-core-compat",[xj]:"fire-analytics",[Ej]:"fire-analytics-compat",[Sj]:"fire-app-check",[Tj]:"fire-app-check-compat",[bj]:"fire-auth",[Ij]:"fire-auth-compat",[Cj]:"fire-rtdb",[Aj]:"fire-data-connect",[kj]:"fire-rtdb-compat",[Rj]:"fire-fn",[Pj]:"fire-fn-compat",[Nj]:"fire-iid",[Oj]:"fire-iid-compat",[Dj]:"fire-fcm",[Mj]:"fire-fcm-compat",[Lj]:"fire-perf",[Vj]:"fire-perf-compat",[Fj]:"fire-rc",[jj]:"fire-rc-compat",[Uj]:"fire-gcs",[$j]:"fire-gcs-compat",[zj]:"fire-fst",[Wj]:"fire-fst-compat",[Bj]:"fire-vertex","fire-js":"fire-js",[Hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,Gj=new Map,ry=new Map;function AE(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pr(t){const e=t.name;if(ry.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,t);for(const n of Uf.values())AE(n,t);for(const n of Gj.values())AE(n,t);return!0}function wo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ki(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new _o("app","Firebase",Qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=Kj;function QA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ny,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=$A()),!n)throw rs.create("no-options");const s=Uf.get(i);if(s){if(Fu(n,s.options)&&Fu(r,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const o=new rj(i);for(const l of ry.values())o.addComponent(l);const a=new Zj(n,r,o);return Uf.set(i,a),a}function i0(t=ny){const e=Uf.get(t);if(!e&&t===ny&&$A())return QA();if(!e)throw rs.create("no-app",{appName:t});return e}function Un(t,e,n){var r;let i=(r=qj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}Pr(new lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="firebase-heartbeat-database",Xj=1,ju="firebase-heartbeat-store";let Im=null;function ZA(){return Im||(Im=GA(Yj,Xj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Im}async function Jj(t){try{const n=(await ZA()).transaction(ju),r=await n.objectStore(ju).get(YA(t));return await n.done,r}catch(e){if(e instanceof dr)di.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function kE(t,e){try{const r=(await ZA()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,YA(t)),await r.done}catch(n){if(n instanceof dr)di.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function YA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=1024,t9=30*24*60*60*1e3;class n9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=t9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RE(),{heartbeatsToSend:r,unsentEntries:i}=r9(this._heartbeatsCache.heartbeats),s=jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return di.warn(n),""}}}function RE(){return new Date().toISOString().substring(0,10)}function r9(t,e=e9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){Pr(new lr("platform-logger",e=>new vj(e),"PRIVATE")),Pr(new lr("heartbeat",e=>new n9(e),"PRIVATE")),Un(ty,CE,t),Un(ty,CE,"esm2017"),Un("fire-js","")}s9("");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,XA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function S(){}S.prototype=E.prototype,T.D=E.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(R,O,N){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return E.prototype[O].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,S){S||(S=0);var R=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)R[O]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(O=0;16>O;++O)R[O]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=T.g[0],S=T.g[1],O=T.g[2];var N=T.g[3],A=E+(N^S&(O^N))+R[0]+3614090360&4294967295;E=S+(A<<7&4294967295|A>>>25),A=N+(O^E&(S^O))+R[1]+3905402710&4294967295,N=E+(A<<12&4294967295|A>>>20),A=O+(S^N&(E^S))+R[2]+606105819&4294967295,O=N+(A<<17&4294967295|A>>>15),A=S+(E^O&(N^E))+R[3]+3250441966&4294967295,S=O+(A<<22&4294967295|A>>>10),A=E+(N^S&(O^N))+R[4]+4118548399&4294967295,E=S+(A<<7&4294967295|A>>>25),A=N+(O^E&(S^O))+R[5]+1200080426&4294967295,N=E+(A<<12&4294967295|A>>>20),A=O+(S^N&(E^S))+R[6]+2821735955&4294967295,O=N+(A<<17&4294967295|A>>>15),A=S+(E^O&(N^E))+R[7]+4249261313&4294967295,S=O+(A<<22&4294967295|A>>>10),A=E+(N^S&(O^N))+R[8]+1770035416&4294967295,E=S+(A<<7&4294967295|A>>>25),A=N+(O^E&(S^O))+R[9]+2336552879&4294967295,N=E+(A<<12&4294967295|A>>>20),A=O+(S^N&(E^S))+R[10]+4294925233&4294967295,O=N+(A<<17&4294967295|A>>>15),A=S+(E^O&(N^E))+R[11]+2304563134&4294967295,S=O+(A<<22&4294967295|A>>>10),A=E+(N^S&(O^N))+R[12]+1804603682&4294967295,E=S+(A<<7&4294967295|A>>>25),A=N+(O^E&(S^O))+R[13]+4254626195&4294967295,N=E+(A<<12&4294967295|A>>>20),A=O+(S^N&(E^S))+R[14]+2792965006&4294967295,O=N+(A<<17&4294967295|A>>>15),A=S+(E^O&(N^E))+R[15]+1236535329&4294967295,S=O+(A<<22&4294967295|A>>>10),A=E+(O^N&(S^O))+R[1]+4129170786&4294967295,E=S+(A<<5&4294967295|A>>>27),A=N+(S^O&(E^S))+R[6]+3225465664&4294967295,N=E+(A<<9&4294967295|A>>>23),A=O+(E^S&(N^E))+R[11]+643717713&4294967295,O=N+(A<<14&4294967295|A>>>18),A=S+(N^E&(O^N))+R[0]+3921069994&4294967295,S=O+(A<<20&4294967295|A>>>12),A=E+(O^N&(S^O))+R[5]+3593408605&4294967295,E=S+(A<<5&4294967295|A>>>27),A=N+(S^O&(E^S))+R[10]+38016083&4294967295,N=E+(A<<9&4294967295|A>>>23),A=O+(E^S&(N^E))+R[15]+3634488961&4294967295,O=N+(A<<14&4294967295|A>>>18),A=S+(N^E&(O^N))+R[4]+3889429448&4294967295,S=O+(A<<20&4294967295|A>>>12),A=E+(O^N&(S^O))+R[9]+568446438&4294967295,E=S+(A<<5&4294967295|A>>>27),A=N+(S^O&(E^S))+R[14]+3275163606&4294967295,N=E+(A<<9&4294967295|A>>>23),A=O+(E^S&(N^E))+R[3]+4107603335&4294967295,O=N+(A<<14&4294967295|A>>>18),A=S+(N^E&(O^N))+R[8]+1163531501&4294967295,S=O+(A<<20&4294967295|A>>>12),A=E+(O^N&(S^O))+R[13]+2850285829&4294967295,E=S+(A<<5&4294967295|A>>>27),A=N+(S^O&(E^S))+R[2]+4243563512&4294967295,N=E+(A<<9&4294967295|A>>>23),A=O+(E^S&(N^E))+R[7]+1735328473&4294967295,O=N+(A<<14&4294967295|A>>>18),A=S+(N^E&(O^N))+R[12]+2368359562&4294967295,S=O+(A<<20&4294967295|A>>>12),A=E+(S^O^N)+R[5]+4294588738&4294967295,E=S+(A<<4&4294967295|A>>>28),A=N+(E^S^O)+R[8]+2272392833&4294967295,N=E+(A<<11&4294967295|A>>>21),A=O+(N^E^S)+R[11]+1839030562&4294967295,O=N+(A<<16&4294967295|A>>>16),A=S+(O^N^E)+R[14]+4259657740&4294967295,S=O+(A<<23&4294967295|A>>>9),A=E+(S^O^N)+R[1]+2763975236&4294967295,E=S+(A<<4&4294967295|A>>>28),A=N+(E^S^O)+R[4]+1272893353&4294967295,N=E+(A<<11&4294967295|A>>>21),A=O+(N^E^S)+R[7]+4139469664&4294967295,O=N+(A<<16&4294967295|A>>>16),A=S+(O^N^E)+R[10]+3200236656&4294967295,S=O+(A<<23&4294967295|A>>>9),A=E+(S^O^N)+R[13]+681279174&4294967295,E=S+(A<<4&4294967295|A>>>28),A=N+(E^S^O)+R[0]+3936430074&4294967295,N=E+(A<<11&4294967295|A>>>21),A=O+(N^E^S)+R[3]+3572445317&4294967295,O=N+(A<<16&4294967295|A>>>16),A=S+(O^N^E)+R[6]+76029189&4294967295,S=O+(A<<23&4294967295|A>>>9),A=E+(S^O^N)+R[9]+3654602809&4294967295,E=S+(A<<4&4294967295|A>>>28),A=N+(E^S^O)+R[12]+3873151461&4294967295,N=E+(A<<11&4294967295|A>>>21),A=O+(N^E^S)+R[15]+530742520&4294967295,O=N+(A<<16&4294967295|A>>>16),A=S+(O^N^E)+R[2]+3299628645&4294967295,S=O+(A<<23&4294967295|A>>>9),A=E+(O^(S|~N))+R[0]+4096336452&4294967295,E=S+(A<<6&4294967295|A>>>26),A=N+(S^(E|~O))+R[7]+1126891415&4294967295,N=E+(A<<10&4294967295|A>>>22),A=O+(E^(N|~S))+R[14]+2878612391&4294967295,O=N+(A<<15&4294967295|A>>>17),A=S+(N^(O|~E))+R[5]+4237533241&4294967295,S=O+(A<<21&4294967295|A>>>11),A=E+(O^(S|~N))+R[12]+1700485571&4294967295,E=S+(A<<6&4294967295|A>>>26),A=N+(S^(E|~O))+R[3]+2399980690&4294967295,N=E+(A<<10&4294967295|A>>>22),A=O+(E^(N|~S))+R[10]+4293915773&4294967295,O=N+(A<<15&4294967295|A>>>17),A=S+(N^(O|~E))+R[1]+2240044497&4294967295,S=O+(A<<21&4294967295|A>>>11),A=E+(O^(S|~N))+R[8]+1873313359&4294967295,E=S+(A<<6&4294967295|A>>>26),A=N+(S^(E|~O))+R[15]+4264355552&4294967295,N=E+(A<<10&4294967295|A>>>22),A=O+(E^(N|~S))+R[6]+2734768916&4294967295,O=N+(A<<15&4294967295|A>>>17),A=S+(N^(O|~E))+R[13]+1309151649&4294967295,S=O+(A<<21&4294967295|A>>>11),A=E+(O^(S|~N))+R[4]+4149444226&4294967295,E=S+(A<<6&4294967295|A>>>26),A=N+(S^(E|~O))+R[11]+3174756917&4294967295,N=E+(A<<10&4294967295|A>>>22),A=O+(E^(N|~S))+R[2]+718787259&4294967295,O=N+(A<<15&4294967295|A>>>17),A=S+(N^(O|~E))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var S=E-this.blockSize,R=this.B,O=this.h,N=0;N<E;){if(O==0)for(;N<=S;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<E;)if(R[O++]=T.charCodeAt(N++),O==this.blockSize){i(this,R),O=0;break}}else for(;N<E;)if(R[O++]=T[N++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var S=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=S&255,S/=256;for(this.u(T),T=Array(16),E=S=0;4>E;++E)for(var R=0;32>R;R+=8)T[S++]=this.g[E]>>>R&255;return T};function s(T,E){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=E(T)}function o(T,E){this.h=E;for(var S=[],R=!0,O=T.length-1;0<=O;O--){var N=T[O]|0;R&&N==E||(S[O]=N,R=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(E){return new o([E|0],0>E?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return I(c(-T));for(var E=[],S=1,R=0;T>=S;R++)E[R]=T/S|0,S*=4294967296;return new o(E,0)}function d(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return I(d(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(E,8)),R=f,O=0;O<T.length;O+=8){var N=Math.min(8,T.length-O),A=parseInt(T.substring(O,O+N),E);8>N?(N=c(Math.pow(E,N)),R=R.j(N).add(c(A))):(R=R.j(S),R=R.add(c(A)))}return R}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-I(this).m();for(var T=0,E=1,S=0;S<this.g.length;S++){var R=this.i(S);T+=(0<=R?R:4294967296+R)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(v(this))return"-"+I(this).toString(T);for(var E=c(Math.pow(T,6)),S=this,R="";;){var O=P(S,E).g;S=x(S,O.j(E));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=O,_(S))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=x(this,T),v(T)?-1:_(T)?0:1};function I(T){for(var E=T.g.length,S=[],R=0;R<E;R++)S[R]=~T.g[R];return new o(S,~T.h).add(p)}t.abs=function(){return v(this)?I(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),S=[],R=0,O=0;O<=E;O++){var N=R+(this.i(O)&65535)+(T.i(O)&65535),A=(N>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);R=A>>>16,N&=65535,A&=65535,S[O]=A<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(T,E){return T.add(I(E))}t.j=function(T){if(_(this)||_(T))return f;if(v(this))return v(T)?I(this).j(I(T)):I(I(this).j(T));if(v(T))return I(this.j(I(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,S=[],R=0;R<2*E;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<T.g.length;O++){var N=this.i(R)>>>16,A=this.i(R)&65535,W=T.i(O)>>>16,se=T.i(O)&65535;S[2*R+2*O]+=A*se,y(S,2*R+2*O),S[2*R+2*O+1]+=N*se,y(S,2*R+2*O+1),S[2*R+2*O+1]+=A*W,y(S,2*R+2*O+1),S[2*R+2*O+2]+=N*W,y(S,2*R+2*O+2)}for(R=0;R<E;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=E;R<2*E;R++)S[R]=0;return new o(S,0)};function y(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function C(T,E){this.g=T,this.h=E}function P(T,E){if(_(E))throw Error("division by zero");if(_(T))return new C(f,f);if(v(T))return E=P(I(T),E),new C(I(E.g),I(E.h));if(v(E))return E=P(T,I(E)),new C(I(E.g),E.h);if(30<T.g.length){if(v(T)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var S=p,R=E;0>=R.l(T);)S=D(S),R=D(R);var O=L(S,1),N=L(R,1);for(R=L(R,2),S=L(S,2);!_(R);){var A=N.add(R);0>=A.l(T)&&(O=O.add(S),N=A),R=L(R,1),S=L(S,1)}return E=x(T,O.j(E)),new C(O,E)}for(O=f;0<=T.l(E);){for(S=Math.max(1,Math.floor(T.m()/E.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(S),A=N.j(E);v(A)||0<A.l(T);)S-=R,N=c(S),A=N.j(E);_(N)&&(N=p),O=O.add(N),T=x(T,A)}return new C(O,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)&T.i(R);return new o(S,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)|T.i(R);return new o(S,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),S=[],R=0;R<E;R++)S[R]=this.i(R)^T.i(R);return new o(S,this.h^T.h)};function D(T){for(var E=T.g.length+1,S=[],R=0;R<E;R++)S[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(S,T.h)}function L(T,E){var S=E>>5;E%=32;for(var R=T.g.length-S,O=[],N=0;N<R;N++)O[N]=0<E?T.i(N+S)>>>E|T.i(N+S+1)<<32-E:T.i(N+S);return new o(O,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ks=o}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JA,$l,ek,qd,iy,tk,nk,rk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var V=u[k];if(!(V in m))break e;m=m[V]}u=u[u.length-1],k=m[u],h=h(k),h!=k&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,k=!1,V={next:function(){if(!k&&m<u.length){var U=m++;return{value:h(U,u[U]),done:!1}}return k=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,m){return u.call.apply(u.bind,arguments)}function f(u,h,m){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,k),u.apply(h,V)}}return function(){return u.apply(h,arguments)}}function p(u,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var k=m.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(k,V,U){for(var Y=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Y[Ue-2]=arguments[Ue];return h.prototype[V].apply(k,Y)}}function v(u){const h=u.length;if(0<h){const m=Array(h);for(let k=0;k<h;k++)m[k]=u[k];return m}return[]}function I(u,h){for(let m=1;m<arguments.length;m++){const k=arguments[m];if(l(k)){const V=u.length||0,U=k.length||0;u.length=V+U;for(let Y=0;Y<U;Y++)u[V+Y]=k[Y]}else u.push(k)}}class x{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(u,h,m){for(const k in u)h.call(m,u[k],k,u)}function T(u,h){for(const m in u)h.call(void 0,u[m],m,u)}function E(u){const h={};for(const m in u)h[m]=u[m];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,h){let m,k;for(let V=1;V<arguments.length;V++){k=arguments[V];for(m in k)u[m]=k[m];for(let U=0;U<S.length;U++)m=S[U],Object.prototype.hasOwnProperty.call(k,m)&&(u[m]=k[m])}}function O(u){var h=1;u=u.split(":");const m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function A(){var u=$;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class W{constructor(){this.h=this.g=null}add(h,m){const k=se.get();k.set(h,m),this.h?this.h.next=k:this.g=k,this.h=k}}var se=new x(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,j=!1,$=new W,J=()=>{const u=a.Promise.resolve(void 0);ue=()=>{u.then(ne)}};var ne=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(m){N(m)}var h=se;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}j=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return u}();function ft(u,h){if(Se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(D){e:{try{P(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ft.aa.h.call(this)}}_(ft,Se);var vt={2:"touch",3:"pen",4:"mouse"};ft.prototype.h=function(){ft.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Vr=0;function xt(u,h,m,k,V){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!k,this.ha=V,this.key=++Vr,this.da=this.fa=!1}function wn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bn(u){this.src=u,this.g={},this.h=0}Bn.prototype.add=function(u,h,m,k,V){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var Y=Wn(u,h,k,V);return-1<Y?(h=u[Y],m||(h.fa=!1)):(h=new xt(h,this.src,U,!!k,V),h.fa=m,u.push(h)),h};function Fr(u,h){var m=h.type;if(m in u.g){var k=u.g[m],V=Array.prototype.indexOf.call(k,h,void 0),U;(U=0<=V)&&Array.prototype.splice.call(k,V,1),U&&(wn(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Wn(u,h,m,k){for(var V=0;V<u.length;++V){var U=u[V];if(!U.da&&U.listener==h&&U.capture==!!m&&U.ha==k)return V}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),Ts={};function Ss(u,h,m,k,V){if(Array.isArray(h)){for(var U=0;U<h.length;U++)Ss(u,h[U],m,k,V);return null}return m=te(m),u&&u[it]?u.K(h,m,c(k)?!!k.capture:!!k,V):To(u,h,m,!1,k,V)}function To(u,h,m,k,V,U){if(!h)throw Error("Invalid event type");var Y=c(V)?!!V.capture:!!V,Ue=F(u);if(Ue||(u[jr]=Ue=new Bn(u)),m=Ue.add(h,m,k,Y,U),m.proxy)return m;if(k=al(),m.proxy=k,k.src=u,k.listener=m,u.addEventListener)Ze||(V=Y),V===void 0&&(V=!1),u.addEventListener(h.toString(),k,V);else if(u.attachEvent)u.attachEvent(ll(h.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return m}function al(){function u(m){return h.call(u.src,u.listener,m)}const h=M;return u}function Ur(u,h,m,k,V){if(Array.isArray(h))for(var U=0;U<h.length;U++)Ur(u,h[U],m,k,V);else k=c(k)?!!k.capture:!!k,m=te(m),u&&u[it]?(u=u.i,h=String(h).toString(),h in u.g&&(U=u.g[h],m=Wn(U,m,k,V),-1<m&&(wn(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete u.g[h],u.h--)))):u&&(u=F(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Wn(h,m,k,V)),(m=-1<u?h[u]:null)&&Oc(m))}function Oc(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[it])Fr(h.i,u);else{var m=u.type,k=u.proxy;h.removeEventListener?h.removeEventListener(m,k,u.capture):h.detachEvent?h.detachEvent(ll(m),k):h.addListener&&h.removeListener&&h.removeListener(k),(m=F(h))?(Fr(m,u),m.h==0&&(m.src=null,h[jr]=null)):wn(u)}}}function ll(u){return u in Ts?Ts[u]:Ts[u]="on"+u}function M(u,h){if(u.da)u=!0;else{h=new ft(h,this);var m=u.listener,k=u.ha||u.src;u.fa&&Oc(u),u=m.call(k,h)}return u}function F(u){return u=u[jr],u instanceof Bn?u:null}var B="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(u){return typeof u=="function"?u:(u[B]||(u[B]=function(h){return u.handleEvent(h)}),u[B])}function Q(){he.call(this),this.i=new Bn(this),this.M=this,this.F=null}_(Q,he),Q.prototype[it]=!0,Q.prototype.removeEventListener=function(u,h,m,k){Ur(this,u,h,m,k)};function K(u,h){var m,k=u.F;if(k)for(m=[];k;k=k.F)m.push(k);if(u=u.M,k=h.type||h,typeof h=="string")h=new Se(h,u);else if(h instanceof Se)h.target=h.target||u;else{var V=h;h=new Se(k,u),R(h,V)}if(V=!0,m)for(var U=m.length-1;0<=U;U--){var Y=h.g=m[U];V=oe(Y,k,!0,h)&&V}if(Y=h.g=u,V=oe(Y,k,!0,h)&&V,V=oe(Y,k,!1,h)&&V,m)for(U=0;U<m.length;U++)Y=h.g=m[U],V=oe(Y,k,!1,h)&&V}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],k=0;k<m.length;k++)wn(m[k]);delete u.g[h],u.h--}}this.F=null},Q.prototype.K=function(u,h,m,k){return this.i.add(String(u),h,!1,m,k)},Q.prototype.L=function(u,h,m,k){return this.i.add(String(u),h,!0,m,k)};function oe(u,h,m,k){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,U=0;U<h.length;++U){var Y=h[U];if(Y&&!Y.da&&Y.capture==m){var Ue=Y.listener,Rt=Y.ha||Y.src;Y.fa&&Fr(u.i,Y),V=Ue.call(Rt,k)!==!1&&V}}return V&&!k.defaultPrevented}function ke(u,h,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function Ye(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,Ye(u))},u.l);const h=u.h;u.h=null,u.m.apply(null,h)}class Tt extends he{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(u){he.call(this),this.h=u,this.g={}}_(bs,he);var So=[];function bo(u){L(u.g,function(h,m){this.g.hasOwnProperty(m)&&Oc(h)},u),u.g={}}bs.prototype.N=function(){bs.aa.N.call(this),bo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ul=a.JSON.stringify,Dc=a.JSON.parse,yp=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Io(){}Io.prototype.h=null;function l_(u){return u.h||(u.h=u.i())}function u_(){}var cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vp(){Se.call(this,"d")}_(vp,Se);function _p(){Se.call(this,"c")}_(_p,Se);var Is={},c_=null;function Mc(){return c_=c_||new Q}Is.La="serverreachability";function d_(u){Se.call(this,Is.La,u)}_(d_,Se);function dl(u){const h=Mc();K(h,new d_(h))}Is.STAT_EVENT="statevent";function f_(u,h){Se.call(this,Is.STAT_EVENT,u),this.stat=h}_(f_,Se);function Jt(u){const h=Mc();K(h,new f_(h,u))}Is.Ma="timingevent";function h_(u,h){Se.call(this,Is.Ma,u),this.size=h}_(h_,Se);function fl(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function hl(){this.g=!0}hl.prototype.xa=function(){this.g=!1};function G2(u,h,m,k,V,U){u.info(function(){if(u.g)if(U)for(var Y="",Ue=U.split("&"),Rt=0;Rt<Ue.length;Rt++){var Me=Ue[Rt].split("=");if(1<Me.length){var Ut=Me[0];Me=Me[1];var $t=Ut.split("_");Y=2<=$t.length&&$t[1]=="type"?Y+(Ut+"="+Me+"&"):Y+(Ut+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+k+") [attempt "+V+"]: "+h+`
`+m+`
`+Y})}function Q2(u,h,m,k,V,U,Y){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+V+"]: "+h+`
`+m+`
`+U+" "+Y})}function Co(u,h,m,k){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+Y2(u,m)+(k?" "+k:"")})}function Z2(u,h){u.info(function(){return"TIMEOUT: "+h})}hl.prototype.info=function(){};function Y2(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var k=m[u];if(!(2>k.length)){var V=k[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Y=1;Y<V.length;Y++)V[Y]=""}}}}return ul(m)}catch{return h}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},p_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wp;function Vc(){}_(Vc,Io),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},wp=new Vc;function _i(u,h,m,k){this.j=u,this.i=h,this.l=m,this.R=k||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m_}function m_(){this.i=null,this.g="",this.h=!1}var g_={},Ep={};function xp(u,h,m){u.L=1,u.v=$c($r(h)),u.m=m,u.P=!0,y_(u,null)}function y_(u,h){u.F=Date.now(),Fc(u),u.A=$r(u.v);var m=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),P_(m.i,"t",k),u.C=0,m=u.j.J,u.h=new m_,u.g=Q_(u.j,m?h:null,!u.m),0<u.O&&(u.M=new Tt(p(u.Y,u,u.g),u.O)),h=u.U,m=u.g,k=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(So[0]=V.toString()),V=So);for(var U=0;U<V.length;U++){var Y=Ss(m,V[U],k||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),dl(),G2(u.i,u.u,u.A,u.l,u.R,u.m)}_i.prototype.ca=function(u){u=u.target;const h=this.M;h&&zr(u)==3?h.j():this.Y(u)},_i.prototype.Y=function(u){try{if(u==this.g)e:{const $t=zr(this.g);var h=this.g.Ba();const Ro=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||F_(this.g)))){this.J||$t!=4||h==7||(h==8||0>=Ro?dl(3):dl(2)),Tp(this);var m=this.g.Z();this.X=m;t:if(v_(this)){var k=F_(this.g);u="";var V=k.length,U=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),pl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,u+=this.h.i.decode(k[h],{stream:!(U&&h==V-1)});k.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=m==200,Q2(this.i,this.u,this.A,this.l,this.R,$t,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Rt=this.g;if((Ue=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ue)){var Me=Ue;break t}}Me=null}if(m=Me)Co(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,m);else{this.o=!1,this.s=3,Jt(12),Cs(this),pl(this);break e}}if(this.P){m=!0;let Hn;for(;!this.J&&this.C<Y.length;)if(Hn=X2(this,Y),Hn==Ep){$t==4&&(this.s=4,Jt(14),m=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==g_){this.s=4,Jt(15),Co(this.i,this.l,Y,"[Invalid Chunk]"),m=!1;break}else Co(this.i,this.l,Hn,null),Sp(this,Hn);if(v_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Y.length!=0||this.h.h||(this.s=1,Jt(16),m=!1),this.o=this.o&&m,!m)Co(this.i,this.l,Y,"[Invalid Chunked Response]"),Cs(this),pl(this);else if(0<Y.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Rp(Ut),Ut.M=!0,Jt(11))}}else Co(this.i,this.l,Y,null),Sp(this,Y);$t==4&&Cs(this),this.o&&!this.J&&($t==4?H_(this.j,this):(this.o=!1,Fc(this)))}else mP(this.g),m==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Cs(this),pl(this)}}}catch{}finally{}};function v_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function X2(u,h){var m=u.C,k=h.indexOf(`
`,m);return k==-1?Ep:(m=Number(h.substring(m,k)),isNaN(m)?g_:(k+=1,k+m>h.length?Ep:(h=h.slice(k,k+m),u.C=k+m,h)))}_i.prototype.cancel=function(){this.J=!0,Cs(this)};function Fc(u){u.S=Date.now()+u.I,__(u,u.I)}function __(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fl(p(u.ba,u),h)}function Tp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}_i.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Z2(this.i,this.A),this.L!=2&&(dl(),Jt(17)),Cs(this),this.s=2,pl(this)):__(this,this.S-u)};function pl(u){u.j.G==0||u.J||H_(u.j,u)}function Cs(u){Tp(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,bo(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Sp(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||bp(m.h,u))){if(!u.K&&bp(m.h,u)&&m.G==3){try{var k=m.Da.g.parse(h)}catch{k=null}if(Array.isArray(k)&&k.length==3){var V=k;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)qc(m),Hc(m);else break e;kp(m),Jt(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=fl(p(m.Za,m),6e3));if(1>=x_(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ks(m,11)}else if((u.K||m.g==u)&&qc(m),!y(h))for(V=m.Da.g.parse(h),h=0;h<V.length;h++){let Me=V[h];if(m.T=Me[0],Me=Me[1],m.G==2)if(Me[0]=="c"){m.K=Me[1],m.ia=Me[2];const Ut=Me[3];Ut!=null&&(m.la=Ut,m.j.info("VER="+m.la));const $t=Me[4];$t!=null&&(m.Aa=$t,m.j.info("SVER="+m.Aa));const Ro=Me[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(k=1.5*Ro,m.L=k,m.j.info("backChannelRequestTimeoutMs_="+k)),k=m;const Hn=u.g;if(Hn){const Qc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qc){var U=k.h;U.g||Qc.indexOf("spdy")==-1&&Qc.indexOf("quic")==-1&&Qc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ip(U,U.h),U.h=null))}if(k.D){const Pp=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pp&&(k.ya=Pp,We(k.I,k.D,Pp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),k=m;var Y=u;if(k.qa=G_(k,k.J?k.ia:null,k.W),Y.K){T_(k.h,Y);var Ue=Y,Rt=k.L;Rt&&(Ue.I=Rt),Ue.B&&(Tp(Ue),Fc(Ue)),k.g=Y}else B_(k);0<m.i.length&&Kc(m)}else Me[0]!="stop"&&Me[0]!="close"||ks(m,7);else m.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?ks(m,7):Ap(m):Me[0]!="noop"&&m.l&&m.l.ta(Me),m.v=0)}}dl(4)}catch{}}var J2=class{constructor(u,h){this.g=u,this.map=h}};function w_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function x_(u){return u.h?1:u.g?u.g.size:0}function bp(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Ip(u,h){u.g?u.g.add(h):u.h=h}function T_(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}w_.prototype.cancel=function(){if(this.i=S_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function S_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(const m of u.g.values())h=h.concat(m.D);return h}return v(u.i)}function eP(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,k=0;k<m;k++)h.push(u[k]);return h}h=[],m=0;for(k in u)h[m++]=u[k];return h}function tP(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(const k in u)h[m++]=k;return h}}}function b_(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=tP(u),k=eP(u),V=k.length,U=0;U<V;U++)h.call(void 0,k[U],m&&m[U],u)}var I_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nP(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var k=u[m].indexOf("="),V=null;if(0<=k){var U=u[m].substring(0,k);V=u[m].substring(k+1)}else U=u[m];h(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function As(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof As){this.h=u.h,jc(this,u.j),this.o=u.o,this.g=u.g,Uc(this,u.s),this.l=u.l;var h=u.i,m=new yl;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),C_(this,m),this.m=u.m}else u&&(h=String(u).match(I_))?(this.h=!1,jc(this,h[1]||"",!0),this.o=ml(h[2]||""),this.g=ml(h[3]||"",!0),Uc(this,h[4]),this.l=ml(h[5]||"",!0),C_(this,h[6]||"",!0),this.m=ml(h[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}As.prototype.toString=function(){var u=[],h=this.j;h&&u.push(gl(h,A_,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(gl(h,A_,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(gl(m,m.charAt(0)=="/"?sP:iP,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",gl(m,aP)),u.join("")};function $r(u){return new As(u)}function jc(u,h,m){u.j=m?ml(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Uc(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function C_(u,h,m){h instanceof yl?(u.i=h,lP(u.i,u.h)):(m||(h=gl(h,oP)),u.i=new yl(h,u.h))}function We(u,h,m){u.i.set(h,m)}function $c(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ml(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gl(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,rP),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var A_=/[#\/\?@]/g,iP=/[#\?:]/g,sP=/[#\?]/g,oP=/[#\?@]/g,aP=/#/g;function yl(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function wi(u){u.g||(u.g=new Map,u.h=0,u.i&&nP(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=yl.prototype,t.add=function(u,h){wi(this),this.i=null,u=Ao(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function k_(u,h){wi(u),h=Ao(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function R_(u,h){return wi(u),h=Ao(u,h),u.g.has(h)}t.forEach=function(u,h){wi(this),this.g.forEach(function(m,k){m.forEach(function(V){u.call(h,V,k,this)},this)},this)},t.na=function(){wi(this);const u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let k=0;k<h.length;k++){const V=u[k];for(let U=0;U<V.length;U++)m.push(h[k])}return m},t.V=function(u){wi(this);let h=[];if(typeof u=="string")R_(this,u)&&(h=h.concat(this.g.get(Ao(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},t.set=function(u,h){return wi(this),this.i=null,u=Ao(this,u),R_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function P_(u,h,m){k_(u,h),0<m.length&&(u.i=null,u.g.set(Ao(u,h),v(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var k=h[m];const U=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var V=U;Y[k]!==""&&(V+="="+encodeURIComponent(String(Y[k]))),u.push(V)}}return this.i=u.join("&")};function Ao(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function lP(u,h){h&&!u.j&&(wi(u),u.i=null,u.g.forEach(function(m,k){var V=k.toLowerCase();k!=V&&(k_(this,k),P_(this,V,m))},u)),u.j=h}function uP(u,h){const m=new hl;if(a.Image){const k=new Image;k.onload=g(Ei,m,"TestLoadImage: loaded",!0,h,k),k.onerror=g(Ei,m,"TestLoadImage: error",!1,h,k),k.onabort=g(Ei,m,"TestLoadImage: abort",!1,h,k),k.ontimeout=g(Ei,m,"TestLoadImage: timeout",!1,h,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else h(!1)}function cP(u,h){const m=new hl,k=new AbortController,V=setTimeout(()=>{k.abort(),Ei(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:k.signal}).then(U=>{clearTimeout(V),U.ok?Ei(m,"TestPingServer: ok",!0,h):Ei(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Ei(m,"TestPingServer: error",!1,h)})}function Ei(u,h,m,k,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),k(m)}catch{}}function dP(){this.g=new yp}function fP(u,h,m){const k=m||"";try{b_(u,function(V,U){let Y=V;c(V)&&(Y=ul(V)),h.push(k+U+"="+encodeURIComponent(Y))})}catch(V){throw h.push(k+"type="+encodeURIComponent("_badmap")),V}}function zc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(zc,Io),zc.prototype.g=function(){return new Bc(this.l,this.j)},zc.prototype.i=function(u){return function(){return u}}({});function Bc(u,h){Q.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Bc,Q),t=Bc.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,_l(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_l(this)),this.g&&(this.readyState=3,_l(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function N_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?vl(this):_l(this),this.readyState==3&&N_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,vl(this))},t.Qa=function(u){this.g&&(this.response=u,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_l(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function _l(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function O_(u){let h="";return L(u,function(m,k){h+=k,h+=":",h+=m,h+=`\r
`}),h}function Cp(u,h,m){e:{for(k in m){var k=!1;break e}k=!0}k||(m=O_(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):We(u,h,m))}function st(u){Q.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(st,Q);var hP=/^https?$/i,pP=["POST","PUT"];t=st.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,m,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wp.g(),this.v=this.o?l_(this.o):l_(wp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(U){D_(this,U);return}if(u=m||"",m=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var V in k)m.set(V,k[V]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())m.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pP,h,void 0))||k||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of m)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{V_(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){D_(this,U)}};function D_(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,M_(u),Wc(u)}function M_(u){u.A||(u.A=!0,K(u,"complete"),K(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,K(this,"complete"),K(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?L_(this):this.bb())},t.bb=function(){L_(this)};function L_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zr(u)!=4||u.Z()!=2)){if(u.u&&zr(u)==4)ke(u.Ea,0,u);else if(K(u,"readystatechange"),zr(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var k;if(k=Y===0){var V=String(u.D).match(I_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),k=!hP.test(V?V.toLowerCase():"")}m=k}if(m)K(u,"complete"),K(u,"success");else{u.m=6;try{var U=2<zr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",M_(u)}}finally{Wc(u)}}}}function Wc(u,h){if(u.g){V_(u);const m=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||K(u,"ready");try{m.onreadystatechange=k}catch{}}}function V_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),Dc(h)}};function F_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mP(u){const h={};u=(u.g&&2<=zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(y(u[k]))continue;var m=O(u[k]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=h[V]||[];h[V]=U,U.push(m)}T(h,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wl(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function j_(u){this.Aa=0,this.i=[],this.j=new hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wl("baseRetryDelayMs",5e3,u),this.cb=wl("retryDelaySeedMs",1e4,u),this.Wa=wl("forwardChannelMaxRetries",2,u),this.wa=wl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new w_(u&&u.concurrentRequestLimit),this.Da=new dP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=j_.prototype,t.la=8,t.G=1,t.connect=function(u,h,m,k){Jt(0),this.W=u,this.H=h||{},m&&k!==void 0&&(this.H.OSID=m,this.H.OAID=k),this.F=this.X,this.I=G_(this,null,this.W),Kc(this)};function Ap(u){if(U_(u),u.G==3){var h=u.U++,m=$r(u.I);if(We(m,"SID",u.K),We(m,"RID",h),We(m,"TYPE","terminate"),El(u,m),h=new _i(u,u.j,h),h.L=2,h.v=$c($r(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=Q_(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Fc(h)}q_(u)}function Hc(u){u.g&&(Rp(u),u.g.cancel(),u.g=null)}function U_(u){Hc(u),u.u&&(a.clearTimeout(u.u),u.u=null),qc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Kc(u){if(!E_(u.h)&&!u.s){u.s=!0;var h=u.Ga;ue||J(),j||(ue(),j=!0),$.add(h,u),u.B=0}}function gP(u,h){return x_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fl(p(u.Ga,u,h),K_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new _i(this,this.j,u);let U=this.o;if(this.S&&(U?(U=E(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var k=this.i[m];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(h+=k,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=z_(this,V,h),m=$r(this.I),We(m,"RID",u),We(m,"CVER",22),this.D&&We(m,"X-HTTP-Session-Id",this.D),El(this,m),U&&(this.O?h="headers="+encodeURIComponent(String(O_(U)))+"&"+h:this.m&&Cp(m,this.m,U)),Ip(this.h,V),this.Ua&&We(m,"TYPE","init"),this.P?(We(m,"$req",h),We(m,"SID","null"),V.T=!0,xp(V,m,null)):xp(V,m,h),this.G=2}}else this.G==3&&(u?$_(this,u):this.i.length==0||E_(this.h)||$_(this))};function $_(u,h){var m;h?m=h.l:m=u.U++;const k=$r(u.I);We(k,"SID",u.K),We(k,"RID",m),We(k,"AID",u.T),El(u,k),u.m&&u.o&&Cp(k,u.m,u.o),m=new _i(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=z_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ip(u.h,m),xp(m,k,h)}function El(u,h){u.H&&L(u.H,function(m,k){We(h,k,m)}),u.l&&b_({},function(m,k){We(h,k,m)})}function z_(u,h,m){m=Math.min(u.i.length,m);var k=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let U=-1;for(;;){const Y=["count="+m];U==-1?0<m?(U=V[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let Ue=!0;for(let Rt=0;Rt<m;Rt++){let Me=V[Rt].g;const Ut=V[Rt].map;if(Me-=U,0>Me)U=Math.max(0,V[Rt].g-100),Ue=!1;else try{fP(Ut,Y,"req"+Me+"_")}catch{k&&k(Ut)}}if(Ue){k=Y.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,k}function B_(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;ue||J(),j||(ue(),j=!0),$.add(h,u),u.v=0}}function kp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fl(p(u.Fa,u),K_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,W_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fl(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Hc(this),W_(this))};function Rp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function W_(u){u.g=new _i(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=$r(u.qa);We(h,"RID","rpc"),We(h,"SID",u.K),We(h,"AID",u.T),We(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(h,"TO",u.ja),We(h,"TYPE","xmlhttp"),El(u,h),u.m&&u.o&&Cp(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=$c($r(h)),m.m=null,m.P=!0,y_(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),kp(this),Jt(19))};function qc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function H_(u,h){var m=null;if(u.g==h){qc(u),Rp(u),u.g=null;var k=2}else if(bp(u.h,h))m=h.D,T_(u.h,h),k=1;else return;if(u.G!=0){if(h.o)if(k==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var V=u.B;k=Mc(),K(k,new h_(k,m)),Kc(u)}else B_(u);else if(V=h.s,V==3||V==0&&0<h.X||!(k==1&&gP(u,h)||k==2&&kp(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),V){case 1:ks(u,5);break;case 4:ks(u,10);break;case 3:ks(u,6);break;default:ks(u,2)}}}function K_(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function ks(u,h){if(u.j.info("Error code "+h),h==2){var m=p(u.fb,u),k=u.Xa;const V=!k;k=new As(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(k,"https"),$c(k),V?uP(k.toString(),m):cP(k.toString(),m)}else Jt(2);u.G=0,u.l&&u.l.sa(h),q_(u),U_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function q_(u){if(u.G=0,u.ka=[],u.l){const h=S_(u.h);(h.length!=0||u.i.length!=0)&&(I(u.ka,h),I(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function G_(u,h,m){var k=m instanceof As?$r(m):new As(m);if(k.g!="")h&&(k.g=h+"."+k.g),Uc(k,k.s);else{var V=a.location;k=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var U=new As(null);k&&jc(U,k),h&&(U.g=h),V&&Uc(U,V),m&&(U.l=m),k=U}return m=u.D,h=u.ya,m&&h&&We(k,m,h),We(k,"VER",u.la),El(u,k),k}function Q_(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new st(new zc({eb:m})):new st(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z_(){}t=Z_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gc(){}Gc.prototype.g=function(u,h){return new En(u,h)};function En(u,h){Q.call(this),this.g=new j_(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!y(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new ko(this)}_(En,Q),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Ap(this.g)},En.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=ul(u),u=m);h.i.push(new J2(h.Ya++,u)),h.G==3&&Kc(h)},En.prototype.N=function(){this.g.l=null,delete this.j,Ap(this.g),delete this.g,En.aa.N.call(this)};function Y_(u){vp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(const m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}_(Y_,vp);function X_(){_p.call(this),this.status=1}_(X_,_p);function ko(u){this.g=u}_(ko,Z_),ko.prototype.ua=function(){K(this.g,"a")},ko.prototype.ta=function(u){K(this.g,new Y_(u))},ko.prototype.sa=function(u){K(this.g,new X_)},ko.prototype.ra=function(){K(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,rk=function(){return new Gc},nk=function(){return Mc()},tk=Is,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,qd=Lc,p_.COMPLETE="complete",ek=p_,u_.EventType=cl,cl.OPEN="a",cl.CLOSE="b",cl.ERROR="c",cl.MESSAGE="d",Q.prototype.listen=Q.prototype.K,$l=u_,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,JA=st}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Gh("@firebase/firestore");function Ol(){return ro.logLevel}function ce(t,...e){if(ro.logLevel<=Pe.DEBUG){const n=e.map(s0);ro.debug(`Firestore (${tl}): ${t}`,...n)}}function fi(t,...e){if(ro.logLevel<=Pe.ERROR){const n=e.map(s0);ro.error(`Firestore (${tl}): ${t}`,...n)}}function La(t,...e){if(ro.logLevel<=Pe.WARN){const n=e.map(s0);ro.warn(`Firestore (${tl}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+t;throw fi(e),new Error(e)}function Fe(t,e){t||_e()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class a9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class l9{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ri,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new ik(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new qt(e)}}class u9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class c9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new u9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new d9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=h9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new yt(0,0))}static max(){return new Ee(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Uu{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const p9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Uu{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return p9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(qe.fromString(e))}static fromName(e){return new fe(qe.fromString(e).popFirst(5))}static empty(){return new fe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new qe(e.slice()))}}function m9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new ds(i,fe.empty(),e)}function g9(t){return new ds(t.readTime,t.key,-1)}class ds{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ds(Ee.min(),fe.empty(),-1)}static max(){return new ds(Ee.max(),fe.empty(),-1)}}function y9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==v9)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function w9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o0.oe=-1;function Qh(t){return t==null}function $f(t){return t===0&&1/t==-1/0}function E9(t){return typeof t=="number"&&Number.isInteger(t)&&!$f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ok(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sd(this.root,e,this.comparator,!0)}}class Sd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ME(this.data.getIterator())}getIteratorFrom(e){return new ME(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class ME{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Lt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ak("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const x9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=x9.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(t.seconds),nanos:ut(t.nanos)}}function ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function l0(t){const e=t.mapValue.fields.__previous_value__;return a0(e)?l0(e):e}function $u(t){const e=fs(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:b9(t)?9007199254740991:S9(t)?10:11:_e()}function Nr(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fs(i.timestampValue),a=fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return io(i.bytesValue).isEqual(io(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),a=ut(s.doubleValue);return o===a?$f(o)===$f(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Va(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(DE(o)!==DE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Nr(o[l],a[l])))return!1;return!0}(t,e);default:return _e()}}function Bu(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function Fa(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ut(s.integerValue||s.doubleValue),l=ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return LE(t.timestampValue,e.timestampValue);case 4:return LE($u(t),$u(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=io(s),l=io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Le(a[c],l[c]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Le(ut(s.latitude),ut(o.latitude));return a!==0?a:Le(ut(s.longitude),ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return VE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=Le(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:VE(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bd.mapValue&&o===bd.mapValue)return 0;if(s===bd.mapValue)return 1;if(o===bd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Le(l[f],d[f]);if(p!==0)return p;const g=Fa(a[l[f]],c[d[f]]);if(g!==0)return g}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _e()}}function LE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=fs(t),r=fs(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function VE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fa(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function ja(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${sy(n.fields[o])}`;return i+"}"}(t.mapValue):_e()}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function oy(t){return!!t&&"integerValue"in t}function u0(t){return!!t&&"arrayValue"in t}function jE(t){return!!t&&"nullValue"in t}function UE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function S9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=iu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pn(iu(this.value))}}function lk(t){const e=[];return Eo(t.fields,(n,r)=>{const i=new Dt([n]);if(Gd(r)){const s=lk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,Ee.min(),Ee.min(),Ee.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,Ee.min(),Ee.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Ee.min(),Ee.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.position=e,this.inclusive=n}}function $E(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Fa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{}class gt extends uk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A9(e,n,r):n==="array-contains"?new P9(e,r):n==="in"?new N9(e,r):n==="not-in"?new O9(e,r):n==="array-contains-any"?new D9(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k9(e,r):new R9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends uk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ur(e,n)}matches(e){return ck(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ck(t){return t.op==="and"}function dk(t){return C9(t)&&ck(t)}function C9(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function ay(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(dk(t))return t.filters.map(e=>ay(e)).join(",");{const e=t.filters.map(n=>ay(n)).join(",");return`${t.op}(${e})`}}function fk(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)}(t,e):t instanceof ur?function(r,i){return i instanceof ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fk(o,i.filters[a]),!0):!1}(t,e):void _e()}function hk(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(hk).join(" ,")+"}"}(t):"Filter"}class A9 extends gt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class k9 extends gt{constructor(e,n){super(e,"in",n),this.keys=pk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R9 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=pk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class P9 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u0(n)&&Bu(n.arrayValue,this.value)}}class N9 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class O9 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}}class D9 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function BE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new M9(t,e,n,r,i,s,o)}function c0(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ja(r)).join(",")),e.ue=n}return e.ue}function d0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!I9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function ly(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L9(t,e,n,r,i,s,o,a){return new nl(t,e,n,r,i,s,o,a)}function f0(t){return new nl(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mk(t){return t.collectionGroup!==null}function su(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wu(s,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new Wu(Dt.keyField(),r))}return e.ce}function br(t){const e=xe(t);return e.le||(e.le=V9(e,su(t))),e.le}function V9(t,e){if(t.limitType==="F")return BE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new zf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zf(t.startAt.position,t.startAt.inclusive):null;return BE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uy(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bf(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zh(t,e){return d0(br(t),br(e))&&t.limitType===e.limitType}function gk(t){return`${c0(br(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hk(i)).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ja(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of su(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=$E(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,su(r),i)||r.endAt&&!function(o,a,l){const c=$E(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,su(r),i))}(t,e)}function F9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yk(t){return(e,n)=>{let r=!1;for(const i of su(t)){const s=j9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j9(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Fa(l,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ok(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new nt(fe.comparator);function hi(){return U9}const vk=new nt(fe.comparator);function zl(...t){let e=vk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=vk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return ou()}function wk(){return ou()}function ou(){return new rl(t=>t.toString(),(t,e)=>t.isEqual(e))}const $9=new nt(fe.comparator),z9=new Lt(fe.comparator);function Ae(...t){let e=z9;for(const n of t)e=e.add(n);return e}const B9=new Lt(Le);function W9(){return B9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function Ek(t){return{integerValue:""+t}}function H9(t,e){return E9(e)?Ek(e):h0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function K9(t,e,n){return t instanceof Wf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a0(s)&&(s=l0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hu?Tk(t,e):t instanceof Ku?Sk(t,e):function(i,s){const o=xk(i,s),a=HE(o)+HE(i.Pe);return oy(o)&&oy(i.Pe)?Ek(a):h0(i.serializer,a)}(t,e)}function q9(t,e,n){return t instanceof Hu?Tk(t,e):t instanceof Ku?Sk(t,e):n}function xk(t,e){return t instanceof Hf?function(r){return oy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wf extends Xh{}class Hu extends Xh{constructor(e){super(),this.elements=e}}function Tk(t,e){const n=bk(e);for(const r of t.elements)n.some(i=>Nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ku extends Xh{constructor(e){super(),this.elements=e}}function Sk(t,e){let n=bk(e);for(const r of t.elements)n=n.filter(i=>!Nr(i,r));return{arrayValue:{values:n}}}class Hf extends Xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function HE(t){return ut(t.integerValue||t.doubleValue)}function bk(t){return u0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hu&&i instanceof Hu||r instanceof Ku&&i instanceof Ku?Va(r.elements,i.elements,Nr):r instanceof Hf&&i instanceof Hf?Nr(r.Pe,i.Pe):r instanceof Wf&&i instanceof Wf}(t.transform,e.transform)}class Q9{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function Ik(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ak(t.key,rr.none()):new Tc(t.key,t.data,rr.none());{const n=t.data,r=pn.empty();let i=new Lt(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Es(t.key,r,new In(i.toArray()),rr.none())}}function Z9(t,e,n){t instanceof Tc?function(i,s,o){const a=i.value.clone(),l=qE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Es?function(i,s,o){if(!Qd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ck(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function au(t,e,n,r){return t instanceof Tc?function(s,o,a,l){if(!Qd(s.precondition,o))return a;const c=s.value.clone(),d=GE(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Es?function(s,o,a,l){if(!Qd(s.precondition,o))return a;const c=GE(s.fieldTransforms,l,o),d=o.data;return d.setAll(Ck(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Qd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Y9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xk(r.transform,i||null);s!=null&&(n===null&&(n=pn.empty()),n.set(r.field,s))}return n||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Va(r,i,(s,o)=>G9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends Jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Es extends Jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ck(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qE(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,q9(o,a,n[i]))}return r}function GE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,K9(s,o,e))}return r}class Ak extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X9 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Ik(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(n,r)=>KE(n,r))&&Va(this.baseMutations,e.baseMutations,(n,r)=>KE(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return $9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ne;function n8(t){switch(t){default:return _e();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function kk(t){if(t===void 0)return fi("GRPC error has no .code"),H.UNKNOWN;switch(t){case ht.OK:return H.OK;case ht.CANCELLED:return H.CANCELLED;case ht.UNKNOWN:return H.UNKNOWN;case ht.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ht.INTERNAL:return H.INTERNAL;case ht.UNAVAILABLE:return H.UNAVAILABLE;case ht.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ht.NOT_FOUND:return H.NOT_FOUND;case ht.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ht.ABORTED:return H.ABORTED;case ht.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ht.DATA_LOSS:return H.DATA_LOSS;default:return _e()}}(Ne=ht||(ht={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=new Ks([4294967295,4294967295],0);function QE(t){const e=r8().encode(t),n=new XA;return n.update(e),new Uint8Array(n.digest())}function ZE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,s],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ks.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(i8)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=QE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=QE(e),[r,i]=ZE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ep(Ee.min(),i,new nt(Le),hi(),Ae())}}class Sc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sc(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Rk{constructor(e,n){this.targetId=e,this.me=n}}class Pk{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.fe=0,this.ge=JE(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Sc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=JE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class s8{constructor(e){this.Le=e,this.Be=new Map,this.ke=hi(),this.qe=XE(),this.Qe=new nt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ly(s))if(r===0){const o=new fe(s.path);this.Ue(n,o,Qt.newNoDocument(o,Ee.min()))}else Fe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=io(r).toUint8Array()}catch(l){if(l instanceof ak)return La("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new m0(o,i,s)}catch(l){return La(l instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ly(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ep(e,n,this.Qe,this.ke,r);return this.ke=hi(),this.qe=XE(),this.Qe=new nt(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XE(){return new nt(fe.comparator)}function JE(){return new nt(fe.comparator)}const o8={asc:"ASCENDING",desc:"DESCENDING"},a8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l8={and:"AND",or:"OR"};class u8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cy(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c8(t,e){return Kf(t,e.toTimestamp())}function Ir(t){return Fe(!!t),Ee.fromTimestamp(function(n){const r=fs(n);return new yt(r.seconds,r.nanos)}(t))}function g0(t,e){return dy(t,e).canonicalString()}function dy(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ok(t){const e=qe.fromString(t);return Fe(Fk(e)),e}function fy(t,e){return g0(t.databaseId,e.path)}function Cm(t,e){const n=Ok(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(Mk(n))}function Dk(t,e){return g0(t.databaseId,e)}function d8(t){const e=Ok(t);return e.length===4?qe.emptyPath():Mk(e)}function hy(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mk(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ex(t,e,n){return{name:fy(t,e),fields:n.value.mapValue.fields}}function f8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Fe(d===void 0||typeof d=="string"),jt.fromBase64String(d||"")):(Fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?H.UNKNOWN:kk(c.code);return new ie(d,c.message||"")}(o);n=new Pk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(t,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):Ee.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Zd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cm(t,r.document),s=r.readTime?Ir(r.readTime):Ee.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cm(t,r.document),s=r.removedTargetIds||[];n=new Zd([],s,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new t8(i,s),a=r.targetId;n=new Rk(a,o)}}return n}function h8(t,e){let n;if(e instanceof Tc)n={update:ex(t,e.key,e.value)};else if(e instanceof Ak)n={delete:fy(t,e.key)};else if(e instanceof Es)n={update:ex(t,e.key,e.data),updateMask:x8(e.fieldMask)};else{if(!(e instanceof X9))return _e();n={verify:fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ku)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:c8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(t,e.precondition)),n}function p8(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ir(i.updateTime):Ir(s);return o.isEqual(Ee.min())&&(o=Ir(s)),new Q9(o,i.transformResults||[])}(n,e))):[]}function m8(t,e){return{documents:[Dk(t,e.path)]}}function g8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dk(t,i);const s=function(c){if(c.length!==0)return Vk(ur.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Uo(p.field),direction:_8(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function y8(t){let e=d8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=Lk(f);return p instanceof ur&&dk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Wu($o(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Qh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new zf(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new zf(g,p)}(n.endAt)),L9(e,i,o,s,a,"F",l,c)}function v8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$o(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$o(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$o(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$o(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return gt.create($o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>Lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function _8(t){return o8[t]}function w8(t){return a8[t]}function E8(t){return l8[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Dt.fromServerFormat(t.fieldPath)}function Vk(t){return t instanceof gt?function(n){if(n.op==="=="){if(UE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(jE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(jE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:w8(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(i=>Vk(i));return r.length===1?r[0]:{compositeFilter:{op:E8(n.op),filters:r}}}(t):_e()}function x8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,s=Ee.min(),o=Ee.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.ct=e}}function S8(t){const e=y8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.un=new I8}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ds.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class I8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ua(0)}static kn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(){this.changes=new rl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&au(r.mutation,i,In.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hi();const o=ou(),a=function(){return ou()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Es)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),au(d.mutation,c,d.mutation.getFieldMask(),yt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new A8(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ou();let i=new nt((o,a)=>o-a),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||In.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=wk();d.forEach(p=>{if(!s.has(p)){const g=Ik(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Ls());let a=-1,l=s;return o.next(c=>q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:_k(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zl();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const c=function(f,p){return new nl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Qt.newInvalidDocument(d)))});let a=zl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&au(d.mutation,c,In.empty(),yt.now()),Yh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:S8(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this.overlays=new nt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ls(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e8(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Tr=new Lt(St.Er),this.dr=new Lt(St.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new St(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new qe([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new qe([])),r=new St(n,e),i=new St(n,e+1);let s=Ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Lt(St.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Le);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new St(new fe(s),0);let a=new Lt(Le);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new St(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.Mr=e,this.docs=function(){return new nt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hi();const o=n.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||y9(g9(d),r)<=0||(i.has(d.key)||Yh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M8(this)}getSize(e){return q.resolve(this.size)}}class M8 extends C8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.persistence=e,this.Nr=new rl(n=>c0(n),d0),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new y0,this.targetCount=0,this.kr=Ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new o0(0),this.Kr=!1,this.Kr=!0,this.$r=new N8,this.referenceDelegate=e(this),this.Ur=new L8(this),this.indexManager=new b8,this.remoteDocumentCache=function(i){return new D8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new T8(n),this.Gr=new R8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new F8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class F8 extends _9{constructor(e){super(),this.currentSequenceNumber=e}}class v0{constructor(e){this.persistence=e,this.Jr=new y0,this.Yr=null}static Zr(e){return new v0(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $F()?8:w9(Yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new j8;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ol()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Ol()<=Pe.DEBUG&&ce("QueryEngine","Query:",jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ol()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):q.resolve())}Yi(e,n){if(WE(n))return q.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bf(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Bf(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return WE(n)||i.isEqual(Ee.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?q.resolve(null):(Ol()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jo(n)),this.rs(e,o,n,m9(i,-1)).next(a=>a))})}ts(e,n){let r=new Lt(yk(e));return n.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ol()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",jo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ds.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nt(Le),this._s=new rl(s=>c0(s),d0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function z8(t,e,n,r){return new $8(t,e,n,r)}async function jk(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ae();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function B8(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=q.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(v=>{const I=c.docVersions.get(_);Fe(I!==null),v.version.compareTo(I)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Uk(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function W8(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(v,I,x){return v.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=hi(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(H8(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(Ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function H8(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function K8(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q8(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new qi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function py(t,e,n){const r=xe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xc(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tx(t,e,n){const r=xe(t);let i=Ee.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=xe(l),p=f._s.get(d);return p!==void 0?q.resolve(f.os.get(p)):f.Ur.getTargetData(c,d)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Ee.min(),n?s:Ae())).next(a=>(G8(r,F9(e),a),{documents:a,Ts:s})))}function G8(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nx{constructor(){this.activeTargetIds=W9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q8{constructor(){this.so=new nx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function Am(){return Id===null?Id=function(){return 268435456+Math.round(2147483648*Math.random())}():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class J8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Am(),l=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw La("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=Y8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Am();return new Promise((o,a)=>{const l=new JA;l.setWithCredentials(!0),l.listenOnce(ek.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qd.NO_ERROR:const d=l.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case qd.TIMEOUT:ce(Wt,`RPC '${e}' ${s} timed out`),a(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const f=l.getStatus();if(ce(Wt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(I){const x=I.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(g.status);a(new ie(_,g.message))}else a(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(H.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ce(Wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ce(Wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Am(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rk(),a=nk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ce(Wt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const _=new X8({Io:I=>{g?ce(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(ce(Wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ce(Wt,`RPC '${e}' stream ${i} sending:`,I),f.send(I))},To:()=>f.close()}),v=(I,x,y)=>{I.listen(x,C=>{try{y(C)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,$l.EventType.OPEN,()=>{g||(ce(Wt,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(f,$l.EventType.CLOSE,()=>{g||(g=!0,ce(Wt,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(f,$l.EventType.ERROR,I=>{g||(g=!0,La(Wt,`RPC '${e}' stream ${i} transport errored:`,I),_.So(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),v(f,$l.EventType.MESSAGE,I=>{var x;if(!g){const y=I.data[0];Fe(!!y);const C=y,P=C.error||((x=C[0])===null||x===void 0?void 0:x.error);if(P){ce(Wt,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let L=function(S){const R=ht[S];if(R!==void 0)return kk(R)}(D),T=P.message;L===void 0&&(L=H.INTERNAL,T="Unknown error status: "+D+" with message "+P.message),g=!0,_.So(new ie(L,T)),f.close()}else ce(Wt,`RPC '${e}' stream ${i} received:`,y),_.bo(y)}}),v(a,tk.STAT_EVENT,I=>{I.stat===iy.PROXY?ce(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===iy.NOPROXY&&ce(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return new u8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $k(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eU extends zk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=f8(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?Ir(o.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=hy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ly(l)?{documents:m8(s,l)}:{query:g8(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Nk(s,o.resumeToken);const c=cy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ee.min())>0){a.readTime=Kf(s,o.snapshotVersion.toTimestamp());const c=cy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=v8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=hy(this.serializer),n.removeTarget=e,this.a_(n)}}class tU extends zk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=p8(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=hy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,dy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,dy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fi(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{xo(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=xe(l);c.L_.add(4),await bc(c),c.q_.set("Unknown"),c.L_.delete(4),await np(c)}(this))})}),this.q_=new rU(r,i)}}async function np(t){if(xo(t))for(const e of t.B_)await e(!0)}async function bc(t){for(const e of t.B_)await e(!1)}function Bk(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),T0(n)?x0(n):il(n).r_()&&E0(n,e))}function w0(t,e){const n=xe(t),r=il(n);n.N_.delete(e),r.r_()&&Wk(n,e),n.N_.size===0&&(r.r_()?r.o_():xo(n)&&n.q_.set("Unknown"))}function E0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(t).A_(e)}function Wk(t,e){t.Q_.xe(e),il(t).R_(e)}function x0(t){t.Q_=new s8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),il(t).start(),t.q_.v_()}function T0(t){return xo(t)&&!il(t).n_()&&t.N_.size>0}function xo(t){return xe(t).L_.size===0}function Hk(t){t.Q_=void 0}async function sU(t){t.q_.set("Online")}async function oU(t){t.N_.forEach((e,n)=>{E0(t,e)})}async function aU(t,e){Hk(t),T0(t)?(t.q_.M_(e),x0(t)):t.q_.set("Unknown")}async function lU(t,e,n){if(t.q_.set("Online"),e instanceof Pk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qf(t,r)}else if(e instanceof Zd?t.Q_.Ke(e):e instanceof Rk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await Uk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),Wk(s,l);const f=new qi(d.target,l,c,d.sequenceNumber);E0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await qf(t,r)}}async function qf(t,e,n){if(!xc(e))throw e;t.L_.add(1),await bc(t),t.q_.set("Offline"),n||(n=()=>Uk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await np(t)})}function Kk(t,e){return e().catch(n=>qf(t,n,e))}async function rp(t){const e=xe(t),n=hs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;uU(e);)try{const i=await K8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,cU(e,i)}catch(i){await qf(e,i)}qk(e)&&Gk(e)}function uU(t){return xo(t)&&t.O_.length<10}function cU(t,e){t.O_.push(e);const n=hs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qk(t){return xo(t)&&!hs(t).n_()&&t.O_.length>0}function Gk(t){hs(t).start()}async function dU(t){hs(t).p_()}async function fU(t){const e=hs(t);for(const n of t.O_)e.m_(n.mutations)}async function hU(t,e,n){const r=t.O_.shift(),i=p0.from(r,e,n);await Kk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rp(t)}async function pU(t,e){e&&hs(t).V_&&await async function(r,i){if(function(o){return n8(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();hs(r).s_(),await Kk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rp(r)}}(t,e),qk(t)&&Gk(t)}async function ix(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=xo(n);n.L_.add(3),await bc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await np(n)}async function mU(t,e){const n=xe(t);e?(n.L_.delete(2),await np(n)):e||(n.L_.add(2),await bc(n),n.q_.set("Unknown"))}function il(t){return t.K_||(t.K_=function(n,r,i){const s=xe(n);return s.w_(),new eU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sU.bind(null,t),Ro:oU.bind(null,t),mo:aU.bind(null,t),d_:lU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),T0(t)?x0(t):t.q_.set("Unknown")):(await t.K_.stop(),Hk(t))})),t.K_}function hs(t){return t.U_||(t.U_=function(n,r,i){const s=xe(n);return s.w_(),new tU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dU.bind(null,t),mo:pU.bind(null,t),f_:fU.bind(null,t),g_:hU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rp(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new S0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(fi("AsyncQueue",`${e}: ${t}`),xc(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.W_=new nt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $a{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $a(e,n,fa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yU{constructor(){this.queries=ox(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),s=i.queries;i.queries=ox(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function ox(){return new rl(t=>gk(t),Zh)}async function Qk(t,e){const n=xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new gU,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=b0(o,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&I0(n)}async function Zk(t,e){const n=xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vU(t,e){const n=xe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&I0(n)}function _U(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function I0(t){t.Y_.forEach(e=>{e.next()})}var my,ax;(ax=my||(my={})).ea="default",ax.Cache="cache";class Yk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class wU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=yk(e),this.Ra=new fa(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=Yh(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let I=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),I=!0):this.ga(p,g)||(r.track({type:2,doc:g}),I=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),I=!0):p&&!g&&(r.track({type:1,doc:p}),I=!0,(l||c)&&(a=!0)),I&&(g?(o=o.add(g),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(g,_){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return v(g)-v(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new $a(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Jk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Xk(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xU{constructor(e){this.key=e,this.va=!1}}class TU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new rl(a=>gk(a),Zh),this.Ma=new Map,this.xa=new Set,this.Oa=new nt(fe.comparator),this.Na=new Map,this.La=new y0,this.Ba={},this.ka=new Map,this.qa=Ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function SU(t,e,n=!0){const r=sR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await eR(r,e,n,!0),i}async function bU(t,e){const n=sR(t);await eR(n,e,!0,!1)}async function eR(t,e,n,r){const i=await q8(t.localStore,br(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await IU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Bk(t.remoteStore,i),a}async function IU(t,e,n,r,i){t.Ka=(f,p,g)=>async function(v,I,x,y){let C=I.view.ma(x);C.ns&&(C=await tx(v.localStore,I.query,!1).then(({documents:T})=>I.view.ma(T,C)));const P=y&&y.targetChanges.get(I.targetId),D=y&&y.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(C,v.isPrimaryClient,P,D);return ux(v,I.targetId,L.wa),L.snapshot}(t,f,p,g);const s=await tx(t.localStore,e,!0),o=new wU(e,s.Ts),a=o.ma(s.documents),l=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ux(t,n,c.wa);const d=new EU(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function CU(t,e,n){const r=xe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Zh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await py(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&w0(r.remoteStore,i.targetId),gy(r,i.targetId)}).catch(Ec)):(gy(r,i.targetId),await py(r.localStore,i.targetId,!0))}async function AU(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),w0(n.remoteStore,r.targetId))}async function kU(t,e,n){const r=LU(t);try{const i=await function(o,a){const l=xe(o),c=yt.now(),d=a.reduce((g,_)=>g.add(_.key),Ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=hi(),v=Ae();return l.cs.getEntries(g,d).next(I=>{_=I,_.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(I=>{f=I;const x=[];for(const y of a){const C=Y9(y,f.get(y.key).overlayedDocument);C!=null&&x.push(new Es(y.key,C,lk(C.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(I=>{p=I;const x=I.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,I.batchId,x)})}).then(()=>({batchId:p.batchId,changes:_k(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new nt(Le)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ic(r,i.changes),await rp(r.remoteStore)}catch(i){const s=b0(i,"Failed to persist write");n.reject(s)}}async function tR(t,e){const n=xe(t);try{const r=await W8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Fe(o.va):i.removedDocuments.size>0&&(Fe(o.va),o.va=!1))}),await Ic(n,r,e)}catch(r){await Ec(r)}}function lx(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&I0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RU(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new nt(fe.comparator);o=o.insert(s,Qt.newNoDocument(s,Ee.min()));const a=Ae().add(s),l=new ep(Ee.min(),new Map,new nt(Le),o,a);await tR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),C0(r)}else await py(r.localStore,e,!1).then(()=>gy(r,e,n)).catch(Ec)}async function PU(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await B8(n.localStore,e);rR(n,r,null),nR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,i)}catch(i){await Ec(i)}}async function NU(t,e,n){const r=xe(t);try{const i=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Fe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);rR(r,e,n),nR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,i)}catch(i){await Ec(i)}}function nR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rR(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iR(t,r)})}function iR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(w0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),C0(t))}function ux(t,e,n){for(const r of n)r instanceof Xk?(t.La.addReference(r.key,e),OU(t,r)):r instanceof Jk?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iR(t,r.key)):_e()}function OU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),C0(t))}function C0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new xU(n)),t.Oa=t.Oa.insert(n,r),Bk(t.remoteStore,new qi(br(f0(n.path)),r,"TargetPurposeLimboResolution",o0.oe))}}async function Ic(t,e,n){const r=xe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=_0.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=xe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,p=>q.forEach(p.$i,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>q.forEach(p.Ui,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!xc(f))throw f;ce("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.os.get(p),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(p,v)}}}(r.localStore,s))}async function DU(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await jk(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.hs)}}function MU(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function sR(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RU.bind(null,e),e.Ca.d_=vU.bind(null,e.eventManager),e.Ca.$a=_U.bind(null,e.eventManager),e}function LU(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NU.bind(null,e),e}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return z8(this.persistence,new U8,e.initialUser,this.serializer)}Ga(e){return new V8(v0.Zr,this.serializer)}Wa(e){return new Q8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DU.bind(null,this.syncEngine),await mU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yU}()}createDatastore(e){const n=tp(e.databaseInfo.databaseId),r=function(s){return new J8(s)}(e.databaseInfo);return function(s,o,a,l){return new nU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new iU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lx(this.syncEngine,n,0),function(){return rx.D()?new rx:new Z8}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new TU(i,s,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=xe(i);ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=sk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ce("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FU(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ix(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ix(e.remoteStore,i)),t._onlineComponents=e}async function FU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Rm(t,new Gf)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Rm(t,new Gf);return t._offlineComponents}async function aR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await cx(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await cx(t,new yy))),t._onlineComponents}function jU(t){return aR(t).then(e=>e.syncEngine)}async function lR(t){const e=await aR(t),n=e.eventManager;return n.onListen=SU.bind(null,e.syncEngine),n.onUnlisten=CU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AU.bind(null,e.syncEngine),n}function UU(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new oR({next:p=>{d.Za(),o.enqueueAndForget(()=>Zk(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Yk(f0(a.path),d,{includeMetadataChanges:!0,_a:!0});return Qk(s,f)}(await lR(t),t.asyncQueue,e,n,r)),r.promise}function $U(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new oR({next:p=>{d.Za(),o.enqueueAndForget(()=>Zk(s,f)),p.fromCache&&l.source==="server"?c.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Yk(a,d,{includeMetadataChanges:!0,_a:!0});return Qk(s,f)}(await lR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zU(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fx(t){if(!fe.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hx(t){if(fe.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function BU(t,e){if(e<=0)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new px({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new px(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o9;switch(r.type){case"firstParty":return new c9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dx.get(n);r&&(ce("ComponentProvider","Removing Datastore"),dx.delete(n),r.terminate())}(this),Promise.resolve()}}function WU(t,e,n,r={}){var i;const s=(t=Or(t,sp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=qt.MOCK_USER;else{a=MF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qt(c)}t._authCredentials=new a9(new ik(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class is extends xs{constructor(e,n,r){super(e,n,f0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new fe(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function lu(t,e,...n){if(t=Ft(t),cR("collection","path",e),t instanceof sp){const r=qe.fromString(e,...n);return hx(r),new is(t,null,r)}{if(!(t instanceof on||t instanceof is))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return hx(r),new is(t.firestore,null,r)}}function A0(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=sk.newId()),cR("doc","path",e),t instanceof sp){const r=qe.fromString(e,...n);return fx(r),new on(t,null,new fe(r))}{if(!(t instanceof on||t instanceof is))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return fx(r),new on(t.firestore,t instanceof is?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $k(this,"async_queue_retry"),this.Vu=()=>{const r=km();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ri;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xc(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=S0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class sl extends sp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mx(e),this._firestoreClient=void 0,await e}}}function HU(t,e){const n=typeof t=="object"?t:i0(),r=typeof t=="string"?t:"(default)",i=wo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OF("firestore");s&&WU(i,...s)}return i}function k0(t){if(t._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||KU(t),t._firestoreClient}function KU(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new T9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,uR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new za(jt.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new za(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=/^__.*__$/;class GU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class dR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class O0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new O0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Qf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fR(this.Cu)&&qU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tp(e)}Qu(e,n,r,i=!1){return new O0({Cu:e,methodName:n,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=tp(t._databaseId);return new QU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hR(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);D0("Data must be an object, but it was:",o,r);const a=pR(r,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=vy(e,f,n);if(!o.contains(p))throw new ie(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gR(d,p)||d.push(p)}l=new In(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new GU(new pn(a),l,c)}class lp extends R0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function ZU(t,e,n,r){const i=t.Qu(1,e,n);D0("Data must be an object, but it was:",i,r);const s=[],o=pn.empty();Eo(r,(l,c)=>{const d=M0(e,l,n);c=Ft(c);const f=i.Nu(d);if(c instanceof lp)s.push(d);else{const p=Cc(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new In(s);return new dR(o,a,i.fieldTransforms)}function YU(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[vy(e,r,n)],l=[i];if(s.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(vy(e,s[p])),l.push(s[p+1]);const c=[],d=pn.empty();for(let p=a.length-1;p>=0;--p)if(!gR(c,a[p])){const g=a[p];let _=l[p];_=Ft(_);const v=o.Nu(g);if(_ instanceof lp)c.push(g);else{const I=Cc(_,v);I!=null&&(c.push(g),d.set(g,I))}}const f=new In(c);return new dR(d,f,o.fieldTransforms)}function XU(t,e,n,r=!1){return Cc(n,t.Qu(r?4:3,e))}function Cc(t,e){if(mR(t=Ft(t)))return D0("Unsupported field value:",e,t),pR(t,e);if(t instanceof R0)return function(r,i){if(!fR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cc(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=yt.fromDate(r);return{timestampValue:Kf(i.serializer,s)}}if(r instanceof yt){const s=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(i.serializer,s)}}if(r instanceof P0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof za)return{bytesValue:Nk(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof N0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return h0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ip(r)}`)}(t,e)}function pR(t,e){const n={};return ok(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,(r,i)=>{const s=Cc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof P0||t instanceof za||t instanceof on||t instanceof R0||t instanceof N0)}function D0(t,e,n){if(!mR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ip(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function vy(t,e,n){if((e=Ft(e))instanceof op)return e._internalPath;if(typeof e=="string")return M0(t,e);throw Qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const JU=new RegExp("[~\\*/\\[\\]]");function M0(t,e,n){if(e.search(JU)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new op(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,a+t+l)}function gR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(up("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e$ extends yR{data(){return super.data()}}function up(t,e){return typeof e=="string"?M0(t,e):e instanceof op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class V0 extends L0{}function vR(t,e,...n){let r=[];e instanceof L0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof F0).length,a=s.filter(l=>l instanceof cp).length;if(o>1||o>0&&a>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cp extends V0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cp(e,n,r)}_apply(e){const n=this._parse(e);return wR(e._query,n),new xs(e.firestore,e.converter,uy(e._query,n))}_parse(e){const n=ap(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){yx(f,d);const g=[];for(const _ of f)g.push(gx(l,s,_));p={arrayValue:{values:g}}}else p=gx(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||yx(f,d),p=XU(a,o,f,d==="in"||d==="not-in");return gt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function n$(t,e,n){const r=e,i=up("where",t);return cp._create(i,r,n)}class F0 extends L0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)wR(o,l),o=uy(o,l)}(e._query,n),new xs(e.firestore,e.converter,uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j0 extends V0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(s,o)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new nl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function r$(t,e="asc"){const n=e,r=up("orderBy",t);return j0._create(r,n)}class U0 extends V0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U0(e,n,r)}_apply(e){return new xs(e.firestore,e.converter,Bf(e._query,this._limit,this._limitType))}}function _R(t){return BU("limit",t),U0._create("limit",t,"F")}function gx(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mk(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!fe.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FE(t,new fe(r))}if(n instanceof on)return FE(t,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(n)}.`)}function yx(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class i${convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Eo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ut(o.doubleValue));return new N0(s)}convertGeoPoint(e){return new P0(ut(e.latitude),ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=l0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=fs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Fe(Fk(r));const i=new zu(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(n)||fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xR extends yR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(up("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends xR{data(e={}){return super.data(e)}}class s${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:o$(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){t=Or(t,on);const e=Or(t.firestore,sl);return UU(k0(e),t._key).then(n=>l$(e,t,n))}class SR extends i${constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function bR(t){t=Or(t,xs);const e=Or(t.firestore,sl),n=k0(e),r=new SR(e);return t$(t._query),$U(n,t._query).then(i=>new s$(e,r,t,i))}function a$(t,e,n){t=Or(t,on);const r=Or(t.firestore,sl),i=ER(t.converter,e);return $0(r,[hR(ap(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function IR(t,e,n,...r){t=Or(t,on);const i=Or(t.firestore,sl),s=ap(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof op?YU(s,"updateDoc",t._key,e,n,r):ZU(s,"updateDoc",t._key,e),$0(i,[o.toMutation(t._key,rr.exists(!0))])}function _y(t,e){const n=Or(t.firestore,sl),r=A0(t),i=ER(t.converter,e);return $0(n,[hR(ap(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function $0(t,e){return function(r,i){const s=new ri;return r.asyncQueue.enqueueAndForget(async()=>kU(await jU(r),i,s)),s.promise}(k0(t),e)}function l$(t,e,n){const r=n.docs.get(e._key),i=new SR(t);return new xR(t,i,e._key,r,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){tl=i})(el),Pr(new lr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sl(new l9(r.getProvider("auth-internal")),new f9(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Un(OE,"4.7.3",e),Un(OE,"4.7.3","esm2017")})();var u$="firebase",c$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(u$,c$,"app");function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d$=CR,AR=new _o("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Gh("@firebase/auth");function f$(t,...e){Zf.logLevel<=Pe.WARN&&Zf.warn(`Auth (${el}): ${t}`,...e)}function Xd(t,...e){Zf.logLevel<=Pe.ERROR&&Zf.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw z0(t,...e)}function Cr(t,...e){return z0(t,...e)}function kR(t,e,n){const r=Object.assign(Object.assign({},d$()),{[e]:n});return new _o("auth","Firebase",r).create(e,{appName:t.name})}function qs(t){return kR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function ve(t,e,...n){if(!t)throw z0(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function mi(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h$(){return vx()==="http:"||vx()==="https:"}function vx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h$()||BA()||"connection"in navigator)?navigator.onLine:!0}function m$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=LF()||jF()}get(){return p$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=new Ac(3e4,6e4);function W0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ol(t,e,n,r,i={}){return PR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return FF()||(c.referrerPolicy="no-referrer"),RR.fetch()(NR(t,t.config.apiHost,n,a),c)})}async function PR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g$),e);try{const i=new _$(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kR(t,d,c);pi(t,d)}}catch(i){if(i instanceof dr)throw i;pi(t,"network-request-failed",{message:String(i)})}}async function v$(t,e,n,r,i={}){const s=await ol(t,e,n,r,i);return"mfaPendingCredential"in s&&pi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?B0(t.config,i):`${t.config.apiScheme}://${i}`}class _${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),y$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function OR(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E$(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=H0(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uu(Pm(i.auth_time)),issuedAtTime:uu(Pm(i.iat)),expirationTime:uu(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function H0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=jA(n);return i?JSON.parse(i):(Xd("Failed to decode base64 JWT payload"),null)}catch(i){return Xd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _x(t){const e=H0(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&x$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qu(t,OR(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DR(s.providerUserInfo):[],a=b$(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ey(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function S$(t){const e=Ft(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DR(t){return t.map(e=>{var{providerId:n}=e,r=yc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){const n=await PR(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C$(t,e){return ol(t,"POST","/v2/accounts:revokeToken",W0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=_x(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await I$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ha;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ei{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=yc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E$(this,e)}reload(){return S$(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await qu(this,w$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:P,isAnonymous:D,providerData:L,stsTokenManager:T}=n;ve(C&&T,e,"internal-error");const E=ha.fromJSON(this.name,T);ve(typeof C=="string",e,"internal-error"),bi(f,e.name),bi(p,e.name),ve(typeof P=="boolean",e,"internal-error"),ve(typeof D=="boolean",e,"internal-error"),bi(g,e.name),bi(_,e.name),bi(v,e.name),bi(I,e.name),bi(x,e.name),bi(y,e.name);const S=new ei({uid:C,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:D,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:E,createdAt:x,lastLoginAt:y});return L&&Array.isArray(L)&&(S.providerData=L.map(R=>Object.assign({},R))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new ha;i.updateFromServerResponse(n);const s=new ei({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ve(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ha;a.updateFromIdToken(r);const l=new ei({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Map;function ti(t){mi(t instanceof Function,"Expected a class definition");let e=wx.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MR.type="NONE";const Ex=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ei._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(ti(Ex),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ti(Ex);const o=Jd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ei._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new pa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new pa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(zR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LR(t=Yt()){return/firefox\//i.test(t)}function VR(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(t=Yt()){return/crios\//i.test(t)}function jR(t=Yt()){return/iemobile/i.test(t)}function UR(t=Yt()){return/android/i.test(t)}function $R(t=Yt()){return/blackberry/i.test(t)}function zR(t=Yt()){return/webos/i.test(t)}function K0(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A$(t=Yt()){var e;return K0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k$(){return UF()&&document.documentMode===10}function BR(t=Yt()){return K0(t)||UR(t)||zR(t)||$R(t)||/windows phone/i.test(t)||jR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e=[]){let n;switch(t){case"Browser":n=xx(Yt());break;case"Worker":n=`${xx(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e={}){return ol(t,"GET","/v2/passwordPolicy",W0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=6;class O${constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:N$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tx(this),this.idTokenSubscription=new Tx(this),this.beforeStateQueue=new R$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OR(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ki(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(qs(this));const n=e?Ft(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P$(this),n=new O$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&f$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function q0(t){return Ft(t)}class Tx{constructor(e){this.auth=e,this.observer=null,this.addObserver=qF(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M$(t){G0=t}function L$(t){return G0.loadJS(t)}function V$(){return G0.gapiScript}function F$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e){const n=wo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fu(s,e??{}))return i;pi(i,"already-initialized")}return n.initialize({options:e})}function U$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $$(t,e,n){const r=q0(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=HR(e),{host:o,port:a}=z$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),B$()}function HR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z$(t){const e=HR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Sx(o)}}}function Sx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return v$(t,"POST","/v1/accounts:signInWithIdp",W0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="http://localhost";class oo extends KR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=yc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new oo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:W$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends kc{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends kc{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends kc{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ei._fromIdTokenResponse(e,r,i),o=bx(r);return new Ba({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bx(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends dr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function GR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}async function H$(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t,e,n=!1){const{auth:r}=t;if(Ki(r.app))return Promise.reject(qs(r));const i="reauthenticate";try{const s=await qu(t,GR(r,i,e,t),n);ve(s.idToken,r,"internal-error");const o=H0(s.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),Ba._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q$(t,e,n=!1){if(Ki(t.app))return Promise.reject(qs(t));const r="signIn",i=await GR(t,r,e),s=await Ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function G$(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function Q$(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=1e3,Y$=10;class ZR extends QR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);k$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZR.type="LOCAL";const X$=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends QR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YR.type="SESSION";const XR=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await J$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Q0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function t7(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function n7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i7(){return JR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firebaseLocalStorageDb",s7=1,eh="firebaseLocalStorage",t2="fbase_key";class Rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fp(t,e){return t.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function o7(){const t=indexedDB.deleteDatabase(e2);return new Rc(t).toPromise()}function xy(){const t=indexedDB.open(e2,s7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(eh,{keyPath:t2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(eh)?e(r):(r.close(),await o7(),e(await xy()))})})}async function Ix(t,e,n){const r=fp(t,!0).put({[t2]:e,value:n});return new Rc(r).toPromise()}async function a7(t,e){const n=fp(t,!1).get(e),r=await new Rc(n).toPromise();return r===void 0?null:r.value}function Cx(t,e){const n=fp(t,!0).delete(e);return new Rc(n).toPromise()}const l7=800,u7=3;class n2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>u7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dp._getInstance(i7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n7(),!this.activeServiceWorker)return;this.sender=new e7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await Ix(e,Jf,"1"),await Cx(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ix(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fp(i,!1).getAll();return new Rc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n2.type="LOCAL";const c7=n2;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e){return e?ti(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends KR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f7(t){return q$(t.auth,new Z0(t),t.bypassAuthState)}function h7(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),K$(n,new Z0(t),t.bypassAuthState)}async function p7(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),H$(n,new Z0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f7;case"linkViaPopup":case"linkViaRedirect":return p7;case"reauthViaPopup":case"reauthViaRedirect":return h7;default:pi(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Ac(2e3,1e4);class ta extends r2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m7.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="pendingRedirect",ef=new Map;class y7 extends r2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await v7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v7(t,e){const n=E7(e),r=w7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _7(t,e){ef.set(t._key(),e)}function w7(t){return ti(t._redirectPersistence)}function E7(t){return Jd(g7,t.config.apiKey,t.name)}async function x7(t,e,n=!1){if(Ki(t.app))return Promise.reject(qs(t));const r=q0(t),i=d7(r,e),o=await new y7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=10*60*1e3;class S7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ax(e))}saveEventToCache(e){this.cachedEventUids.add(Ax(e)),this.lastProcessedEventTime=Date.now()}}function Ax(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A7=/^https?/;async function k7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I7(t);for(const n of e)try{if(R7(n))return}catch{}pi(t,"unauthorized-domain")}function R7(t){const e=wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A7.test(n))return!1;if(C7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new Ac(3e4,6e4);function kx(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N7(t){return new Promise((e,n)=>{var r,i,s;function o(){kx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kx(),n(Cr(t,"network-request-failed"))},timeout:P7.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ar().gapi)===null||s===void 0)&&s.load)o();else{const a=F$("iframefcb");return Ar()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},L$(`${V$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function O7(t){return tf=tf||N7(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new Ac(5e3,15e3),M7="__/auth/iframe",L7="emulator/auth/iframe",V7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j7(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?B0(e,L7):`https://${t.config.authDomain}/${M7}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=F7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wc(r).slice(1)}`}async function U7(t){const e=await O7(t),n=Ar().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:j7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cr(t,"network-request-failed"),a=Ar().setTimeout(()=>{s(o)},D7.get());function l(){Ar().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z7=500,B7=600,W7="_blank",H7="http://localhost";class Rx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K7(t,e,n,r=z7,i=B7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$7),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Yt().toLowerCase();n&&(a=FR(c)?W7:n),LR(c)&&(e=e||H7,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(A$(c)&&a!=="_self")return q7(e||"",a),new Rx(null);const f=window.open(e||"",a,d);ve(f,t,"popup-blocked");try{f.focus()}catch{}return new Rx(f)}function q7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="__/auth/handler",Q7="emulator/auth/handler",Z7=encodeURIComponent("fac");async function Px(t,e,n,r,i,s){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof qR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof kc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Z7}=${encodeURIComponent(l)}`:"";return`${Y7(t)}?${wc(a).slice(1)}${c}`}function Y7({config:t}){return t.emulator?B0(t,Q7):`https://${t.authDomain}/${G7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class X7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XR,this._completeRedirectFn=x7,this._overrideRedirectResult=_7}async _openPopup(e,n,r,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Px(e,n,r,wy(),i);return K7(e,o,Q0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Px(e,n,r,wy(),i);return t7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U7(e),r=new S7(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Nm];o!==void 0&&n(!!o),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BR()||VR()||K0()}}const J7=X7;var Nx="@firebase/auth",Ox="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nz(t){Pr(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WR(t)},c=new D$(r,i,s,l);return U$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new lr("auth-internal",e=>{const n=q0(e.getProvider("auth").getImmediate());return(r=>new ez(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Nx,Ox,tz(t)),Un(Nx,Ox,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=5*60,iz=zA("authIdTokenMaxAge")||rz;let Dx=null;const sz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iz)return;const i=n==null?void 0:n.token;Dx!==i&&(Dx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oz(t=i0()){const e=wo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j$(t,{popupRedirectResolver:J7,persistence:[c7,X$,XR]}),r=zA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sz(s.toString());Q$(n,o,()=>o(n.currentUser)),G$(n,a=>o(a))}}const i=UA("auth");return i&&$$(n,`http://${i}`),n}function az(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",az().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nz("Browser");const s2="@firebase/installations",Y0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1e4,a2=`w:${Y0}`,l2="FIS_v2",lz="https://firebaseinstallations.googleapis.com/v1",uz=60*60*1e3,cz="installations",dz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ao=new _o(cz,dz,fz);function u2(t){return t instanceof dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2({projectId:t}){return`${lz}/projects/${t}/installations`}function d2(t){return{token:t.token,requestStatus:2,expiresIn:pz(t.expiresIn),creationTime:Date.now()}}async function f2(t,e){const r=(await e.json()).error;return ao.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function h2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hz(t,{refreshToken:e}){const n=h2(t);return n.append("Authorization",mz(e)),n}async function p2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pz(t){return Number(t.replace("s","000"))}function mz(t){return`${l2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=c2(t),i=h2(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:l2,appId:t.appId,sdkVersion:a2},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await p2(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:d2(c.authToken)}}else throw await f2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=/^[cdef][\w-]{21}$/,Ty="";function _z(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wz(t);return vz.test(n)?n:Ty}catch{return Ty}}function wz(t){return yz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Map;function y2(t,e){const n=hp(t);v2(n,e),Ez(n,e)}function v2(t,e){const n=g2.get(t);if(n)for(const r of n)r(e)}function Ez(t,e){const n=xz();n&&n.postMessage({key:t,fid:e}),Tz()}let Vs=null;function xz(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=t=>{v2(t.data.key,t.data.fid)}),Vs}function Tz(){g2.size===0&&Vs&&(Vs.close(),Vs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="firebase-installations-database",bz=1,lo="firebase-installations-store";let Om=null;function X0(){return Om||(Om=GA(Sz,bz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lo)}}})),Om}async function th(t,e){const n=hp(t),i=(await X0()).transaction(lo,"readwrite"),s=i.objectStore(lo),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&y2(t,e.fid),e}async function _2(t){const e=hp(t),r=(await X0()).transaction(lo,"readwrite");await r.objectStore(lo).delete(e),await r.done}async function pp(t,e){const n=hp(t),i=(await X0()).transaction(lo,"readwrite"),s=i.objectStore(lo),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&y2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(t){let e;const n=await pp(t.appConfig,r=>{const i=Iz(r),s=Cz(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ty?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Iz(t){const e=t||{fid:_z(),registrationStatus:0};return w2(e)}function Cz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ao.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Az(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:kz(t)}:{installationEntry:e}}async function Az(t,e){try{const n=await gz(t,e);return th(t.appConfig,n)}catch(n){throw u2(n)&&n.customData.serverCode===409?await _2(t.appConfig):await th(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function kz(t){let e=await Mx(t.appConfig);for(;e.registrationStatus===1;)await m2(100),e=await Mx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await J0(t);return r||n}return e}function Mx(t){return pp(t,e=>{if(!e)throw ao.create("installation-not-found");return w2(e)})}function w2(t){return Rz(t)?{fid:t.fid,registrationStatus:0}:t}function Rz(t){return t.registrationStatus===1&&t.registrationTime+o2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz({appConfig:t,heartbeatServiceProvider:e},n){const r=Nz(t,n),i=hz(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:a2,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await p2(()=>fetch(r,a));if(l.ok){const c=await l.json();return d2(c)}else throw await f2("Generate Auth Token",l)}function Nz(t,{fid:e}){return`${c2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(t,e=!1){let n;const r=await pp(t.appConfig,s=>{if(!E2(s))throw ao.create("not-registered");const o=s.authToken;if(!e&&Mz(o))return s;if(o.requestStatus===1)return n=Oz(t,e),s;{if(!navigator.onLine)throw ao.create("app-offline");const a=Vz(s);return n=Dz(t,a),a}});return n?await n:r.authToken}async function Oz(t,e){let n=await Lx(t.appConfig);for(;n.authToken.requestStatus===1;)await m2(100),n=await Lx(t.appConfig);const r=n.authToken;return r.requestStatus===0?e_(t,e):r}function Lx(t){return pp(t,e=>{if(!E2(e))throw ao.create("not-registered");const n=e.authToken;return Fz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Dz(t,e){try{const n=await Pz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await th(t.appConfig,r),n}catch(n){if(u2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await th(t.appConfig,r)}throw n}}function E2(t){return t!==void 0&&t.registrationStatus===2}function Mz(t){return t.requestStatus===2&&!Lz(t)}function Lz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+uz}function Vz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Fz(t){return t.requestStatus===1&&t.requestTime+o2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t){const e=t,{installationEntry:n,registrationPromise:r}=await J0(e);return r?r.catch(console.error):e_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e=!1){const n=t;return await $z(n),(await e_(n,e)).token}async function $z(t){const{registrationPromise:e}=await J0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){if(!t||!t.options)throw Dm("App Configuration");if(!t.name)throw Dm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Dm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dm(t){return ao.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="installations",Bz="installations-internal",Wz=t=>{const e=t.getProvider("app").getImmediate(),n=zz(e),r=wo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hz=t=>{const e=t.getProvider("app").getImmediate(),n=wo(e,x2).getImmediate();return{getId:()=>jz(n),getToken:i=>Uz(n,i)}};function Kz(){Pr(new lr(x2,Wz,"PUBLIC")),Pr(new lr(Bz,Hz,"PRIVATE"))}Kz();Un(s2,Y0);Un(s2,Y0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="analytics",qz="firebase_id",Gz="origin",Qz=60*1e3,Zz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",t_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new Gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new _o("analytics","Analytics",Yz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){if(!t.startsWith(t_)){const e=kn.create("invalid-gtag-resource",{gtagURL:t});return _n.warn(e.message),""}return t}function T2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Jz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eB(t,e){const n=Jz("firebase-js-sdk-policy",{createScriptURL:Xz}),r=document.createElement("script"),i=`${t_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function tB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nB(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await T2(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){_n.error(a)}t("config",i,s)}async function rB(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await T2(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){_n.error(s)}}function iB(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await rB(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await nB(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){_n.error(a)}}return i}function sB(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=iB(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function oB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(t_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=30,lB=1e3;class uB{constructor(e={},n=lB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const S2=new uB;function cB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dB(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:cB(r)},s=Zz.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function fB(t,e=S2,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mB;return setTimeout(async()=>{a.abort()},Qz),b2({appId:r,apiKey:i,measurementId:s},o,a,e)}async function b2(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=S2){var s;const{appId:o,measurementId:a}=t;try{await hB(r,e)}catch(l){if(a)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await dB(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!pB(c)){if(i.deleteThrottleMetadata(o),a)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?TE(n,i.intervalMillis,aB):TE(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),_n.debug(`Calling attemptFetch again in ${d} millis`),b2(t,f,r,i)}}function hB(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pB(t){if(!(t instanceof dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gB(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(){if(WA())try{await HA()}catch(t){return _n.warn(kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _n.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vB(t,e,n,r,i,s,o){var a;const l=fB(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>_n.error(g)),e.push(l);const c=yB().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);oB(s)||eB(s,d.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[Gz]="firebase",p.update=!0,f!=null&&(p[qz]=f),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.app=e}_delete(){return delete cu[this.app.options.appId],Promise.resolve()}}let cu={},Vx=[];const Fx={};let Mm="dataLayer",wB="gtag",jx,I2,Ux=!1;function EB(){const t=[];if(BA()&&t.push("This is a browser extension environment."),zF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function xB(t,e,n){EB();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(cu[r]!=null)throw kn.create("already-exists",{id:r});if(!Ux){tB(Mm);const{wrappedGtag:s,gtagCore:o}=sB(cu,Vx,Fx,Mm,wB);I2=s,jx=o,Ux=!0}return cu[r]=vB(t,Vx,Fx,e,jx,Mm,n),new _B(t)}function TB(t=i0()){t=Ft(t);const e=wo(t,nh);return e.isInitialized()?e.getImmediate():SB(t)}function SB(t,e={}){const n=wo(t,nh);if(n.isInitialized()){const i=n.getImmediate();if(Fu(e,n.getOptions()))return i;throw kn.create("already-initialized")}return n.initialize({options:e})}function bB(t,e,n,r){t=Ft(t),gB(I2,cu[t.app.options.appId],e,n,r).catch(i=>_n.error(i))}const $x="@firebase/analytics",zx="0.10.8";function IB(){Pr(new lr(nh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return xB(r,i,n)},"PUBLIC")),Pr(new lr("analytics-internal",t,"PRIVATE")),Un($x,zx),Un($x,zx,"esm2017");function t(e){try{const n=e.getProvider(nh).getImmediate();return{logEvent:(r,i,s)=>bB(n,r,i,s)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}IB();const CB={apiKey:"AIzaSyDQ1AaF0akvP-Q_Lu1xM_Eh0WWiiYVbJXw",authDomain:"vincentkovsky.firebaseapp.com",projectId:"vincentkovsky",storageBucket:"vincentkovsky.firebasestorage.app",messagingSenderId:"773913920947",appId:"1:773913920947:web:d4f51c8c4b81c6fe4577c6"},n_=QA(CB),Gs=HU(n_);oz(n_);typeof window<"u"&&TB(n_);const AB=async()=>{try{let t={ip:"0.0.0.0",country:"Unknown",country_name:"Unknown",city:"Unknown",region:null,region_code:null,loc:"0,0",timezone:null,org:null,postal:null};try{const s=await fetch("https://ipinfo.io/json",{method:"GET",headers:{Accept:"application/json"}});if(s.ok){const o=await s.json();console.log("Successfully fetched location from ipinfo"),t={...t,...o,country_name:o.country||"Unknown"}}else throw new Error(`Geolocation API failed with status: ${s.status}`)}catch(s){console.warn("Error fetching geolocation data, trying alternative API",s);try{const o=await fetch("https://api.ipgeolocation.io/ipgeo?apiKey=API_KEY",{method:"GET",headers:{Accept:"application/json"}});if(o.ok){const a=await o.json();t={...t,...a},console.log("Successfully fetched location from ipgeolocation")}else throw new Error("Alternative API also failed")}catch(o){console.warn("All geolocation APIs failed, using minimal data",o)}}console.log("Geolocation data:",t);const e=`${window.innerWidth}x${window.innerHeight}`,n={ip:t.ip,city:t.city,country:t.country,country_name:t.country_name,region:t.region||null,region_code:t.region_code||null,latitude:t.loc&&parseFloat(t.loc.split(",")[0])||0,longitude:t.loc&&parseFloat(t.loc.split(",")[1])||0,timezone:t.timezone||null,org:t.org||null,postal:t.postal||null,userAgent:navigator.userAgent,referrer:document.referrer||"",screenSize:e,timestamp:new Date().toISOString(),visitCount:1,lastVisit:new Date().toISOString()};let r=!1,i=null;try{const s=vR(lu(Gs,"visitors"),n$("ip","==",t.ip),_R(1)),o=await bR(s);if(o.empty)r=!0,i=(await _y(lu(Gs,"visitors"),n)).id;else{const a=o.docs[0];i=a.id;const c=(a.data().visitCount||0)+1;await IR(a.ref,{visitCount:c,lastVisit:new Date().toISOString()})}return await Bx(n),{...n,id:i}}catch(s){console.warn("Firestore error when recording visitor",s);try{const o=await _y(lu(Gs,"visitors"),n);return await Bx(n),{...n,id:o.id}}catch(o){return console.error("Failed to add visitor to Firestore",o),n}}}catch(t){return console.error("Error recording visitor location:",t),{ip:"0.0.0.0",country:"Unknown",country_name:"Unknown",city:"Unknown",timestamp:new Date().toISOString()}}};async function Bx(t){try{const e=A0(Gs,"statistics","visitorStats"),n=await TR(e),r=t.city||"Unknown",i=t.country_name||t.country||"Unknown",s=`${r}, ${i}`;if(n.exists()){const o=n.data(),l=(o.cities||{})[s]||0,d=(o.countries||{})[i]||0,f={lastUpdated:new Date().toISOString()};f[`cities.${s}`]=l+1,f[`countries.${i}`]=d+1,f.totalVisitors=(o.totalVisitors||0)+1,await IR(e,f)}else await a$(e,{cities:{[s]:1},countries:{[i]:1},totalVisitors:1,lastUpdated:new Date().toISOString()});return!0}catch(e){return console.error("Error updating visitor statistics:",e),!1}}const Wx=async()=>{try{const t=A0(Gs,"statistics","visitorStats"),e=await TR(t);let n=0,r=[],i=[],s;if(e.exists()){const c=e.data();n=c.totalVisitors||0,s=c.lastUpdated,c.countries&&(r=Object.entries(c.countries).map(([d,f])=>({country:d,count:f})).sort((d,f)=>f.count-d.count).slice(0,5)),c.cities&&(i=Object.entries(c.cities).map(([d,f])=>({city:d,count:f})).sort((d,f)=>f.count-d.count).slice(0,5))}const o=vR(lu(Gs,"visitors"),r$("timestamp","desc"),_R(20)),a=await bR(o),l=[];return a.forEach(c=>{const d=c.data();l.push({id:c.id,city:d.city,country:d.country_name||d.country,latitude:d.latitude,longitude:d.longitude,timestamp:new Date(d.timestamp)})}),{totalVisitors:n,topCountries:r,topCities:i,recentVisitors:l,lastUpdated:s}}catch(t){throw console.error("Error getting visitor stats:",t),t}};async function kB(t){try{console.log("开始提交联系表单数据...",t);const e={...t,createdAt:yt.now(),status:"unread"};console.log("准备提交数据到 Firestore:",e);const n=await _y(lu(Gs,"contactMessages"),e);return console.log("消息提交成功，ID:",n.id),{success:!0,id:n.id}}catch(e){throw console.error("提交消息时出错:",e),e instanceof Error&&(console.error("错误类型:",e.name),console.error("错误消息:",e.message),console.error("错误堆栈:",e.stack)),new Error(`提交消息失败: ${e instanceof Error?e.message:"未知错误"}`)}}function RB(){const[t,e]=b.useState(!0),[n,r]=b.useState(null),[i,s]=b.useState(null),[o,a]=b.useState(null),[l,c]=b.useState(!1),d=b.useRef(null),f=b.useRef(null),p=b.useRef(null),[g,_]=b.useState(!1),{t:v}=vi(),I=["bg-primary","bg-blue-500","bg-yellow-500","bg-green-500","bg-purple-500"],x=async()=>{try{const T=await AB();if(T)return a({city:T.city||void 0,country:T.country||void 0,country_name:T.country_name||void 0,ip:T.ip||void 0,region:T.region||void 0,latitude:typeof T.latitude=="number"?T.latitude:void 0,longitude:typeof T.longitude=="number"?T.longitude:void 0}),T.latitude&&T.longitude&&i&&s(E=>{if(!E)return E;const S=[...E.recentVisitors];return S.some(R=>R.id==="current")||S.unshift({id:"current",country:T.country_name||T.country||"Unknown",city:T.city||"Unknown",latitude:Number(T.latitude),longitude:Number(T.longitude),timestamp:new Date}),{...E,recentVisitors:S}}),T}catch(T){return console.error("Failed to record visitor:",T),null}};b.useEffect(()=>{(async()=>{try{try{const S=await Wx();S?s(S):r("No visitor data available")}catch(S){console.error("Error fetching visitor stats:",S),r("Could not load visitor statistics")}l||await x()&&(console.log("Successfully recorded visitor"),c(!0))}catch(S){console.error("Error in visitor stats component:",S),r("Could not initialize visitor statistics")}finally{e(!1)}})();const E=setInterval(async()=>{try{const S=await Wx();S&&s(S)}catch(S){console.warn("Failed to refresh stats:",S)}},5*60*1e3);return()=>{clearInterval(E)}},[l]);const y=(T,E,S)=>new Promise((R,O)=>{if(document.querySelector(`script[src="${T}"]`)){R();return}const N=document.createElement("script");N.src=T,N.onload=()=>R(),N.onerror=A=>O(A),document.head.appendChild(N)}),C=(T,E,S)=>new Promise(R=>{if(document.querySelector(`link[href="${T}"]`)){R();return}const O=document.createElement("link");O.rel="stylesheet",O.href=T,O.onload=()=>R(),document.head.appendChild(O)});b.useEffect(()=>g||t||!i||!d.current||typeof window>"u"?void 0:(d.current&&(d.current.style.height="250px",d.current.style.width="100%"),(async()=>{try{console.log("Initializing map..."),await C("https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"),await y("https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"),await y("https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"),await new Promise(S=>setTimeout(S,500));const E=window.L;if(!E)throw new Error("Leaflet failed to load");if(console.log("Leaflet loaded, initializing map"),f.current&&(f.current.remove(),f.current=null),d.current&&d.current._leaflet_id&&(console.log("Container already has a map instance, cleaning up..."),d.current._leaflet_id=null),await new Promise(S=>setTimeout(S,300)),d.current){const S=d.current.offsetHeight,R=d.current.offsetWidth;if(console.log(`Map container dimensions: ${R}x${S}`),S===0||R===0){console.warn("Map container has zero dimensions, delaying initialization..."),setTimeout(()=>{_(!1)},500);return}}if(d.current){console.log("Creating map at container:",d.current);try{d.current.id=`map-container-${Date.now()}`,typeof E.map.closePopup=="function"&&E.map.closePopup();try{f.current=E.map(d.current,{zoomControl:!1,attributionControl:!1,uniqueId:Date.now().toString()}),E.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:"abcd",maxZoom:19,className:"map-tiles-dark"}).addTo(f.current)}catch(S){console.error("Error creating map:",S),setTimeout(()=>{_(!1)},1e3);return}if(await new Promise(S=>setTimeout(S,300)),!f.current||!f.current._container){console.error("Map instance is not properly initialized"),setTimeout(()=>{_(!1)},1e3);return}try{f.current.invalidateSize(!0),f.current.setView([20,0],2)}catch(S){console.error("Error updating map size:",S),setTimeout(()=>{_(!1)},1e3);return}if(i.recentVisitors&&i.recentVisitors.length>0){const S=i.recentVisitors.filter(A=>A.latitude&&A.longitude).map(A=>[A.latitude,A.longitude,.5]);if(S.length>0&&E.heatLayer&&f.current)try{p.current=E.heatLayer(S,{radius:15,blur:15,maxZoom:10,gradient:{.1:"#4ADE80",.3:"#22C55E",.5:"#16A34A",.7:"#15803D",1:"#14532D"}}).addTo(f.current)}catch(A){console.error("Error adding heat layer:",A)}i.topCities.slice(0,5).forEach((A,W)=>{try{const se=i.recentVisitors.find($=>$.city&&$.city.includes(A.city.split(",")[0]));let X;if(se)X=[se.latitude,se.longitude];else if(i.recentVisitors.length>0){const $=i.recentVisitors[Math.floor(Math.random()*i.recentVisitors.length)];X=[$.latitude,$.longitude]}else X=[20,W*30-60];const ue=I[W%I.length],j=P(ue);f.current&&E.circleMarker(X,{radius:5,color:j,fillColor:j,fillOpacity:.8,className:"animate-pulse-slow"}).addTo(f.current).bindTooltip(`<div style="padding: 6px 10px; background-color: rgba(30, 41, 59, 0.95); border: 1px solid ${j}; border-radius: 4px; color: #E2E8F0; font-size: 0.85rem;">
                        <strong>${A.city}</strong><br/>
                        Visitors: ${A.count}
                      </div>`,{className:"custom-tooltip"})}catch(se){console.error("Error adding city marker:",se)}});let R=0,O=0,N=!1;if(o&&o.latitude&&o.longitude?(R=o.latitude,O=o.longitude,N=!0):i.recentVisitors[0]&&i.recentVisitors[0].latitude&&i.recentVisitors[0].longitude&&(R=i.recentVisitors[0].latitude,O=i.recentVisitors[0].longitude,N=!0),N)try{const A=document.createElement("style");A.textContent=`
                    .your-location-marker {
                      position: relative;
                    }
                    .pulse-ring {
                      position: absolute;
                      width: 30px;
                      height: 30px;
                      border-radius: 50%;
                      background: rgba(255, 71, 87, 0.3);
                      top: 1px;
                      left: 1px;
                      animation: pulse 2s infinite;
                    }
                    @keyframes pulse {
                      0% {
                        transform: scale(1);
                        opacity: 1;
                      }
                      70% {
                        transform: scale(2);
                        opacity: 0;
                      }
                      100% {
                        transform: scale(1);
                        opacity: 0;
                      }
                    }
                    .your-location-tooltip {
                      background-color: #ff4757;
                      color: white;
                      border: none;
                      border-radius: 4px;
                      padding: 5px 10px;
                      font-weight: bold;
                      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                    }
                  `,document.head.appendChild(A);const W=E.divIcon({html:`<div class="your-location-marker">
                      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ff4757" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="3"></circle>
                      </svg>
                      <div class="pulse-ring"></div>
                    </div>`,className:"custom-div-icon",iconSize:[32,32],iconAnchor:[16,16]});setTimeout(()=>{if(f.current)try{E.marker([R,O],{icon:W}).addTo(f.current).bindTooltip("Your Location",{permanent:!0,direction:"top",offset:[0,-20],className:"your-location-tooltip"}),f.current.invalidateSize(!0),f.current.setView([R,O],5,{animate:!1})}catch(se){console.error("Error adding marker or updating map:",se)}},300)}catch(A){console.error("Error setting up user location:",A)}}setTimeout(()=>{f.current&&f.current._container?(console.log("Map successfully initialized"),_(!0)):(console.warn("Map initialization failed or was interrupted"),_(!1))},500)}catch(S){console.error("Error creating map instance:",S),r("Failed to create map: "+S.message)}}}catch(E){console.error("Error initializing map:",E),r("Could not initialize map: "+E.message)}})(),()=>{if(f.current){console.log("Cleaning up map instance");try{f.current.off(),f.current.eachLayer(E=>{f.current.removeLayer(E)}),f.current.remove(),f.current=null,_(!1)}catch(E){console.error("Error during map cleanup:",E)}}}),[t,i,o]);const P=T=>{switch(T){case"bg-primary":return"#48BB78";case"bg-blue-500":return"#3B82F6";case"bg-yellow-500":return"#EAB308";case"bg-green-500":return"#22C55E";case"bg-purple-500":return"#A855F7";default:return"#48BB78"}},D=T=>!i||i.totalVisitors===0?0:(T/i.totalVisitors*100).toFixed(1),L=T=>(T.includes(",")&&T.split(",").map(S=>S.trim()).length>=2,T);return w.jsxs("div",{className:"bg-card rounded-xl p-6 border border-border card-hover-effect",children:[w.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6 h-64 flex items-center justify-center relative overflow-hidden hover-glow",children:[t?w.jsx("img",{src:"https://images.unsplash.com/photo-1519302959554-a75be0afc82a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=300",alt:"Interactive world map showing visitor statistics",className:"w-full h-full object-cover rounded opacity-80 transition-opacity duration-300 hover:opacity-100"}):w.jsx("div",{ref:d,className:"w-full h-full rounded-lg overflow-hidden",style:{minHeight:"250px",display:"block"}}),t&&w.jsxs("div",{className:"absolute inset-0",children:[w.jsx("div",{className:"absolute top-16 left-20 w-3 h-3 bg-primary rounded-full animate-pulse hover:scale-150 transition-transform duration-300"}),w.jsx("div",{className:"absolute top-24 left-32 w-3 h-3 bg-blue-500 rounded-full animate-pulse hover:scale-150 transition-transform duration-300",style:{animationDelay:"0.5s"}}),w.jsx("div",{className:"absolute top-20 right-24 w-3 h-3 bg-yellow-500 rounded-full animate-pulse hover:scale-150 transition-transform duration-300",style:{animationDelay:"1s"}})]}),t&&w.jsx("div",{className:"absolute inset-0 bg-background/50 flex justify-center items-center",children:w.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"})}),n&&!t&&w.jsxs("div",{className:"absolute inset-0 bg-background/70 flex flex-col justify-center items-center text-center p-4",children:[w.jsx("div",{className:"text-red-500 mb-2",children:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto mb-2",children:[w.jsx("circle",{cx:"12",cy:"12",r:"10"}),w.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),w.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),w.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})]}),w.jsxs("div",{className:"flex justify-between items-center mb-5",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:w.jsx(tM,{className:"w-4 h-4 text-primary"})}),w.jsxs("div",{children:[w.jsx("h5",{className:"text-sm font-medium",children:v("visitor_stats.total_visits")}),w.jsx("p",{className:"text-lg font-bold text-gradient",children:(i==null?void 0:i.totalVisitors)||0})]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:w.jsx(H4,{className:"w-4 h-4 text-primary"})}),w.jsxs("div",{children:[w.jsx("h5",{className:"text-sm font-medium",children:v("visitor_stats.your_ip")}),w.jsx("p",{className:"text-sm font-mono text-gradient",children:(o==null?void 0:o.ip)||"Unknown"})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h4",{className:"text-lg font-semibold mb-4 text-gradient",children:v("visitor_stats.top_locations")}),w.jsx("div",{className:"space-y-3",children:i&&i.topCities.length>0?i.topCities.slice(0,3).map((T,E)=>w.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-secondary/50 hover:bg-secondary transition-all duration-300 hover-glow animate-fade-in-up",style:{animationDelay:`${E*100}ms`},children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`w-3 h-3 ${I[E%I.length]} rounded-full animate-pulse-slow`}),w.jsx("span",{className:"text-sm font-medium",children:L(T.city)})]}),w.jsxs("span",{className:"text-gradient font-mono font-bold text-sm",children:[D(T.count),"%"]})]},T.city)):[{location:"Singapore, Singapore",percentage:"0%",color:"bg-primary"},{location:"Hyderabad, India",percentage:"0%",color:"bg-blue-500"},{location:"Tokyo, Japan",percentage:"0%",color:"bg-yellow-500"}].map((T,E)=>w.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-secondary/50 hover:bg-secondary transition-all duration-300 hover-glow animate-fade-in-up",style:{animationDelay:`${E*100}ms`},children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`w-3 h-3 ${T.color} rounded-full animate-pulse-slow`}),w.jsx("span",{className:"text-sm font-medium",children:T.location})]}),w.jsx("span",{className:"text-gradient font-mono font-bold text-sm",children:T.percentage})]},T.location))})]}),w.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[w.jsxs("p",{className:"text-muted-foreground text-sm flex items-center hover:text-primary transition-colors duration-300",children:[w.jsx(CI,{className:"mr-2 text-primary w-4 h-4 animate-pulse-slow"}),v("visitor_stats.based_in"),":"," ",w.jsx("span",{className:"text-gradient ml-1 font-semibold",children:o!=null&&o.city&&(o!=null&&o.country_name)?`${o.city}, ${o.country_name}`:o!=null&&o.city&&(o!=null&&o.country)?`${o.city}, ${o.country}`:v("visitor_stats.unknown_location")})]}),(i==null?void 0:i.lastUpdated)&&w.jsxs("p",{className:"text-xs text-muted-foreground mt-2 opacity-60",children:[v("visitor_stats.last_updated"),": ",new Date(i.lastUpdated).toLocaleString()]}),n&&w.jsx("p",{className:"text-xs text-muted-foreground mt-2 opacity-60",children:n})]})]})}function PB(){const{t}=vi();return w.jsx("section",{id:"experience",className:"py-20 px-6",children:w.jsx("div",{className:"max-w-6xl mx-auto",children:w.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-3xl font-bold mb-8 text-gradient flex items-center",children:[w.jsx(K4,{className:"mr-3"}),t("experience.title")]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"flex items-start space-x-4 animate-fade-in-up",style:{animationDelay:"0ms"},children:[w.jsx("div",{className:"flex-shrink-0 w-4 h-4 bg-gradient-to-r from-primary to-blue-500 rounded-full mt-2 relative animate-pulse-slow",children:w.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-0.5 h-16 bg-gradient-to-b from-primary to-border"})}),w.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border flex-1 hover:border-primary transition-all duration-300 card-hover-effect",children:[w.jsx("h3",{className:"text-xl font-bold text-gradient",children:t("experience.jobs.fullstack_uts.title")}),w.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:t("experience.jobs.fullstack_uts.company")}),w.jsx("p",{className:"text-sm text-primary/80 mb-3 font-mono",children:t("experience.jobs.fullstack_uts.period")}),w.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t("experience.jobs.fullstack_uts.description")})]})]}),w.jsxs("div",{className:"flex items-start space-x-4 animate-fade-in-up",style:{animationDelay:"200ms"},children:[w.jsx("div",{className:"flex-shrink-0 w-4 h-4 bg-gradient-to-r from-primary to-blue-500 rounded-full mt-2 relative animate-pulse-slow"}),w.jsxs("div",{className:"bg-card rounded-lg p-6 border border-border flex-1 hover:border-primary transition-all duration-300 card-hover-effect",children:[w.jsx("h3",{className:"text-xl font-bold text-gradient",children:t("experience.jobs.fullstack_h2x.title")}),w.jsx("p",{className:"text-muted-foreground font-medium mb-2",children:t("experience.jobs.fullstack_h2x.company")}),w.jsx("p",{className:"text-sm text-primary/80 mb-3 font-mono",children:t("experience.jobs.fullstack_h2x.period")}),w.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t("experience.jobs.fullstack_h2x.description")})]})]})]})]}),w.jsxs("div",{children:[w.jsxs("h2",{className:"text-3xl font-bold mb-8 text-gradient flex items-center",children:[w.jsx(bI,{className:"mr-3"}),t("experience.visitor")]}),w.jsx(RB,{})]})]})})})}var Pc=t=>t.type==="checkbox",Fs=t=>t instanceof Date,rn=t=>t==null;const C2=t=>typeof t=="object";var dt=t=>!rn(t)&&!Array.isArray(t)&&C2(t)&&!Fs(t),NB=t=>dt(t)&&t.target?Pc(t.target)?t.target.checked:t.target.value:t,OB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DB=(t,e)=>t.has(OB(e)),MB=t=>{const e=t.constructor&&t.constructor.prototype;return dt(e)&&e.hasOwnProperty("isPrototypeOf")},r_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(r_&&(t instanceof Blob||r))&&(n||dt(t)))if(e=n?[]:{},!n&&!MB(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ht(t[i]));else return t;return e}var mp=t=>Array.isArray(t)?t.filter(Boolean):[],pt=t=>t===void 0,le=(t,e,n)=>{if(!e||!dt(t))return n;const r=mp(e.split(/[,[\].]+?/)).reduce((i,s)=>rn(i)?i:i[s],t);return pt(r)||r===t?pt(t[e])?n:t[e]:r},pr=t=>typeof t=="boolean",i_=t=>/^\w*$/.test(t),A2=t=>mp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,n)=>{let r=-1;const i=i_(e)?[e]:A2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=dt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Hx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};$e.createContext(null);var LB=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Xn.all&&(e._proxyFormState[o]=!r||Xn.all),t[o]}});return i},Er=t=>typeof t=="string",VB=(t,e,n,r,i)=>Er(t)?(r&&e.watch.add(t),le(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),le(n,s))):(r&&(e.watchAll=!0),n),k2=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},du=t=>Array.isArray(t)?t:[t],Kx=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Sy=t=>rn(t)||!C2(t);function Li(t,e){if(Sy(t)||Sy(e))return t===e;if(Fs(t)&&Fs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Fs(s)&&Fs(o)||dt(s)&&dt(o)||Array.isArray(s)&&Array.isArray(o)?!Li(s,o):s!==o)return!1}}return!0}var tn=t=>dt(t)&&!Object.keys(t).length,s_=t=>t.type==="file",Jn=t=>typeof t=="function",rh=t=>{if(!r_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},R2=t=>t.type==="select-multiple",o_=t=>t.type==="radio",FB=t=>o_(t)||Pc(t),Lm=t=>rh(t)&&t.isConnected;function jB(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=pt(t)?r++:t[e[r++]];return t}function UB(t){for(const e in t)if(t.hasOwnProperty(e)&&!pt(t[e]))return!1;return!0}function _t(t,e){const n=Array.isArray(e)?e:i_(e)?[e]:A2(e),r=n.length===1?t:jB(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(dt(r)&&tn(r)||Array.isArray(r)&&UB(r))&&_t(t,n.slice(0,-1)),t}var P2=t=>{for(const e in t)if(Jn(t[e]))return!0;return!1};function ih(t,e={}){const n=Array.isArray(t);if(dt(t)||n)for(const r in t)Array.isArray(t[r])||dt(t[r])&&!P2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},ih(t[r],e[r])):rn(t[r])||(e[r]=!0);return e}function N2(t,e,n){const r=Array.isArray(t);if(dt(t)||r)for(const i in t)Array.isArray(t[i])||dt(t[i])&&!P2(t[i])?pt(e)||Sy(n[i])?n[i]=Array.isArray(t[i])?ih(t[i],[]):{...ih(t[i])}:N2(t[i],rn(e)?{}:e[i],n[i]):n[i]=!Li(t[i],e[i]);return n}var Dl=(t,e)=>N2(t,e,ih(e));const qx={value:!1,isValid:!1},Gx={value:!0,isValid:!0};var O2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pt(t[0].attributes.value)?pt(t[0].value)||t[0].value===""?Gx:{value:t[0].value,isValid:!0}:Gx:qx}return qx},D2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>pt(t)?t:e?t===""?NaN:t&&+t:n&&Er(t)?new Date(t):r?r(t):t;const Qx={isValid:!1,value:null};var M2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Qx):Qx;function Zx(t){const e=t.ref;return s_(e)?e.files:o_(e)?M2(t.refs).value:R2(e)?[...e.selectedOptions].map(({value:n})=>n):Pc(e)?O2(t.refs).value:D2(pt(e.value)?t.ref.value:e.value,t)}var $B=(t,e,n,r)=>{const i={};for(const s of t){const o=le(e,s);o&&je(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},sh=t=>t instanceof RegExp,Ml=t=>pt(t)?t:sh(t)?t.source:dt(t)?sh(t.value)?t.value.source:t.value:t,Yx=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched});const Xx="AsyncFunction";var zB=t=>!!t&&!!t.validate&&!!(Jn(t.validate)&&t.validate.constructor.name===Xx||dt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Xx)),BB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const fu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=le(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(fu(a,e))break}else if(dt(a)&&fu(a,e))break}}};function eT(t,e,n){const r=le(t,n);if(r||i_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=le(e,s),a=le(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var WB=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return tn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Xn.all))},HB=(t,e,n)=>!t||!e||t===e||du(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),KB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,qB=(t,e)=>!mp(le(t,e)).length&&_t(t,e),GB=(t,e,n)=>{const r=du(le(t,n));return je(r,"root",e[n]),je(t,n,r),t},nf=t=>Er(t);function tT(t,e,n="validate"){if(nf(t)||Array.isArray(t)&&t.every(nf)||pr(t)&&!t)return{type:n,message:nf(t)?t:"",ref:e}}var Fo=t=>dt(t)&&!sh(t)?t:{value:t,message:""},nT=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:d,min:f,max:p,pattern:g,validate:_,name:v,valueAsNumber:I,mount:x}=t._f,y=le(n,v);if(!x||e.has(v))return{};const C=a?a[0]:o,P=N=>{i&&C.reportValidity&&(C.setCustomValidity(pr(N)?"":N||""),C.reportValidity())},D={},L=o_(o),T=Pc(o),E=L||T,S=(I||s_(o))&&pt(o.value)&&pt(y)||rh(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,R=k2.bind(null,v,r,D),O=(N,A,W,se=Wr.maxLength,X=Wr.minLength)=>{const ue=N?A:W;D[v]={type:N?se:X,message:ue,ref:o,...R(N?se:X,ue)}};if(s?!Array.isArray(y)||!y.length:l&&(!E&&(S||rn(y))||pr(y)&&!y||T&&!O2(a).isValid||L&&!M2(a).isValid)){const{value:N,message:A}=nf(l)?{value:!!l,message:l}:Fo(l);if(N&&(D[v]={type:Wr.required,message:A,ref:C,...R(Wr.required,A)},!r))return P(A),D}if(!S&&(!rn(f)||!rn(p))){let N,A;const W=Fo(p),se=Fo(f);if(!rn(y)&&!isNaN(y)){const X=o.valueAsNumber||y&&+y;rn(W.value)||(N=X>W.value),rn(se.value)||(A=X<se.value)}else{const X=o.valueAsDate||new Date(y),ue=J=>new Date(new Date().toDateString()+" "+J),j=o.type=="time",$=o.type=="week";Er(W.value)&&y&&(N=j?ue(y)>ue(W.value):$?y>W.value:X>new Date(W.value)),Er(se.value)&&y&&(A=j?ue(y)<ue(se.value):$?y<se.value:X<new Date(se.value))}if((N||A)&&(O(!!N,W.message,se.message,Wr.max,Wr.min),!r))return P(D[v].message),D}if((c||d)&&!S&&(Er(y)||s&&Array.isArray(y))){const N=Fo(c),A=Fo(d),W=!rn(N.value)&&y.length>+N.value,se=!rn(A.value)&&y.length<+A.value;if((W||se)&&(O(W,N.message,A.message),!r))return P(D[v].message),D}if(g&&!S&&Er(y)){const{value:N,message:A}=Fo(g);if(sh(N)&&!y.match(N)&&(D[v]={type:Wr.pattern,message:A,ref:o,...R(Wr.pattern,A)},!r))return P(A),D}if(_){if(Jn(_)){const N=await _(y,n),A=tT(N,C);if(A&&(D[v]={...A,...R(Wr.validate,A.message)},!r))return P(A.message),D}else if(dt(_)){let N={};for(const A in _){if(!tn(N)&&!r)break;const W=tT(await _[A](y,n),C,A);W&&(N={...W,...R(A,W.message)},P(W.message),r&&(D[v]=N))}if(!tn(N)&&(D[v]={ref:C,...N},!r))return D}}return P(!0),D};const QB={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function ZB(t={}){let e={...QB,...t},n={submitCount:0,isDirty:!1,isLoading:Jn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=dt(e.defaultValues)||dt(e.values)?Ht(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Ht(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:Kx(),state:Kx()},g=Yx(e.mode),_=Yx(e.reValidateMode),v=e.criteriaMode===Xn.all,I=M=>F=>{clearTimeout(c),c=setTimeout(M,F)},x=async M=>{if(!e.disabled&&(d.isValid||f.isValid||M)){const F=e.resolver?tn((await S()).errors):await O(r,!0);F!==n.isValid&&p.state.next({isValid:F})}},y=(M,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(a.mount)).forEach(B=>{B&&(F?je(n.validatingFields,B,F):_t(n.validatingFields,B))}),p.state.next({validatingFields:n.validatingFields,isValidating:!tn(n.validatingFields)}))},C=(M,F=[],B,te,Q=!0,K=!0)=>{if(te&&B&&!e.disabled){if(o.action=!0,K&&Array.isArray(le(r,M))){const oe=B(le(r,M),te.argA,te.argB);Q&&je(r,M,oe)}if(K&&Array.isArray(le(n.errors,M))){const oe=B(le(n.errors,M),te.argA,te.argB);Q&&je(n.errors,M,oe),qB(n.errors,M)}if((d.touchedFields||f.touchedFields)&&K&&Array.isArray(le(n.touchedFields,M))){const oe=B(le(n.touchedFields,M),te.argA,te.argB);Q&&je(n.touchedFields,M,oe)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Dl(i,s)),p.state.next({name:M,isDirty:A(M,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else je(s,M,F)},P=(M,F)=>{je(n.errors,M,F),p.state.next({errors:n.errors})},D=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},L=(M,F,B,te)=>{const Q=le(r,M);if(Q){const K=le(s,M,pt(B)?le(i,M):B);pt(K)||te&&te.defaultChecked||F?je(s,M,F?K:Zx(Q._f)):X(M,K),o.mount&&x()}},T=(M,F,B,te,Q)=>{let K=!1,oe=!1;const ke={name:M};if(!e.disabled){if(!B||te){(d.isDirty||f.isDirty)&&(oe=n.isDirty,n.isDirty=ke.isDirty=A(),K=oe!==ke.isDirty);const Ye=Li(le(i,M),F);oe=!!le(n.dirtyFields,M),Ye?_t(n.dirtyFields,M):je(n.dirtyFields,M,!0),ke.dirtyFields=n.dirtyFields,K=K||(d.dirtyFields||f.dirtyFields)&&oe!==!Ye}if(B){const Ye=le(n.touchedFields,M);Ye||(je(n.touchedFields,M,B),ke.touchedFields=n.touchedFields,K=K||(d.touchedFields||f.touchedFields)&&Ye!==B)}K&&Q&&p.state.next(ke)}return K?ke:{}},E=(M,F,B,te)=>{const Q=le(n.errors,M),K=(d.isValid||f.isValid)&&pr(F)&&n.isValid!==F;if(e.delayError&&B?(l=I(()=>P(M,B)),l(e.delayError)):(clearTimeout(c),l=null,B?je(n.errors,M,B):_t(n.errors,M)),(B?!Li(Q,B):Q)||!tn(te)||K){const oe={...te,...K&&pr(F)?{isValid:F}:{},errors:n.errors,name:M};n={...n,...oe},p.state.next(oe)}},S=async M=>{y(M,!0);const F=await e.resolver(s,e.context,$B(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(M),F},R=async M=>{const{errors:F}=await S(M);if(M)for(const B of M){const te=le(F,B);te?je(n.errors,B,te):_t(n.errors,B)}else n.errors=F;return F},O=async(M,F,B={valid:!0})=>{for(const te in M){const Q=M[te];if(Q){const{_f:K,...oe}=Q;if(K){const ke=a.array.has(K.name),Ye=Q._f&&zB(Q._f);Ye&&d.validatingFields&&y([te],!0);const Tt=await nT(Q,a.disabled,s,v,e.shouldUseNativeValidation&&!F,ke);if(Ye&&d.validatingFields&&y([te]),Tt[K.name]&&(B.valid=!1,F))break;!F&&(le(Tt,K.name)?ke?GB(n.errors,Tt,K.name):je(n.errors,K.name,Tt[K.name]):_t(n.errors,K.name))}!tn(oe)&&await O(oe,F,B)}}return B.valid},N=()=>{for(const M of a.unMount){const F=le(r,M);F&&(F._f.refs?F._f.refs.every(B=>!Lm(B)):!Lm(F._f.ref))&&xt(M)}a.unMount=new Set},A=(M,F)=>!e.disabled&&(M&&F&&je(s,M,F),!Li(he(),i)),W=(M,F,B)=>VB(M,a,{...o.mount?s:pt(F)?i:Er(M)?{[M]:F}:F},B,F),se=M=>mp(le(o.mount?s:i,M,e.shouldUnregister?le(i,M,[]):[])),X=(M,F,B={})=>{const te=le(r,M);let Q=F;if(te){const K=te._f;K&&(!K.disabled&&je(s,M,D2(F,K)),Q=rh(K.ref)&&rn(F)?"":F,R2(K.ref)?[...K.ref.options].forEach(oe=>oe.selected=Q.includes(oe.value)):K.refs?Pc(K.ref)?K.refs.length>1?K.refs.forEach(oe=>(!oe.defaultChecked||!oe.disabled)&&(oe.checked=Array.isArray(Q)?!!Q.find(ke=>ke===oe.value):Q===oe.value)):K.refs[0]&&(K.refs[0].checked=!!Q):K.refs.forEach(oe=>oe.checked=oe.value===Q):s_(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||p.state.next({name:M,values:Ht(s)})))}(B.shouldDirty||B.shouldTouch)&&T(M,Q,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&ne(M)},ue=(M,F,B)=>{for(const te in F){const Q=F[te],K=`${M}.${te}`,oe=le(r,K);(a.array.has(M)||dt(Q)||oe&&!oe._f)&&!Fs(Q)?ue(K,Q,B):X(K,Q,B)}},j=(M,F,B={})=>{const te=le(r,M),Q=a.array.has(M),K=Ht(F);je(s,M,K),Q?(p.array.next({name:M,values:Ht(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&p.state.next({name:M,dirtyFields:Dl(i,s),isDirty:A(M,K)})):te&&!te._f&&!rn(K)?ue(M,K,B):X(M,K,B),Jx(M,a)&&p.state.next({...n}),p.state.next({name:o.mount?M:void 0,values:Ht(s)})},$=async M=>{o.mount=!0;const F=M.target;let B=F.name,te=!0;const Q=le(r,B),K=oe=>{te=Number.isNaN(oe)||Fs(oe)&&isNaN(oe.getTime())||Li(oe,le(s,B,oe))};if(Q){let oe,ke;const Ye=F.type?Zx(Q._f):NB(M),Tt=M.type===Hx.BLUR||M.type===Hx.FOCUS_OUT,bs=!BB(Q._f)&&!e.resolver&&!le(n.errors,B)&&!Q._f.deps||KB(Tt,le(n.touchedFields,B),n.isSubmitted,_,g),So=Jx(B,a,Tt);je(s,B,Ye),Tt?(Q._f.onBlur&&Q._f.onBlur(M),l&&l(0)):Q._f.onChange&&Q._f.onChange(M);const bo=T(B,Ye,Tt),ul=!tn(bo)||So;if(!Tt&&p.state.next({name:B,type:M.type,values:Ht(s)}),bs)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Tt&&x():Tt||x()),ul&&p.state.next({name:B,...So?{}:bo});if(!Tt&&So&&p.state.next({...n}),e.resolver){const{errors:Dc}=await S([B]);if(K(Ye),te){const yp=eT(n.errors,r,B),Io=eT(Dc,r,yp.name||B);oe=Io.error,B=Io.name,ke=tn(Dc)}}else y([B],!0),oe=(await nT(Q,a.disabled,s,v,e.shouldUseNativeValidation))[B],y([B]),K(Ye),te&&(oe?ke=!1:(d.isValid||f.isValid)&&(ke=await O(r,!0)));te&&(Q._f.deps&&ne(Q._f.deps),E(B,ke,oe,bo))}},J=(M,F)=>{if(le(n.errors,F)&&M.focus)return M.focus(),1},ne=async(M,F={})=>{let B,te;const Q=du(M);if(e.resolver){const K=await R(pt(M)?M:Q);B=tn(K),te=M?!Q.some(oe=>le(K,oe)):B}else M?(te=(await Promise.all(Q.map(async K=>{const oe=le(r,K);return await O(oe&&oe._f?{[K]:oe}:oe)}))).every(Boolean),!(!te&&!n.isValid)&&x()):te=B=await O(r);return p.state.next({...!Er(M)||(d.isValid||f.isValid)&&B!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:B}:{},errors:n.errors}),F.shouldFocus&&!te&&fu(r,J,M?Q:a.mount),te},he=M=>{const F={...o.mount?s:i};return pt(M)?F:Er(M)?le(F,M):M.map(B=>le(F,B))},Se=(M,F)=>({invalid:!!le((F||n).errors,M),isDirty:!!le((F||n).dirtyFields,M),error:le((F||n).errors,M),isValidating:!!le(n.validatingFields,M),isTouched:!!le((F||n).touchedFields,M)}),Ze=M=>{M&&du(M).forEach(F=>_t(n.errors,F)),p.state.next({errors:M?n.errors:{}})},ft=(M,F,B)=>{const te=(le(r,M,{_f:{}})._f||{}).ref,Q=le(n.errors,M)||{},{ref:K,message:oe,type:ke,...Ye}=Q;je(n.errors,M,{...Ye,...F,ref:te}),p.state.next({name:M,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&te&&te.focus&&te.focus()},vt=(M,F)=>Jn(M)?p.state.subscribe({next:B=>M(W(void 0,F),B)}):W(M,F,!0),it=M=>p.state.subscribe({next:F=>{HB(M.name,F.name,M.exact)&&WB(F,M.formState||d,Ur,M.reRenderRoot)&&M.callback({values:{...s},...n,...F})}}).unsubscribe,Vr=M=>(o.mount=!0,f={...f,...M.formState},it({...M,formState:f})),xt=(M,F={})=>{for(const B of M?du(M):a.mount)a.mount.delete(B),a.array.delete(B),F.keepValue||(_t(r,B),_t(s,B)),!F.keepError&&_t(n.errors,B),!F.keepDirty&&_t(n.dirtyFields,B),!F.keepTouched&&_t(n.touchedFields,B),!F.keepIsValidating&&_t(n.validatingFields,B),!e.shouldUnregister&&!F.keepDefaultValue&&_t(i,B);p.state.next({values:Ht(s)}),p.state.next({...n,...F.keepDirty?{isDirty:A()}:{}}),!F.keepIsValid&&x()},wn=({disabled:M,name:F})=>{(pr(M)&&o.mount||M||a.disabled.has(F))&&(M?a.disabled.add(F):a.disabled.delete(F))},Bn=(M,F={})=>{let B=le(r,M);const te=pr(F.disabled)||pr(e.disabled);return je(r,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...F}}),a.mount.add(M),B?wn({disabled:pr(F.disabled)?F.disabled:e.disabled,name:M}):L(M,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Ml(F.min),max:Ml(F.max),minLength:Ml(F.minLength),maxLength:Ml(F.maxLength),pattern:Ml(F.pattern)}:{},name:M,onChange:$,onBlur:$,ref:Q=>{if(Q){Bn(M,F),B=le(r,M);const K=pt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,oe=FB(K),ke=B._f.refs||[];if(oe?ke.find(Ye=>Ye===K):K===B._f.ref)return;je(r,M,{_f:{...B._f,...oe?{refs:[...ke.filter(Lm),K,...Array.isArray(le(i,M))?[{}]:[]],ref:{type:K.type,name:M}}:{ref:K}}}),L(M,!1,void 0,K)}else B=le(r,M,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(DB(a.array,M)&&o.action)&&a.unMount.add(M)}}},Fr=()=>e.shouldFocusError&&fu(r,J,a.mount),Wn=M=>{pr(M)&&(p.state.next({disabled:M}),fu(r,(F,B)=>{const te=le(r,B);te&&(F.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(Q=>{Q.disabled=te._f.disabled||M}))},0,!1))},jr=(M,F)=>async B=>{let te;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let Q=Ht(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:oe}=await S();n.errors=K,Q=oe}else await O(r);if(a.disabled.size)for(const K of a.disabled)je(Q,K,void 0);if(_t(n.errors,"root"),tn(n.errors)){p.state.next({errors:{}});try{await M(Q,B)}catch(K){te=K}}else F&&await F({...n.errors},B),Fr(),setTimeout(Fr);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Ts=(M,F={})=>{le(r,M)&&(pt(F.defaultValue)?j(M,Ht(le(i,M))):(j(M,F.defaultValue),je(i,M,Ht(F.defaultValue))),F.keepTouched||_t(n.touchedFields,M),F.keepDirty||(_t(n.dirtyFields,M),n.isDirty=F.defaultValue?A(M,Ht(le(i,M))):A()),F.keepError||(_t(n.errors,M),d.isValid&&x()),p.state.next({...n}))},Ss=(M,F={})=>{const B=M?Ht(M):i,te=Ht(B),Q=tn(M),K=Q?i:te;if(F.keepDefaultValues||(i=B),!F.keepValues){if(F.keepDirtyValues){const oe=new Set([...a.mount,...Object.keys(Dl(i,s))]);for(const ke of Array.from(oe))le(n.dirtyFields,ke)?je(K,ke,le(s,ke)):j(ke,le(K,ke))}else{if(r_&&pt(M))for(const oe of a.mount){const ke=le(r,oe);if(ke&&ke._f){const Ye=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(rh(Ye)){const Tt=Ye.closest("form");if(Tt){Tt.reset();break}}}}for(const oe of a.mount)j(oe,le(K,oe))}s=Ht(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:Q?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Li(M,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Q?{}:F.keepDirtyValues?F.keepDefaultValues&&s?Dl(i,s):n.dirtyFields:F.keepDefaultValues&&M?Dl(i,M):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},To=(M,F)=>Ss(Jn(M)?M(s):M,F),al=(M,F={})=>{const B=le(r,M),te=B&&B._f;if(te){const Q=te.refs?te.refs[0]:te.ref;Q.focus&&(Q.focus(),F.shouldSelect&&Jn(Q.select)&&Q.select())}},Ur=M=>{n={...n,...M}},ll={control:{register:Bn,unregister:xt,getFieldState:Se,handleSubmit:jr,setError:ft,_subscribe:it,_runSchema:S,_getWatch:W,_getDirty:A,_setValid:x,_setFieldArray:C,_setDisabledField:wn,_setErrors:D,_getFieldArray:se,_reset:Ss,_resetDefaultValues:()=>Jn(e.defaultValues)&&e.defaultValues().then(M=>{To(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:Wn,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:Vr,trigger:ne,register:Bn,handleSubmit:jr,watch:vt,setValue:j,getValues:he,reset:To,resetField:Ts,clearErrors:Ze,unregister:xt,setError:ft,setFocus:al,getFieldState:Se};return{...ll,formControl:ll}}function YB(t={}){const e=$e.useRef(void 0),n=$e.useRef(void 0),[r,i]=$e.useState({isDirty:!1,isValidating:!1,isLoading:Jn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Jn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:ZB(t),formState:r},t.formControl&&t.defaultValues&&!Jn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,$e.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),$e.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),$e.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),$e.useEffect(()=>{t.values&&!Li(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),$e.useEffect(()=>{t.errors&&!tn(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),$e.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),$e.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=LB(r,s),e.current}const rT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},L2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?rT(r.ref,n,t):r.refs&&r.refs.forEach(i=>rT(i,n,t))}},XB=(t,e)=>{e.shouldUseNativeValidation&&L2(t,e);const n={};for(const r in t){const i=le(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(JB(e.names||Object.keys(t),r)){const o=Object.assign({},le(n,r));je(o,"root",s),je(n,r,o)}else je(n,r,s)}return n},JB=(t,e)=>t.some(n=>n.startsWith(e+"."));var eW=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=k2(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},tW=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&L2({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:XB(eW(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Oe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Oe||(Oe={}));var by;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(by||(by={}));const re=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qr=t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},G=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=t=>new Rn(t);const Wa=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Oe.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Oe.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Oe.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Oe.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Oe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,Oe.assertNever(t)}return{message:n}};let V2=Wa;function rW(t){V2=t}function oh(){return V2}const ah=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},iW=[];function ee(t,e){const n=oh(),r=ah({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wa?void 0:Wa].filter(i=>!!i)});t.common.issues.push(r)}class Xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Xt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ge=Object.freeze({status:"aborted"}),na=t=>({status:"dirty",value:t}),ln=t=>({status:"valid",value:t}),Iy=t=>t.status==="aborted",Cy=t=>t.status==="dirty",uo=t=>t.status==="valid",Gu=t=>typeof Promise<"u"&&t instanceof Promise;function lh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function F2(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));var Hl,Kl;class Dr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iT=(t,e)=>{if(uo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Ie{get description(){return this._def.description}_getType(e){return Qr(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xt,ctx:{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Gu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},s=this._parseSync({data:e,path:i.path,parent:i});return iT(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return uo(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>uo(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Gu(i)?i:Promise.resolve(i));return iT(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:G.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new cr({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return kr.create(this,this._def)}nullable(){return ys.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ir.create(this)}promise(){return Ka.create(this,this._def)}or(e){return Xu.create([this,e],this._def)}and(e){return Ju.create(this,e,this._def)}transform(e){return new cr({...Te(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ic({...Te(this._def),innerType:this,defaultValue:n,typeName:me.ZodDefault})}brand(){return new a_({typeName:me.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new sc({...Te(this._def),innerType:this,catchValue:n,typeName:me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nc.create(this,e)}readonly(){return oc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sW=/^c[^\s-]{8,}$/i,oW=/^[0-9a-z]+$/,aW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uW=/^[a-z0-9_-]{21}$/i,cW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vm;const pW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_W=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,j2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wW=new RegExp(`^${j2}$`);function U2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function EW(t){return new RegExp(`^${U2(t)}$`)}function $2(t){let e=`${j2}T${U2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function xW(t,e){return!!((e==="v4"||!e)&&pW.test(t)||(e==="v6"||!e)&&gW.test(t))}function TW(t,e){if(!cW.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function SW(t,e){return!!((e==="v4"||!e)&&mW.test(t)||(e==="v6"||!e)&&yW.test(t))}class er extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const s=this._getOrReturnCtx(e);return ee(s,{code:G.invalid_type,expected:re.string,received:s.parsedType}),ge}const r=new Xt;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ee(i,{code:G.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ee(i,{code:G.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")fW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"email",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Vm||(Vm=new RegExp(hW,"u")),Vm.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"emoji",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")lW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"uuid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")uW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"nanoid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")sW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")oW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid2",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")aW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ulid",code:G.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ee(i,{validation:"url",code:G.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"regex",code:G.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?$2(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?wW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?EW(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:G.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?dW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"duration",code:G.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?xW(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ip",code:G.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?TW(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"jwt",code:G.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?SW(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cidr",code:G.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?vW.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64",code:G.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?_W.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64url",code:G.invalid_string,message:s.message}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:G.invalid_string,...de.errToObj(r)})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new er({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new er({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new er({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}er.create=t=>{var e;return new er({checks:[],typeName:me.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function bW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ps extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const s=this._getOrReturnCtx(e);return ee(s,{code:G.invalid_type,expected:re.number,received:s.parsedType}),ge}let r;const i=new Xt;for(const s of this._def.checks)s.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:G.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?bW(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:G.not_finite,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,i){return new ps({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(i)}]})}_addCheck(e){return new ps({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ps.create=t=>new ps({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class ms extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let r;const i=new Xt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:G.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Oe.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ee(n,{code:G.invalid_type,expected:re.bigint,received:n.parsedType}),ge}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,i){return new ms({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(i)}]})}_addCheck(e){return new ms({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ms.create=t=>{var e;return new ms({checks:[],typeName:me.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class Qu extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.boolean,received:r.parsedType}),ge}return ln(e.data)}}Qu.create=t=>new Qu({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class co extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const s=this._getOrReturnCtx(e);return ee(s,{code:G.invalid_type,expected:re.date,received:s.parsedType}),ge}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ee(s,{code:G.invalid_date}),ge}const r=new Xt;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:G.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:G.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Oe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new co({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}co.create=t=>new co({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,...Te(t)});class uh extends Ie{_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.symbol,received:r.parsedType}),ge}return ln(e.data)}}uh.create=t=>new uh({typeName:me.ZodSymbol,...Te(t)});class Zu extends Ie{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.undefined,received:r.parsedType}),ge}return ln(e.data)}}Zu.create=t=>new Zu({typeName:me.ZodUndefined,...Te(t)});class Yu extends Ie{_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.null,received:r.parsedType}),ge}return ln(e.data)}}Yu.create=t=>new Yu({typeName:me.ZodNull,...Te(t)});class Ha extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return ln(e.data)}}Ha.create=t=>new Ha({typeName:me.ZodAny,...Te(t)});class Qs extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ln(e.data)}}Qs.create=t=>new Qs({typeName:me.ZodUnknown,...Te(t)});class gi extends Ie{_parse(e){const n=this._getOrReturnCtx(e);return ee(n,{code:G.invalid_type,expected:re.never,received:n.parsedType}),ge}}gi.create=t=>new gi({typeName:me.ZodNever,...Te(t)});class ch extends Ie{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.void,received:r.parsedType}),ge}return ln(e.data)}}ch.create=t=>new ch({typeName:me.ZodVoid,...Te(t)});class ir extends Ie{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==re.array)return ee(n,{code:G.invalid_type,expected:re.array,received:n.parsedType}),ge;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ee(n,{code:o?G.too_big:G.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ee(n,{code:G.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ee(n,{code:G.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Dr(n,o,n.path,a)))).then(o=>Xt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Dr(n,o,n.path,a)));return Xt.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ir({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new ir({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new ir({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}ir.create=(t,e)=>new ir({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...Te(e)});function zo(t){if(t instanceof Xe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=kr.create(zo(r))}return new Xe({...t._def,shape:()=>e})}else return t instanceof ir?new ir({...t._def,type:zo(t.element)}):t instanceof kr?kr.create(zo(t.unwrap())):t instanceof ys?ys.create(zo(t.unwrap())):t instanceof Mr?Mr.create(t.items.map(e=>zo(e))):t}class Xe extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Oe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==re.object){const c=this._getOrReturnCtx(e);return ee(c,{code:G.invalid_type,expected:re.object,received:c.parsedType}),ge}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof gi&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Dr(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof gi){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(ee(i,{code:G.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Dr(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,p=await d.value;c.push({key:f,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>Xt.mergeObjectSync(r,c)):Xt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const n={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Xe({...this._def,shape:()=>n})}omit(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Xe({...this._def,shape:()=>n})}deepPartial(){return zo(this)}partial(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Xe({...this._def,shape:()=>n})}required(e){const n={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof kr;)s=s._def.innerType;n[r]=s}}),new Xe({...this._def,shape:()=>n})}keyof(){return z2(Oe.objectKeys(this.shape))}}Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:gi.create(),typeName:me.ZodObject,...Te(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:gi.create(),typeName:me.ZodObject,...Te(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:gi.create(),typeName:me.ZodObject,...Te(e)});class Xu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Rn(a.ctx.common.issues));return ee(n,{code:G.invalid_union,unionErrors:o}),ge}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Rn(l));return ee(n,{code:G.invalid_union,unionErrors:a}),ge}}get options(){return this._def.options}}Xu.create=(t,e)=>new Xu({options:t,typeName:me.ZodUnion,...Te(e)});const Kr=t=>t instanceof tc?Kr(t.schema):t instanceof cr?Kr(t.innerType()):t instanceof nc?[t.value]:t instanceof gs?t.options:t instanceof rc?Oe.objectValues(t.enum):t instanceof ic?Kr(t._def.innerType):t instanceof Zu?[void 0]:t instanceof Yu?[null]:t instanceof kr?[void 0,...Kr(t.unwrap())]:t instanceof ys?[null,...Kr(t.unwrap())]:t instanceof a_||t instanceof oc?Kr(t.unwrap()):t instanceof sc?Kr(t._def.innerType):[];class gp extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.object)return ee(n,{code:G.invalid_type,expected:re.object,received:n.parsedType}),ge;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ee(n,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Kr(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new gp({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Te(r)})}}function Ay(t,e){const n=Qr(t),r=Qr(e);if(t===e)return{valid:!0,data:t};if(n===re.object&&r===re.object){const i=Oe.objectKeys(e),s=Oe.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Ay(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===re.array&&r===re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Ay(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===re.date&&r===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ju extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Iy(s)||Iy(o))return ge;const a=Ay(s.value,o.value);return a.valid?((Cy(s)||Cy(o))&&n.dirty(),{status:n.value,value:a.data}):(ee(r,{code:G.invalid_intersection_types}),ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ju.create=(t,e,n)=>new Ju({left:t,right:e,typeName:me.ZodIntersection,...Te(n)});class Mr extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return ee(r,{code:G.invalid_type,expected:re.array,received:r.parsedType}),ge;if(r.data.length<this._def.items.length)return ee(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&r.data.length>this._def.items.length&&(ee(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Dr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Xt.mergeArray(n,o)):Xt.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Mr({...this._def,rest:e})}}Mr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mr({items:t,typeName:me.ZodTuple,rest:null,...Te(e)})};class ec extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.object)return ee(r,{code:G.invalid_type,expected:re.object,received:r.parsedType}),ge;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Dr(r,a,r.path,a)),value:o._parse(new Dr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Xt.mergeObjectAsync(n,i):Xt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ie?new ec({keyType:e,valueType:n,typeName:me.ZodRecord,...Te(r)}):new ec({keyType:er.create(),valueType:e,typeName:me.ZodRecord,...Te(n)})}}class dh extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return ee(r,{code:G.invalid_type,expected:re.map,received:r.parsedType}),ge;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Dr(r,a,r.path,[c,"key"])),value:s._parse(new Dr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return ge;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return ge;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}dh.create=(t,e,n)=>new dh({valueType:e,keyType:t,typeName:me.ZodMap,...Te(n)});class fo extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return ee(r,{code:G.invalid_type,expected:re.set,received:r.parsedType}),ge;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ee(r,{code:G.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ee(r,{code:G.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return ge;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Dr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new fo({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new fo({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fo.create=(t,e)=>new fo({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,...Te(e)});class ga extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.function)return ee(n,{code:G.invalid_type,expected:re.function,received:n.parsedType}),ge;function r(a,l){return ah({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oh(),Wa].filter(c=>!!c),issueData:{code:G.invalid_arguments,argumentsError:l}})}function i(a,l){return ah({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,oh(),Wa].filter(c=>!!c),issueData:{code:G.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ka){const a=this;return ln(async function(...l){const c=new Rn([]),d=await a._def.args.parseAsync(l,s).catch(g=>{throw c.addIssue(r(l,g)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(g=>{throw c.addIssue(i(f,g)),c})})}else{const a=this;return ln(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Rn([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new Rn([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ga({...this._def,args:Mr.create(e).rest(Qs.create())})}returns(e){return new ga({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ga({args:e||Mr.create([]).rest(Qs.create()),returns:n||Qs.create(),typeName:me.ZodFunction,...Te(r)})}}class tc extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tc.create=(t,e)=>new tc({getter:t,typeName:me.ZodLazy,...Te(e)});class nc extends Ie{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ee(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}nc.create=(t,e)=>new nc({value:t,typeName:me.ZodLiteral,...Te(e)});function z2(t,e){return new gs({values:t,typeName:me.ZodEnum,...Te(e)})}class gs extends Ie{constructor(){super(...arguments),Hl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{expected:Oe.joinValues(r),received:n.parsedType,code:G.invalid_type}),ge}if(lh(this,Hl)||F2(this,Hl,new Set(this._def.values)),!lh(this,Hl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{received:n.data,code:G.invalid_enum_value,options:r}),ge}return ln(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return gs.create(e,{...this._def,...n})}exclude(e,n=this._def){return gs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Hl=new WeakMap;gs.create=z2;class rc extends Ie{constructor(){super(...arguments),Kl.set(this,void 0)}_parse(e){const n=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const i=Oe.objectValues(n);return ee(r,{expected:Oe.joinValues(i),received:r.parsedType,code:G.invalid_type}),ge}if(lh(this,Kl)||F2(this,Kl,new Set(Oe.getValidEnumValues(this._def.values))),!lh(this,Kl).has(e.data)){const i=Oe.objectValues(n);return ee(r,{received:r.data,code:G.invalid_enum_value,options:i}),ge}return ln(e.data)}get enum(){return this._def.values}}Kl=new WeakMap;rc.create=(t,e)=>new rc({values:t,typeName:me.ZodNativeEnum,...Te(e)});class Ka extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.promise&&n.common.async===!1)return ee(n,{code:G.invalid_type,expected:re.promise,received:n.parsedType}),ge;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return ln(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ka.create=(t,e)=>new Ka({type:t,typeName:me.ZodPromise,...Te(e)});class cr extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ee(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ge;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ge:l.status==="dirty"||n.value==="dirty"?na(l.value):l});{if(n.value==="aborted")return ge;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ge:a.status==="dirty"||n.value==="dirty"?na(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ge:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ge:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uo(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>uo(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Oe.assertNever(i)}}cr.create=(t,e,n)=>new cr({schema:t,typeName:me.ZodEffects,effect:e,...Te(n)});cr.createWithPreprocess=(t,e,n)=>new cr({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,...Te(n)});class kr extends Ie{_parse(e){return this._getType(e)===re.undefined?ln(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kr.create=(t,e)=>new kr({innerType:t,typeName:me.ZodOptional,...Te(e)});class ys extends Ie{_parse(e){return this._getType(e)===re.null?ln(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ys.create=(t,e)=>new ys({innerType:t,typeName:me.ZodNullable,...Te(e)});class ic extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ic.create=(t,e)=>new ic({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class sc extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gu(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}sc.create=(t,e)=>new sc({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class fh extends Ie{_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return ee(r,{code:G.invalid_type,expected:re.nan,received:r.parsedType}),ge}return{status:"valid",value:e.data}}}fh.create=t=>new fh({typeName:me.ZodNaN,...Te(t)});const IW=Symbol("zod_brand");class a_ extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nc extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ge:s.status==="dirty"?(n.dirty(),na(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ge:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Nc({in:e,out:n,typeName:me.ZodPipeline})}}class oc extends Ie{_parse(e){const n=this._def.innerType._parse(e),r=i=>(uo(i)&&(i.value=Object.freeze(i.value)),i);return Gu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}oc.create=(t,e)=>new oc({innerType:t,typeName:me.ZodReadonly,...Te(e)});function sT(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function B2(t,e={},n){return t?Ha.create().superRefine((r,i)=>{var s,o;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,d;if(!l){const f=sT(e,r),p=(d=(c=f.fatal)!==null&&c!==void 0?c:n)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...f,fatal:p})}});if(!a){const l=sT(e,r),c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...l,fatal:c})}}):Ha.create()}const CW={object:Xe.lazycreate};var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const AW=(t,e={message:`Input not instance of ${t.name}`})=>B2(n=>n instanceof t,e),W2=er.create,H2=ps.create,kW=fh.create,RW=ms.create,K2=Qu.create,PW=co.create,NW=uh.create,OW=Zu.create,DW=Yu.create,MW=Ha.create,LW=Qs.create,VW=gi.create,FW=ch.create,jW=ir.create,UW=Xe.create,$W=Xe.strictCreate,zW=Xu.create,BW=gp.create,WW=Ju.create,HW=Mr.create,KW=ec.create,qW=dh.create,GW=fo.create,QW=ga.create,ZW=tc.create,YW=nc.create,XW=gs.create,JW=rc.create,eH=Ka.create,oT=cr.create,tH=kr.create,nH=ys.create,rH=cr.createWithPreprocess,iH=Nc.create,sH=()=>W2().optional(),oH=()=>H2().optional(),aH=()=>K2().optional(),lH={string:t=>er.create({...t,coerce:!0}),number:t=>ps.create({...t,coerce:!0}),boolean:t=>Qu.create({...t,coerce:!0}),bigint:t=>ms.create({...t,coerce:!0}),date:t=>co.create({...t,coerce:!0})},uH=ge;var Ad=Object.freeze({__proto__:null,defaultErrorMap:Wa,setErrorMap:rW,getErrorMap:oh,makeIssue:ah,EMPTY_PATH:iW,addIssueToContext:ee,ParseStatus:Xt,INVALID:ge,DIRTY:na,OK:ln,isAborted:Iy,isDirty:Cy,isValid:uo,isAsync:Gu,get util(){return Oe},get objectUtil(){return by},ZodParsedType:re,getParsedType:Qr,ZodType:Ie,datetimeRegex:$2,ZodString:er,ZodNumber:ps,ZodBigInt:ms,ZodBoolean:Qu,ZodDate:co,ZodSymbol:uh,ZodUndefined:Zu,ZodNull:Yu,ZodAny:Ha,ZodUnknown:Qs,ZodNever:gi,ZodVoid:ch,ZodArray:ir,ZodObject:Xe,ZodUnion:Xu,ZodDiscriminatedUnion:gp,ZodIntersection:Ju,ZodTuple:Mr,ZodRecord:ec,ZodMap:dh,ZodSet:fo,ZodFunction:ga,ZodLazy:tc,ZodLiteral:nc,ZodEnum:gs,ZodNativeEnum:rc,ZodPromise:Ka,ZodEffects:cr,ZodTransformer:cr,ZodOptional:kr,ZodNullable:ys,ZodDefault:ic,ZodCatch:sc,ZodNaN:fh,BRAND:IW,ZodBranded:a_,ZodPipeline:Nc,ZodReadonly:oc,custom:B2,Schema:Ie,ZodSchema:Ie,late:CW,get ZodFirstPartyTypeKind(){return me},coerce:lH,any:MW,array:jW,bigint:RW,boolean:K2,date:PW,discriminatedUnion:BW,effect:oT,enum:XW,function:QW,instanceof:AW,intersection:WW,lazy:ZW,literal:YW,map:qW,nan:kW,nativeEnum:JW,never:VW,null:DW,nullable:nH,number:H2,object:UW,oboolean:aH,onumber:oH,optional:tH,ostring:sH,pipeline:iH,preprocess:rH,promise:eH,record:KW,set:GW,strictObject:$W,string:W2,symbol:NW,transformer:oT,tuple:HW,undefined:OW,union:zW,unknown:LW,void:FW,NEVER:uH,ZodIssueCode:G,quotelessJson:nW,ZodError:Rn});const ky=b.forwardRef(({className:t,type:e,...n},r)=>w.jsx("input",{type:e,className:kt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ky.displayName="Input";const q2=b.forwardRef(({className:t,...e},n)=>w.jsx("textarea",{className:kt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));q2.displayName="Textarea";const cH=Ad.object({name:Ad.string().min(1,"Name is required"),email:Ad.string().email("Please enter a valid email address"),message:Ad.string().min(10,"Message must be at least 10 characters long")});function dH(){const{toast:t}=Yb(),[e,n]=b.useState(!1),{t:r}=vi(),{register:i,handleSubmit:s,reset:o,formState:{errors:a}}=YB({resolver:tW(cH)}),l=qD({mutationFn:async d=>kB(d),onSuccess:()=>{t({title:r("contact.form.success"),description:r("contact.form.success_description")}),o(),n(!1)},onError:d=>{t({title:r("contact.form.error"),description:d.message||r("contact.form.error_description"),variant:"destructive"}),n(!1)}}),c=async d=>{n(!0),l.mutate(d)};return w.jsx("section",{id:"contact",className:"py-20 px-6 bg-secondary",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[w.jsx(J4,{className:"inline mr-3 text-primary"}),r("contact.title")]}),w.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:r("contact.subtitle")})]}),w.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[w.jsxs("div",{className:"bg-card rounded-xl p-8 border border-border card-hover-effect",children:[w.jsx("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:r("contact.form.title")}),w.jsxs("form",{onSubmit:s(c),className:"space-y-6",children:[w.jsxs("div",{className:"animate-fade-in-up",children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:r("contact.form.name")}),w.jsx(ky,{...i("name"),placeholder:r("contact.form.name_placeholder"),className:"bg-secondary border-border focus:border-primary hover-glow transition-all duration-300"}),a.name&&w.jsx("p",{className:"text-destructive text-sm mt-1",children:a.name.message})]}),w.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.1s"},children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:r("contact.form.email")}),w.jsx(ky,{type:"email",...i("email"),placeholder:r("contact.form.email_placeholder"),className:"bg-secondary border-border focus:border-primary hover-glow transition-all duration-300"}),a.email&&w.jsx("p",{className:"text-destructive text-sm mt-1",children:a.email.message})]}),w.jsxs("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s"},children:[w.jsx("label",{className:"block text-sm font-medium mb-2",children:r("contact.form.message")}),w.jsx(q2,{...i("message"),rows:5,placeholder:r("contact.form.message_placeholder"),className:"bg-secondary border-border focus:border-primary resize-none hover-glow transition-all duration-300"}),a.message&&w.jsx("p",{className:"text-destructive text-sm mt-1",children:a.message.message})]}),w.jsx(Gv,{type:"submit",disabled:e,className:"w-full bg-gradient-to-r from-primary to-blue-500 hover:from-primary/90 hover:to-blue-500/90 text-primary-foreground font-semibold py-3 transition-all duration-300 hover:scale-105 hover-glow animate-fade-in-up",style:{animationDelay:"0.3s"},children:r(e?"contact.form.submitting":"contact.form.submit")})]})]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"bg-card rounded-xl p-8 border border-border card-hover-effect",children:[w.jsx("h3",{className:"text-2xl font-bold mb-6 text-gradient",children:r("contact.info.title")}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg bg-secondary/50 hover:bg-secondary transition-all duration-300 hover-glow animate-fade-in-up",children:[w.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary to-blue-500 rounded-lg flex items-center justify-center animate-pulse-slow",children:w.jsx(Vg,{className:"text-primary-foreground text-xl"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-gradient",children:r("contact.info.email")}),w.jsx("p",{className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:"vincent.jin@icloud.com"})]})]}),w.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg bg-secondary/50 hover:bg-secondary transition-all duration-300 hover-glow animate-fade-in-up",style:{animationDelay:"0.1s"},children:[w.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary to-blue-500 rounded-lg flex items-center justify-center animate-pulse-slow",children:w.jsx(CI,{className:"text-primary-foreground text-xl"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-gradient",children:r("contact.info.location")}),w.jsx("p",{className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:r("contact.info.location_value")})]})]})]})]}),w.jsxs("div",{className:"bg-card rounded-xl p-8 border border-border card-hover-effect",children:[w.jsx("h3",{className:"text-xl font-bold mb-6 text-gradient",children:r("contact.info.follow")}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/Vincentkovsky",className:"w-12 h-12 bg-secondary hover:bg-gradient-to-r hover:from-primary hover:to-blue-500 border border-border hover:border-primary rounded-lg flex items-center justify-center transition-all duration-300 group hover:scale-110 hover-glow animate-fade-in-up",children:w.jsx(Lv,{className:"text-xl group-hover:text-primary-foreground transition-colors duration-300"})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/wenzheng-jin/",className:"w-12 h-12 bg-secondary hover:bg-gradient-to-r hover:from-primary hover:to-blue-500 border border-border hover:border-primary rounded-lg flex items-center justify-center transition-all duration-300 group hover:scale-110 hover-glow animate-fade-in-up",style:{animationDelay:"0.1s"},children:w.jsx(II,{className:"text-xl group-hover:text-primary-foreground transition-colors duration-300"})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"https://x.com/crypto_kk3",className:"w-12 h-12 bg-secondary hover:bg-gradient-to-r hover:from-primary hover:to-blue-500 border border-border hover:border-primary rounded-lg flex items-center justify-center transition-all duration-300 group hover:scale-110 hover-glow animate-fade-in-up",style:{animationDelay:"0.2s"},children:w.jsx(eM,{className:"text-xl group-hover:text-primary-foreground transition-colors duration-300"})}),w.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:"mailto:vincent.jin6@icloud.com",className:"w-12 h-12 bg-secondary hover:bg-gradient-to-r hover:from-primary hover:to-blue-500 border border-border hover:border-primary rounded-lg flex items-center justify-center transition-all duration-300 group hover:scale-110 hover-glow animate-fade-in-up",style:{animationDelay:"0.3s"},children:w.jsx(Vg,{className:"text-xl group-hover:text-primary-foreground transition-colors duration-300"})})]})]})]})]})]})})}function aT(){const{t}=vi();return w.jsxs("div",{className:"min-h-screen bg-background",children:[w.jsx(iF,{}),w.jsxs("main",{children:[w.jsx(oF,{}),w.jsx(EF,{}),w.jsx(bF,{}),w.jsx(PB,{}),w.jsx(dH,{})]}),w.jsx("footer",{className:"py-12 px-6 border-t border-border",children:w.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[w.jsx("p",{className:"text-muted-foreground mb-4",children:t("footer.rights")}),w.jsx("p",{className:"text-sm text-muted-foreground",children:t("footer.built")})]})})]})}function fH(){return w.jsxs(_D,{children:[w.jsx(p1,{path:"/",component:aT}),w.jsx(p1,{path:"/portfolio",component:aT})]})}function hH(){return w.jsx(WD,{client:GD,children:w.jsxs(f3,{children:[w.jsx(jM,{}),w.jsx(fH,{})]})})}function pH(){const t=new URL(window.location.href),e=t.searchParams.get("redirect");if(e){const n=e;t.searchParams.delete("redirect");const r=t.searchParams.toString();let i=n;r&&(i+=`?${r}`),i+=t.hash,console.log(`Redirecting from 404.html. Original path: ${e}, New URL: ${i}`),window.history.replaceState(null,document.title,i)}}function mH(){const e=new URL(window.location.href).searchParams.get("lang");e&&(e==="en"||e==="zh")&&(console.log(`Setting language from URL parameter: ${e}`),ze.changeLanguage(e))}pH();mH();const gH=()=>(b.useEffect(()=>{const t=e=>{document.documentElement.lang=e,console.log(`Language changed to: ${e}`)};return ze.on("languageChanged",t),document.documentElement.lang=ze.language,()=>{ze.off("languageChanged",t)}},[]),w.jsx(PV,{children:w.jsx(hH,{})}));Fm.createRoot(document.getElementById("root")).render(w.jsx($e.StrictMode,{children:w.jsx(gH,{})}));
